(this["webpackJsonpcontent-validation-app"]=this["webpackJsonpcontent-validation-app"]||[]).push([[0],{34:function(e){e.exports=JSON.parse('[{"id":"gen","title":"Genesis","usfm":"01-GEN","testament":"old","verseCount":1533,"chapters":[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{"id":"exo","title":"Exodus","usfm":"02-EXO","testament":"old","verseCount":1213,"chapters":[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{"id":"lev","title":"Leviticus","usfm":"03-LEV","testament":"old","verseCount":859,"chapters":[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{"id":"num","title":"Numbers","usfm":"04-NUM","testament":"old","verseCount":1288,"chapters":[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{"id":"deu","title":"Deuteronomy","usfm":"05-DEU","testament":"old","verseCount":959,"chapters":[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{"id":"jos","title":"Joshua","usfm":"06-JOS","testament":"old","verseCount":658,"chapters":[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{"id":"jdg","title":"Judges","usfm":"07-JDJ","testament":"old","verseCount":618,"chapters":[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{"id":"rut","title":"Ruth","usfm":"08-RUT","testament":"old","verseCount":85,"chapters":[22,23,18,22]},{"id":"1sa","title":"1 Samuel","usfm":"09-1SA","testament":"old","verseCount":810,"chapters":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{"id":"2sa","title":"2 Samuel","usfm":"10-2SA","testament":"old","verseCount":695,"chapters":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{"id":"1ki","title":"1 Kings","usfm":"11-1KI","testament":"old","verseCount":816,"chapters":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{"id":"2ki","title":"2 Kings","usfm":"12-2KI","testament":"old","verseCount":719,"chapters":[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{"id":"1ch","title":"1 Chronicles","usfm":"13-1CH","testament":"old","verseCount":942,"chapters":[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{"id":"2ch","title":"2 Chronicles","usfm":"14-2CH","testament":"old","verseCount":822,"chapters":[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{"id":"ezr","title":"Ezra","usfm":"15-EZR","testament":"old","verseCount":280,"chapters":[11,70,13,24,17,22,28,36,15,44]},{"id":"neh","title":"Nehemiah","usfm":"16-NEH","testament":"old","verseCount":406,"chapters":[11,20,32,23,19,19,73,18,38,39,36,47,31]},{"id":"est","title":"Esther","usfm":"17-EST","testament":"old","verseCount":167,"chapters":[22,23,15,17,14,14,10,17,32,3]},{"id":"job","title":"Job","usfm":"18-JOB","testament":"old","verseCount":1070,"chapters":[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{"id":"psa","title":"Psalms","usfm":"19-PSA","testament":"old","verseCount":2461,"chapters":[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{"id":"pro","title":"Proverbs","usfm":"20-PRO","testament":"old","verseCount":915,"chapters":[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{"id":"ecc","title":"Ecclesiastes","usfm":"21-ECC","testament":"old","verseCount":222,"chapters":[18,26,22,16,20,12,29,17,18,20,10,14]},{"id":"sng","title":"Song of Songs","usfm":"22-SNG","testament":"old","verseCount":117,"chapters":[17,17,11,16,16,13,13,14]},{"id":"isa","title":"Isaiah","usfm":"23-ISA","testament":"old","verseCount":1292,"chapters":[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{"id":"jer","title":"Jermiah","usfm":"24-JER","testament":"old","verseCount":1364,"chapters":[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{"id":"lam","title":"Lamentations","usfm":"25-LAM","testament":"old","verseCount":154,"chapters":[22,22,66,22,22]},{"id":"ezk","title":"Ezekiel","usfm":"26-EZK","testament":"old","verseCount":1273,"chapters":[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{"id":"dan","title":"Daniel","usfm":"27-DAN","testament":"old","verseCount":357,"chapters":[21,49,30,37,31,28,28,27,27,21,45,13]},{"id":"hos","title":"Hosea","usfm":"28-HOS","testament":"old","verseCount":197,"chapters":[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{"id":"jol","title":"Joel","usfm":"29-JOL","testament":"old","verseCount":73,"chapters":[20,32,21]},{"id":"amo","title":"Amos","usfm":"30-AMO","testament":"old","verseCount":146,"chapters":[15,16,15,13,27,14,17,14,15]},{"id":"oba","title":"Obadiah","usfm":"31-OBA","testament":"old","verseCount":21,"chapters":[21]},{"id":"jon","title":"Jonah","usfm":"32-JON","testament":"old","verseCount":48,"chapters":[17,10,10,11]},{"id":"mic","title":"Micah","usfm":"33-MIC","testament":"old","verseCount":105,"chapters":[16,13,12,13,15,16,20]},{"id":"nam","title":"Nahum","usfm":"34-NAM","testament":"old","verseCount":47,"chapters":[15,13,19]},{"id":"hab","title":"Habakkuk","usfm":"35-HAB","testament":"old","verseCount":56,"chapters":[17,20,19]},{"id":"zep","title":"Zephaniah","usfm":"36-ZEP","testament":"old","verseCount":53,"chapters":[18,15,20]},{"id":"hag","title":"Haggai","usfm":"37-HAG","testament":"old","verseCount":38,"chapters":[15,23]},{"id":"zec","title":"Zechariah","usfm":"38-ZEC","testament":"old","verseCount":211,"chapters":[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{"id":"mal","title":"Malachi","usfm":"39-MAL","testament":"old","verseCount":55,"chapters":[14,17,18,6]},{"id":"mat","title":"Matthew","usfm":"41-MAT","testament":"new","verseCount":1071,"chapters":[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{"id":"mrk","title":"Mark","usfm":"42-MRK","testament":"new","verseCount":678,"chapters":[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{"id":"luk","title":"Luke","usfm":"43-LUK","testament":"new","verseCount":1151,"chapters":[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{"id":"jhn","title":"John","usfm":"44-JHN","testament":"new","verseCount":879,"chapters":[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{"id":"act","title":"Acts","usfm":"45-ACT","testament":"new","verseCount":1007,"chapters":[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{"id":"rom","title":"Romans","usfm":"46-ROM","testament":"new","verseCount":433,"chapters":[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{"id":"1co","title":"1 Corinthians","usfm":"47-1CO","testament":"new","verseCount":437,"chapters":[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{"id":"2co","title":"2 Corinthians","usfm":"48-2CO","testament":"new","verseCount":257,"chapters":[24,17,18,18,21,18,16,24,15,18,33,21,14]},{"id":"gal","title":"Galations","usfm":"49-GAL","testament":"new","verseCount":149,"chapters":[24,21,29,31,26,18]},{"id":"eph","title":"Ephesians","usfm":"50-EPH","testament":"new","verseCount":155,"chapters":[23,22,21,32,33,24]},{"id":"php","title":"Phillipians","usfm":"51-PHP","testament":"new","verseCount":104,"chapters":[30,30,21,23]},{"id":"col","title":"Colossians","usfm":"52-COL","testament":"new","verseCount":95,"chapters":[29,23,25,18]},{"id":"1th","title":"1 Thessalonians","usfm":"53-1TH","testament":"new","verseCount":89,"chapters":[10,20,13,18,28]},{"id":"2th","title":"2 Thessalonians","usfm":"54-2TH","testament":"new","verseCount":47,"chapters":[12,17,18]},{"id":"1ti","title":"1 Timothy","usfm":"55-1TI","testament":"new","verseCount":113,"chapters":[20,15,16,16,25,21]},{"id":"2ti","title":"2 Timothy","usfm":"56-2TI","testament":"new","verseCount":83,"chapters":[18,26,17,22]},{"id":"tit","title":"Titus","usfm":"57-TIT","testament":"new","verseCount":46,"chapters":[16,15,15]},{"id":"phm","title":"Philemon","usfm":"58-PHM","testament":"new","verseCount":25,"chapters":[25]},{"id":"heb","title":"Hebrews","usfm":"59-HEB","testament":"new","verseCount":303,"chapters":[14,18,19,16,14,20,28,13,28,39,40,29,25]},{"id":"jas","title":"James","usfm":"60-JAS","testament":"new","verseCount":108,"chapters":[27,26,18,17,20]},{"id":"1pe","title":"1 Peter","usfm":"61-1PE","testament":"new","verseCount":105,"chapters":[25,25,22,19,14]},{"id":"2pe","title":"2 Peter","usfm":"62-2PE","testament":"new","verseCount":61,"chapters":[21,22,18]},{"id":"1jn","title":"1 John","usfm":"63-1JN","testament":"new","verseCount":105,"chapters":[10,29,24,21,21]},{"id":"2jn","title":"2 John","usfm":"64-2JN","testament":"new","verseCount":13,"chapters":[13]},{"id":"3jn","title":"3 John","usfm":"65-3JN","testament":"new","verseCount":15,"chapters":[15]},{"id":"jud","title":"Jude","usfm":"66-JUD","testament":"new","verseCount":25,"chapters":[25]},{"id":"rev","title":"Revelation","usfm":"67-REV","testament":"new","verseCount":404,"chapters":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}]')},407:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=407},439:function(e,t,a){e.exports=a(625)},444:function(e,t,a){},624:function(e,t,a){e.exports=a.p+"static/media/SILEOTSR.a5284649.ttf"},625:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),s=(a(444),a(15)),i=a.n(s),l=a(105),u=a(68),p=a(27),d=a(24),f=a(3),m=a(360),h=a(359),b=a(20),g=a(124),v=a(661),k=a(659),C=a(660),y=a(398),x=a(107),w=a(638),E=a(285),O=a(288),N=a(397),j=a(287),T=a(410),F=a(655),S=a(387),L=a(284),P=a(430),R=a.n(P),I=a(80),B=a(658),D=a(242),_=a.n(D),U=a(172),W=a.n(U),A=a(34),Q=function(e){return A.filter((function(t){return t.id===e}))[0]},H=function(e){return e=e.toLowerCase(),Q(e).testament},M=function(){for(var e=[],t=0;t<A.length;t++)"new"===A[t].testament&&e.push(A[t].title);return e},J=function(){for(var e=[],t=0;t<A.length;t++)"old"===A[t].testament&&e.push(A[t].title);return e},V=function(){var e={};return function(){for(var e=[],t=0;t<A.length;t++)e.push(A[t].title);return e}().forEach((function(t,a){e[t]=[!1,!1]})),e},z=function(e){for(var t=0;t<A.length;t++)if(A[t].title===e)return A[t].id;return""},G=function(e){e=e.toLowerCase();for(var t=0;t<A.length;t++)if(A[t].id===e)return A[t].title;return""},Z=["FRT","BAK"],K=function(e){return!e||e.toLowerCase()in A||Z.indexOf(e)>=0},q=function(e){for(var t=e.toLowerCase(),a=0;a<A.length;a++)if(A[a].id===t)return!0;for(var n=e.toUpperCase(),r=0;r<Z.length;r++)if(Z[r]===n)return!0;return!1},X=function(e){e=e.toLowerCase();for(var t=0;t<A.length;t++)if(A[t].id===e)return A[t].usfm;throw new Error("usfmNumberName() given invalid bookId: '".concat(e,"'"))},Y=a(657),$=a(656),ee=a(403),te=a(663),ae=a(654),ne=a(146),re=a(64),oe=a(106),ce=a.n(oe),se=a(218),ie=a.n(se),le=a(97),ue=a.n(le),pe=a(283),de=a(223),fe=a.n(de),me=(a(291),"https://git.door43.org/"),he={hbo:{UHB:"unfoldingWord/hbo_uhb"},"el-x-koine":{UGNT:"unfoldingWord/el-x-koine_ugnt"},en:{label:"English (unfoldingWord)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"unfoldingWord/en_ta",TN:"unfoldingWord/en_tn",TW:"unfoldingWord/en_tw",TQ:"unfoldingWord/en_tq",ST:"unfoldingWord/en_ust",LT:"unfoldingWord/en_ult"},hi:{label:"Hindi (translationCore-Create-BCS)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"translationCore-Create-BCS/hi_ta",TN:"translationCore-Create-BCS/hi_tn",TW:"translationCore-Create-BCS/hi_tw",TQ:"translationCore-Create-BCS/hi_tq",ST:"translationCore-Create-BCS/hi_gst",LT:"translationCore-Create-BCS/hi_glt"},kn:{label:"Kannada (translationCore-Create-BCS)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"translationCore-Create-BCS/kn_ta",TN:"translationCore-Create-BCS/kn_tn",TW:"translationCore-Create-BCS/kn_tw",TQ:"translationCore-Create-BCS/kn_tq",ST:"translationCore-Create-BCS/kn_gst",LT:"translationCore-Create-BCS/kn_glt"},"es-419":{label:"Latin-American Spanish (Es-419_gl)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"Es-419_gl/es-419_ta",TN:"Es-419_gl/es-419_tn",TW:"Es-419_gl/es-419_tw",TQ:"Es-419_gl/es-419_tq",ST:"Es-419_gl/es-419_gst",LT:"Es-419_gl/es-419_glt"},ru:{label:"Russian (ru_gl)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"ru_gl/ru_ta",TN:"ru_gl/ru_tn",TW:"ru_gl/ru_tw",TQ:"ru_gl/ru_tq_2lv",ST:"ru_gl/ru_rsob",LT:"ru_gl/ru_rlob"}},be=he;function ge(e,t,a,n,r){return ve.apply(this,arguments)}function ve(){return(ve=Object(d.a)(i.a.mark((function e(t,a,n,r,o){var c,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>5&&void 0!==s[5]?s[5]:"master",e.next=3,Ke({username:t,repository:a});case 3:if(e.sent){e.next=9;break}console.log("verifyRepo(".concat(t,", ").concat(o,", ").concat(r,") repo NOT found on DCS at ").concat(t,"/").concat(a)),n.push({repoType:r,message:"".concat(o,"/").concat(r," not found on DCS at ").concat(t,"/").concat(a),repoFound:!1,manifestFound:!1}),e.next=13;break;case 9:return e.next=11,Be({username:t,repository:a,branch:c});case 11:e.sent||(console.log("verifyRepo(".concat(t,", ").concat(o,", ").concat(r,") manifest NOT found on DCS at ").concat(t,"/").concat(a)),n.push({repoType:r,message:"".concat(o,"/").concat(r," manifest was not found on DCS at ").concat(t,"/").concat(a),repoFound:!0,manifestFound:!1}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t,a){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(d.a)(i.a.mark((function e(t,a,n){var r,o,c,s,l,p,d,f,m,h,b,g,v,k=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=k.length>3&&void 0!==k[3]?k[3]:"master",o=[],c=[],s=new Date,l=Object(re.a)(n),e.prev=5,l.s();case 7:if((p=l.n()).done){e.next=21;break}if(d=p.value,f=Ee(t,a,d)){e.next=13;break}return o.push({repoType:d,message:"could not find path for ".concat(a,"/").concat(d)}),e.abrupt("continue",19);case 13:m=void 0,h=void 0,b=f.split("/"),g=Object(u.a)(b,2),m=g[0],h=g[1],c.push(ge(m,h,o,d,a,r));case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),l.e(e.t0);case 26:return e.prev=26,l.f(),e.finish(26);case 29:return e.next=31,Promise.all(c);case 31:return o.length&&console.log("verifyRepos(".concat(t,", ").concat(a,", ").concat(JSON.stringify(n),") - missing repos for ").concat(JSON.stringify(o))),v=(new Date-s)/1e3,console.log("verifyRepos(".concat(t,", ").concat(a,"..) finished ").concat(v," seconds")),e.abrupt("return",o);case 35:case"end":return e.stop()}}),e,null,[[5,23,26,29]])})))).apply(this,arguments)}function ye(e,t,a){return xe.apply(this,arguments)}function xe(){return(xe=Object(d.a)(i.a.mark((function e(t,a,n){var r,o,c,s,l,u,p,d=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=d.length>3&&void 0!==d[3]?d[3]:"master",o=new Date,c=[],n.finished=!1,s=function(){var e=u[l];if(!be[e].label)return"continue";var o={finished:!1};n[e]=o,c.push(ke(t,e,a,r).then((function(e){o.finished=!0,o.errors=e})))},l=0,u=Object.keys(be);case 6:if(!(l<u.length)){e.next=13;break}if("continue"!==s()){e.next=10;break}return e.abrupt("continue",10);case 10:l++,e.next=6;break;case 13:return e.next=15,Promise.all(c);case 15:n.finished=!0,p=(new Date-o)/1e3,console.log("verifyReposForLanguages() finished in ".concat(p," seconds"));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t){return e=e.toUpperCase(),["ULT","GLT"].includes(e)&&(e="LT"),["UST","GST"].includes(e)&&(e="ST"),{repoType:e,langRepos:be[t.toLowerCase()]}}function Ee(e,t,a){var n=we(a,t),r=n.langRepos;if(r){var o=r[a=n.repoType];if(o)return o}return console.log("findPathForRepo(".concat(t,", ").concat(a,") - not overriding default")),"".concat(e,"/").concat(a.toLowerCase())}function Oe(e,t){var a=t.split("_"),n=Object(u.a)(a,2),r=Ee(e,n[0],t=n[1]);if(r){var o=r.split("/"),c=Object(u.a)(o,2);e=c[0],t=c[1]}return{username:e,repoName:t}}var Ne=ue.a.createInstance({driver:[ue.a.INDEXEDDB],name:"failed-store"}),je=ue.a.createInstance({driver:[ue.a.INDEXEDDB],name:"zip-store"}),Te=ue.a.createInstance({driver:[ue.a.INDEXEDDB],name:"web-cache"}),Fe=ue.a.createInstance({driver:[ue.a.INDEXEDDB],name:"unzip-store"}),Se=Object(pe.setup)({baseURL:me,cache:{store:Te,maxAge:3e5,exclude:{query:!1},key:function(e){var t=e.params instanceof URLSearchParams?e.params.toString():JSON.stringify(e.params)||"";return e.url+t}}});function Le(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(d.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.getItem(t.toLowerCase());case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.path,o=t.branch,c=Oe(a,n),s=c.username,l=c.repoName,a=s,n=l,u=ce.a.join(a,n,o,r),e.next=7,Le(u);case 7:if(!(p=e.sent)){e.next=10;break}return e.abrupt("return",p);case 10:return e.next=12,ot({username:a,repository:n,path:r,branch:o});case 12:if(p=e.sent){e.next=17;break}return e.next=16,Ve({username:a,repository:n,path:r,branch:o});case 16:p=e.sent;case 17:if(!p){e.next=22;break}return e.next=20,Fe.setItem(u.toLowerCase(),p);case 20:e.next=23;break;case 22:console.log("getFileCached(".concat(a,", ").concat(n,", ").concat(r,", ").concat(o,") - failed to get file"));case 23:return e.abrupt("return",p);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return De.apply(this,arguments)}function De(){return(De=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.branch,e.next=3,Re({username:a,repository:n,path:"manifest.yaml",branch:r});case 3:o=e.sent;try{c=ie.a.parse(o)}catch(s){console.error("".concat(a," ").concat(n," ").concat(r," manifest yaml parse error: ").concat(s.message))}return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.branch,o=t.bookID,e.next=3,Be({username:a,repository:n,branch:r});case 3:c=e.sent,s=Object(re.a)(c.projects),e.prev=5,s.s();case 7:if((l=s.n()).done){e.next=15;break}if((u=l.value).identifier!==o){e.next=13;break}return(p=u.path).startsWith("./")&&(p=p.substring(2)),e.abrupt("return",p);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))).apply(this,arguments)}function We(){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Clearing localforage.INDEXEDDB zipStore, cacheStore, etc. caches\u2026"),e.next=3,Ne.clear();case 3:return e.next=5,je.clear();case 5:return e.next=7,Te.clear();case 7:return e.next=9,Fe.clear();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e,t){"LT"===(t=t.toUpperCase())&&(t="en"===e?"ULT":"GLT"),"ST"===t&&(t="en"===e?"UST":"GST");var a=e;return"UHB"===t?a="hbo":"UGNT"===t&&(a="el-x-koine"),"".concat(a,"_").concat(t.toLowerCase())}function He(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.includes(t)||(a?e.unshift(t):e.push(t))}function Me(e,t){return Je.apply(this,arguments)}function Je(){return(Je=Object(d.a)(i.a.mark((function e(t,a){var n,r,o,c,s,l,u,p,d,f,m,h,b,g,v=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>2&&void 0!==v[2]?v[2]:"master",r=v.length>3&&void 0!==v[3]?v[3]:[],o=v.length>4&&void 0!==v[4]&&v[4],c=v.length>5&&void 0!==v[5]&&v[5],console.log("PreLoadRepos(".concat(t,", ").concat(a,", ").concat(n,", ").concat(r,", ").concat(o,")\u2026")),s=!0,l=r.map((function(e){return Qe(a,e)})),o)for(u=0,p=["UHB","UGNT"];u<p.length;u++)d=p[u],He(l,Qe(a,d),!0);c&&(f="en"===a?"UST":"GST",He(l,Qe(a,"en"===a?"ULT":"GLT"),!1),He(l,Qe(a,f),!1)),m=Object(re.a)(l),e.prev=10,m.s();case 12:if((h=m.n()).done){e.next=21;break}return b=h.value,console.log("PreLoadRepos: preloading zip file for ".concat(b,"\u2026")),e.next=17,$e({username:t,repository:b,branch:n});case 17:(g=e.sent)||(console.log("PreLoadRepos: misfetched zip file for ".concat(b," repo with ").concat(g)),s=!1);case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),m.e(e.t0);case 26:return e.prev=26,m.f(),e.finish(26);case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}}),e,null,[[10,23,26,29]])})))).apply(this,arguments)}function Ve(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.path,o=t.branch,c=void 0===o?"master":o,console.log("fetchFileFromServer(".concat(a,", ").concat(n,", ").concat(r,", ").concat(c,")\u2026")),e.next=4,Ke({username:a,repository:n});case 4:if(s=e.sent,l=ce.a.join(a,n,"raw/branch",c,r),!s){e.next=26;break}return e.next=9,Ne.getItem(l.toLowerCase());case 9:if(!e.sent){e.next=12;break}return e.abrupt("return",null);case 12:return e.prev=12,e.next=15,Xe({uri:l});case 15:return u=e.sent,e.abrupt("return",u);case 19:return e.prev=19,e.t0=e.catch(12),console.log("ERROR: fetchFileFromServer could not fetch ".concat(r,": ").concat(e.t0)),Ne.setItem(l.toLowerCase(),e.t0.message),e.abrupt("return",null);case 24:e.next=29;break;case 26:return console.log("ERROR: fetchFileFromServer repo '".concat(n,"' does not exist!")),Ne.setItem(l.toLowerCase(),"Repo '".concat(n,"' does not exist!")),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[12,19]])})))).apply(this,arguments)}function Ge(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(d.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=ce.a.join("api/v1","users",a),e.next=4,Xe({uri:n});case 4:return r=e.sent,o=r.id,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u,p,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,e.next=3,Ge({username:a});case 3:return r=e.sent,o={q:n,limit:500,uid:r},c=ce.a.join("api/v1","repos","search"),e.next=8,Xe({uri:c,params:o});case 8:return s=e.sent,l=s.data,u="".concat(a,"/").concat(n).toLowerCase(),p=l.filter((function(e){return e.full_name.toLowerCase()===u})),(d=p[0])||console.log("repositoryExists(".concat(a,", ").concat(n,") - repo not found"),l,p),e.abrupt("return",!!d);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(d.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.uri,n=t.params,e.next=3,Se.get(me+a,{params:n});case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u,p,d,f=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.username,n=t.repository,r=t.branch,o=f.length>1&&void 0!==f[1]&&f[1],console.log("fetchRepositoryZipFile(".concat(a,", ").concat(n,", ").concat(r,")\u2026")),c=Oe(a,n),s=c.username,l=c.repoName,a=s,n=l,o){e.next=13;break}return e.next=9,nt(a,n,r);case 9:if(!e.sent){e.next=13;break}return console.log("fetchRepositoryZipFile(".concat(a,", ").concat(n,", ").concat(r,")\u2026 - already loaded")),e.abrupt("return",!0);case 13:return e.next=15,Ke({username:a,repository:n});case 15:if(e.sent){e.next=19;break}return console.log("fetchRepositoryZipFile(".concat(a,", ").concat(n,", ").concat(r,") - repo doesn't exist"),{username:a,repository:n}),e.abrupt("return",!1);case 19:return u=st({username:a,repository:n,branch:r}),e.next=22,fetch(u);case 22:if(200!==(p=e.sent).status&&0!==p.status){e.next=33;break}return e.next=26,p.arrayBuffer();case 26:return d=e.sent,console.log("fetchRepositoryZipFile(".concat(a,", ").concat(n,", ").concat(r,") - saving zip: ").concat(u)),e.next=30,je.setItem(u.toLowerCase(),d);case 30:return e.abrupt("return",!0);case 33:return console.log("fetchRepositoryZipFile(".concat(a,", ").concat(n,", ").concat(r,") - got response status: ").concat(p.status)),e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return at.apply(this,arguments)}function at(){return(at=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u,p,d,f,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.branch,o=t.optionalPrefix,c=Oe(a,n),s=c.username,l=c.repoName,u=st({username:a=s,repository:n=l,branch:r}),e.next=7,nt(a,n,r);case 7:if(p=e.sent){e.next=23;break}return e.next=11,fetch(u);case 11:if(200!==(d=e.sent).status&&0!==d.status){e.next=21;break}return e.next=15,d.arrayBuffer();case 15:return f=e.sent,e.next=18,je.setItem(u.toLowerCase(),f);case 18:p=e.sent,e.next=23;break;case 21:return console.log("ERROR: getFilelistFromZip got response status: ".concat(d.status)),e.abrupt("return",[]);case 23:if(m=[],e.prev=24,!p){e.next=30;break}return e.next=28,fe.a.loadAsync(p);case 28:e.sent.forEach((function(e){e.endsWith("/")||(e.startsWith("".concat(n,"/"))&&(e=e.substring(n.length+1)),!e.length||e.startsWith(".git")||e.startsWith(".apps")||o&&!e.toLowerCase().startsWith(o)||m.push(e))}));case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(24),console.log("ERROR: getFilelistFromZip got: ".concat(e.t0.message));case 35:return e.abrupt("return",m);case 36:case"end":return e.stop()}}),e,null,[[24,32]])})))).apply(this,arguments)}function nt(e,t,a){return rt.apply(this,arguments)}function rt(){return(rt=Object(d.a)(i.a.mark((function e(t,a,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=st({username:t,repository:a,branch:n}),e.next=3,je.getItem(r.toLowerCase());case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(d.a)(i.a.mark((function e(t){var a,n,r,o,c,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.repository,r=t.path,o=t.branch,e.next=3,nt(a,n,o);case 3:if(s=e.sent,e.prev=4,!s){e.next=13;break}return e.next=8,fe.a.loadAsync(s);case 8:return l=e.sent,u=ce.a.join(n.toLowerCase(),r),e.next=12,l.file(u).async("string");case 12:c=e.sent;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.log("ERROR: getFileFromZip for ".concat(a," ").concat(n," ").concat(r," ").concat(o," got: ").concat(e.t0.message)),c=null;case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function st(e){var t=e.username,a=e.repository,n=e.branch,r=void 0===n?"master":n,o=ce.a.join(t,a,"archive","".concat(r,".zip"));return me+o}var it=a(85);function lt(e,t,a,n,r,o){return ut.apply(this,arguments)}function ut(){return(ut=Object(d.a)(i.a.mark((function e(t,a,n,o,c,s){var l,u,f,m,h,b,g,v,k,C,y,x,w,E,O,N,j,T,F,S,L,P,R,I,B,D,_,U;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(){return(g=Object(d.a)(i.a.mark((function e(t,a,n,r,o,c){var s,l,d,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"ourCheckRepoFileContents: 'bookOrFileCode' parameter should be defined"),console.assert("string"===typeof t,"ourCheckRepoFileContents: 'bookOrFileCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==a,"ourCheckRepoFileContents: 'cfBookID' parameter should be defined"),console.assert("string"===typeof a,"ourCheckRepoFileContents: 'cfBookID' parameter should be a string not a '".concat(typeof a,"'")),console.assert(void 0!==n,"ourCheckRepoFileContents: 'filename' parameter should be defined"),console.assert("string"===typeof n,"ourCheckRepoFileContents: 'filename' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"ourCheckRepoFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof r,"ourCheckRepoFileContents: 'file_content' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==o,"ourCheckRepoFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof o,"ourCheckRepoFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof o,"'")),e.next=12,pt(u,n,r,o,c);case 12:s=e.sent,l=Object(re.a)(s.noticeList);try{for(l.s();!(d=l.n()).done;)f=d.value,h(Object(p.a)(Object(p.a)({},f),{},{bookID:a,extra:t}))}catch(i){l.e(i)}finally{l.f()}case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},b=function(e,t,a,n,r,o){return g.apply(this,arguments)},h=function(e){console.assert(void 0!==e.priority,"cR addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cR addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cR addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cR addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),e.bookID&&(console.assert("string"===typeof e.bookID,"cR addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cR addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert(K(e.bookID),"cR addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier"))),e.C&&console.assert("string"===typeof e.C,"cR addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cR addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cR addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cR addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cR addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cR addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cR addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cR addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),f.noticeList.push(Object(p.a)(Object(p.a)({},e),{},{repoName:a}))},m=function(e){f.successList.push(e)},l=new Date,u=a.split("_")[0],void 0===n&&(n="master"),f={successList:[],noticeList:[],checkedFileCount:0,checkedFilenames:[],checkedFilenameExtensions:[]},e.prev=8,(v=o)&&" "!==v[0]&&(v=" ".concat(v)),c(r.a.createElement("p",{style:{color:"magenta"}},"Fetching zipped files from ",r.a.createElement("b",null,t,"/",a)," repository\u2026")),k=s&&s.fetchRepositoryZipFile?s.fetchRepositoryZipFile:$e,e.next=15,k({username:t,repository:a,branch:n});case 15:if(C=e.sent){e.next=21;break}return console.error("checkRepo: misfetched zip file for repo with ".concat(C)),c(r.a.createElement("p",{style:{color:"red"}},"Failed to fetching zipped files from ",r.a.createElement("b",null,t,"/",a)," repository")),h({priority:999,message:"Failed to find/load repository",location:v}),e.abrupt("return",f);case 21:return c(r.a.createElement("p",{style:{color:"magenta"}},"Preprocessing file list from ",r.a.createElement("b",null,t,"/",a)," repository\u2026")),y=s&&s.getFileListFromZip?s.getFileListFromZip:tt,e.next=25,y({username:t,repository:a,branch:n});case 25:x=e.sent,w="".concat(x.length.toLocaleString()," file").concat(1===x.length?"":"s"),E=0,O=[],N=new Set,j=0,T=Object(re.a)(x),e.prev=29,T.s();case 31:if((F=T.n()).done){e.next=62;break}return S=F.value,c(r.a.createElement("p",{style:{color:"magenta"}},"Checking ",r.a.createElement("b",null,t,"/",a)," repo: checked ",E.toLocaleString(),"/",w,"\u2026")),L=S.split("/").pop(),P=L.split(".").pop(),R=L.substring(0,L.length-P.length-1),I="","usfm"===P?(B=R.substring(R.length-3),console.assert(q(B),"checkRepo: '".concat(B,"' is not a valid USFM book identifier")),R=B,I=B):"tsv"===P&&(D=R.substring(R.length-3),console.assert(q(D),"checkRepo: '".concat(D,"' is not a valid USFM book identifier")),R=D,I=D),_=s&&s.getFile?s.getFile:Re,U=void 0,e.prev=41,e.next=44,_({username:t,repository:a,path:S,branch:n});case 44:U=e.sent,e.next=52;break;case 47:return e.prev=47,e.t0=e.catch(41),console.error("Failed to load",t,a,S,n,"".concat(e.t0)),h({priority:996,message:"Failed to load",bookID:I,filename:L,location:"".concat(o," ").concat(S,": ").concat(e.t0),extra:a}),e.abrupt("return");case 52:if(!U){e.next=60;break}return e.next=55,b(R,I,a.endsWith("_obs")?S.replace("content/",""):L,U,v,s);case 55:E+=1,O.push(L),N.add(P),j+=U.length,"md"!==P&&m("Checked ".concat(R.toUpperCase()," file: ").concat(L));case 60:e.next=31;break;case 62:e.next=67;break;case 64:e.prev=64,e.t1=e.catch(29),T.e(e.t1);case 67:return e.prev=67,T.f(),e.finish(67);case 70:O.indexOf("LICENSE.md")<0&&h({priority:946,message:"Missing LICENSE.md",location:v,extra:"LICENSE"}),O.indexOf("manifest.yaml")<0&&h({priority:947,message:"Missing manifest.yaml",location:v,extra:"MANIFEST"}),f.checkedFileCount=E,f.checkedFilenames=O,f.checkedFilenameExtensions=Object(ne.a)(N),f.checkedFilesizes=j,f.checkedRepoNames=["".concat(t,"/").concat(a)],m("Checked ".concat(t," repo: ").concat(a)),e.next=84;break;case 80:e.prev=80,e.t2=e.catch(8),console.error("checkRepo main code block got error: ".concat(e.t2.message)),c(r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{color:"red"}},"checkRepo main code block got error: ",r.a.createElement("b",null,e.t2.message))));case 84:return f.elapsedSeconds=(new Date-l)/1e3,e.abrupt("return",f);case 86:case"end":return e.stop()}}),e,null,[[8,80],[29,64,67,70],[41,47]])})))).apply(this,arguments)}function pt(e,t,a,n,r){return dt.apply(this,arguments)}function dt(){return(dt=Object(d.a)(i.a.mark((function e(t,a,n,r,o){var c,s,l,u,p,d,f,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Date," "!==(s=r)[0]&&(s=" "+s),!a.toLowerCase().endsWith(".tsv")){e.next=12;break}return u=a.substring(0,a.length-4),p=u.substring(u.length-3),console.assert(q(p),"checkFileContents: '".concat(p,"' is not a valid USFM book identifier")),e.next=9,Object(it.checkTN_TSVText)(t,p,a,n,s,o);case 9:l=e.sent,e.next=13;break;case 12:a.toLowerCase().endsWith(".usfm")?(d=a.substring(0,a.length-5),f=d.substring(d.length-3),console.assert(q(f),"checkFileContents: '".concat(f,"' is not a valid USFM book identifier")),l=Object(it.checkUSFMText)(t,f,a,n,s,o)):a.toLowerCase().endsWith(".sfm")?(m=a.substring(0,a.length-4),console.log("Have SFM filenameMain=".concat(m)),h=m.substring(2,5),console.log("Have SFM bookcode=".concat(h)),console.assert(q(h),"checkFileContents: '".concat(h,"' is not a valid USFM book identifier")),l=Object(it.checkUSFMText)(t,h,a,n,s,o)):a.toLowerCase().endsWith(".md")?l=Object(it.checkMarkdownText)(a,n,s,o):a.toLowerCase().endsWith(".txt")?l=Object(it.checkPlainText)(a,n,s,o):"manifest.yaml"===a.toLowerCase()?l=Object(it.checkManifestText)(a,n,s,o):a.toLowerCase().endsWith(".yaml")?l=Object(it.checkYAMLText)(a,n,s,o):(l=Object(it.checkPlainText)(a,n,s,o)).noticeList.unshift({priority:995,message:"File extension is not recognized, so treated as plain text.",filename:a,location:a});case 13:return l.checkedFileCount=1,l.checkedFilename=a,l.checkedFilesize=n.length,l.checkedOptions=o,l.elapsedSeconds=(new Date-c)/1e3,e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t,a,n,r,o){return mt.apply(this,arguments)}function mt(){return(mt=Object(d.a)(i.a.mark((function e(t,a,n,r,o,c){var s,l,u,f,m,h,b,g,v,k,C,y,x,w,E,O,N,j,T,F,S,L,P;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(){return(b=Object(d.a)(i.a.mark((function e(t,n,r,o,c,s,l,u){var d,f,h,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"cTQ ourCheckTQFileContents: 'repoCode' parameter should be defined"),console.assert("string"===typeof t,"cTQ ourCheckTQFileContents: 'repoCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==c,"cTQ ourCheckTQFileContents: 'cfFilename' parameter should be defined"),console.assert("string"===typeof c,"cTQ ourCheckTQFileContents: 'cfFilename' parameter should be a string not a '".concat(typeof c,"'")),console.assert(void 0!==s,"cTQ ourCheckTQFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof s,"cTQ ourCheckTQFileContents: 'file_content' parameter should be a string not a '".concat(typeof s,"'")),console.assert(void 0!==l,"cTQ ourCheckTQFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof l,"cTQ ourCheckTQFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof l,"'")),e.next=10,pt(a,c,s,l,u);case 10:d=e.sent,f=Object(re.a)(d.noticeList);try{for(f.s();!(h=f.n()).done;)b=h.value,m(Object(p.a)(Object(p.a)({},b),{},{bookID:n,C:r,V:o,extra:t}))}catch(i){f.e(i)}finally{f.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e,t,a,n,r,o,c,s){return b.apply(this,arguments)},m=function(e){console.assert(void 0!==e.priority,"cTQ addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cTQ addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cTQ addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cTQ addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),console.assert(void 0!==e.bookID,"cTQ addNoticePartial: 'bookID' parameter should be defined"),console.assert("string"===typeof e.bookID,"cTQ addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cTQ addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert(q(e.bookID),"cTQ addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier")),e.C&&console.assert("string"===typeof e.C,"cTQ addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cTQ addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cTQ addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cTQ addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cTQ addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cTQ addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cTQ addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cTQ addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),u.noticeList.push(Object(p.a)(Object(p.a)({},e),{},{repoName:n,bookID:o}))},f=function(e){u.successList.push(e)},s="TQ",l=" in ".concat(t," (").concat(r,")"),u={successList:[],noticeList:[]},g=0,v=[],k=new Set(["md"]),C=0,y=c&&c.getFileListFromZip?c.getFileListFromZip:tt,x=o.toLowerCase(),e.next=12,y({username:t,repository:n,branch:r,optionalPrefix:"".concat(x,"/")});case 12:if(w=e.sent,Array.isArray(w)&&w.length){e.next=18;break}console.error("checkTQrepo failed to load",t,n,r),m({priority:996,message:"Failed to load",bookID:o,location:l,extra:s}),e.next=57;break;case 18:E=Object(re.a)(w),e.prev=19,E.s();case 21:if((O=E.n()).done){e.next=48;break}return N=O.value,console.assert(N.endsWith(".md"),"Expected ".concat(N," to end with .md")),j=N.split("/").pop(),T=N.slice(0,-3).split("/"),F=T[T.length-2].replace(/^0+(?=\d)/,""),S=T[T.length-1].replace(/^0+(?=\d)/,""),L=c&&c.getFile?c.getFile:Re,P=void 0,e.prev=30,e.next=33,L({username:t,repository:n,path:N,branch:r});case 33:P=e.sent,v.push(N),C+=P.length,e.next=43;break;case 38:return e.prev=38,e.t0=e.catch(30),console.error("checkTQbook failed to load",t,n,N,r,e.t0+""),m({priority:996,message:"Failed to load",bookID:o,C:F,V:S,location:"".concat(l," ").concat(N,": ").concat(e.t0),extra:s}),e.abrupt("continue",46);case 43:return e.next=45,h(s,o,F,S,j,P,l,c);case 45:g+=1;case 46:e.next=21;break;case 48:e.next=53;break;case 50:e.prev=50,e.t1=e.catch(19),E.e(e.t1);case 53:return e.prev=53,E.f(),e.finish(53);case 56:f("Checked ".concat(g.toLocaleString()," ").concat(s.toUpperCase()," file").concat(1===g?"":"s"));case 57:return u.checkedFileCount=g,u.checkedFilenames=v,u.checkedFilenameExtensions=Object(ne.a)(k),u.checkedFilesizes=C,e.abrupt("return",u);case 62:case"end":return e.stop()}}),e,null,[[19,50,53,56],[30,38]])})))).apply(this,arguments)}function ht(e,t,a,n,r){return bt.apply(this,arguments)}function bt(){return(bt=Object(d.a)(i.a.mark((function e(t,a,n,o,c){var s,l,u,f,m,h,b,g,v,k,C,y,x,w,E,O,N,j,T,F,S,L,P,R,I,B,D,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(){return(k=Object(d.a)(i.a.mark((function e(t,n,r,o,c){var s,l,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"cBP ourCheckBPFileContents: 'repoCode' parameter should be defined"),console.assert("string"===typeof t,"cBP ourCheckBPFileContents: 'repoCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cBP ourCheckBPFileContents: 'cfFilename' parameter should be defined"),console.assert("string"===typeof n,"cBP ourCheckBPFileContents: 'cfFilename' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"cBP ourCheckBPFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof r,"cBP ourCheckBPFileContents: 'file_content' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==o,"cBP ourCheckBPFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof o,"cBP ourCheckBPFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof o,"'")),e.next=10,pt(a,n,r,o,c);case 10:s=e.sent,l=Object(re.a)(s.noticeList);try{for(l.s();!(u=l.n()).done;)d=u.value,g(Object(p.a)(Object(p.a)({},d),{},{filename:n,extra:t}))}catch(i){l.e(i)}finally{l.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(e,t,a,n,r){return k.apply(this,arguments)},g=function(e){console.assert(void 0!==e.priority,"cBP addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cBP addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cBP addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cBP addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),e.bookID&&(console.assert("string"===typeof e.bookID,"cBP addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cBP addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert(q(e.bookID),"cBP addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier"))),e.C&&console.assert("string"===typeof e.C,"cBP addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cBP addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cBP addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cBP addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cBP addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cBP addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cBP addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cBP addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),l.noticeList.push(Object(p.a)(Object(p.a)({},e),{},{bookID:n}))},b=function(e){l.successList.push(e)},s=new Date,n=n.toUpperCase(),l={successList:[],noticeList:[]},u=c?Object(p.a)({},c):{},f=u.getFile?u.getFile:Re,u.getFile=f,u.originalLanguageRepoUsername||(u.originalLanguageRepoUsername=t),u.taRepoUsername||(u.taRepoUsername=t),m="master",h=" in ".concat(a," ").concat(n," book package from ").concat(t," ").concat(m," branch"),"OBS"!==n){e.next=21;break}return e.next=17,lt(t,"".concat(a,"_obs"),m,h,o,u);case 17:l=e.sent,b("Checked ".concat(a," OBS repo from ").concat(t)),e.next=114;break;case 21:e.prev=21,C=X(n),y=H(n),e.next=34;break;case 26:if(e.prev=26,e.t0=e.catch(21),!q(n)){e.next=32;break}y="other",e.next=34;break;case 32:return g({priority:902,message:"Bad function call: should be given a valid book abbreviation",extract:n,location:" (not '".concat(n,"')").concat(h)}),e.abrupt("return",l);case 34:x=u&&u.getFile?u.getFile:Re,w=0,E=[],O=new Set,N=0,j=[],T="old"===y?"UHB":"UGNT",F=u&&u.checkRepos?u.checkRepos:[T,"LT","ST","TN","TQ"],S=Object(re.a)(F),e.prev=39,S.s();case 41:if((L=S.n()).done){e.next=101;break}if(P=L.value,console.log("checkBookPackage: check ".concat(n," in ").concat(P," (").concat(a," ").concat(n," from ").concat(t,")")),R=" in ".concat(P.toUpperCase()).concat(h),I=Qe(a,P),o(r.a.createElement("p",{style:{color:"magenta"}},"Checking ",t," ",a," ",r.a.createElement("b",null,n)," book package in ",r.a.createElement("b",null,P)," (checked ",r.a.createElement("b",null,j.length.toLocaleString()),"/",F.length," repos)\u2026")),B=void 0,"UHB"!==P&&"UGNT"!==P&&"LT"!==P&&"ST"!==P){e.next=53;break}B="".concat(C,".usfm"),O.add("usfm"),e.next=67;break;case 53:if("TN"!==P){e.next=67;break}return e.prev=54,e.next=57,_e({username:t,repository:I,branch:m,bookID:n.toLowerCase()});case 57:B=e.sent,l.tsvFileName=B,e.next=65;break;case 61:e.prev=61,e.t1=e.catch(54),console.error("cachedGetBookFilenameFromManifest failed with: ".concat(e.t1)),B="".concat(a,"_tn_").concat(C,".tsv");case 65:console.assert(B.endsWith(".tsv"),"Expected TN filename '".concat(B,"' to end with '.tsv'")),O.add("tsv");case 67:if("TQ"!==P){e.next=80;break}return e.next=70,ft(t,a,I,m,n,u);case 70:D=e.sent,l.successList=l.successList.concat(D.successList),l.noticeList=l.noticeList.concat(D.noticeList),E=E.concat(D.checkedFilenames),O=new Set([].concat(Object(ne.a)(O),Object(ne.a)(D.checkedFilenameExtensions))),w+=D.checkedFileCount,N+=D.totalCheckedSize,j.push(P),e.next=99;break;case 80:return _=void 0,e.prev=81,e.next=84,x({username:t,repository:I,path:B,branch:m});case 84:_=e.sent,E.push(B),N+=_.length,j.push(P),e.next=95;break;case 90:return e.prev=90,e.t2=e.catch(81),console.error("Failed to load",t,I,B,m,e.t2+""),g({priority:996,message:"Failed to load",repoName:I,filename:B,location:"".concat(R,": ").concat(e.t2),extra:P}),e.abrupt("continue",99);case 95:return e.next=97,v(P,B,_,h,u);case 97:w+=1,b("Checked ".concat(P.toUpperCase()," file: ").concat(B));case 99:e.next=41;break;case 101:e.next=106;break;case 103:e.prev=103,e.t3=e.catch(39),S.e(e.t3);case 106:return e.prev=106,S.f(),e.finish(106);case 109:l.checkedFileCount=w,l.checkedFilenames=E,l.checkedFilenameExtensions=Object(ne.a)(O),l.checkedFilesizes=N,l.checkedRepoNames=j;case 114:return l.elapsedSeconds=(new Date-s)/1e3,console.log("checkBookPackageResult(".concat(n,"): elapsedSeconds = ").concat(l.elapsedSeconds,", notices count = ").concat(l.noticeList.length)),e.abrupt("return",l);case 117:case"end":return e.stop()}}),e,null,[[21,26],[39,103,106,109],[54,61],[81,90]])})))).apply(this,arguments)}var gt=a(5),vt=a(418),kt=a.n(vt),Ct=a(427),yt=a.n(Ct),xt=a(419),wt=a.n(xt),Et=a(293),Ot=a.n(Et),Nt=a(420),jt=a.n(Nt),Tt=a(421),Ft=a.n(Tt),St=a(423),Lt=a.n(St),Pt=a(424),Rt=a.n(Pt),It=a(425),Bt=a.n(It),Dt=a(428),_t=a.n(Dt),Ut=a(422),Wt=a.n(Ut),At=a(426),Qt=a.n(At),Ht=a(429),Mt=a.n(Ht),Jt=a(220),Vt=a.n(Jt),zt=function(e){return e&&e.length<2&&(e="0"+e),e},Gt=function(e){if("string"===typeof e){var t=parseInt(e,10);if(!isNaN(t))return t}return NaN},Zt=function(e,t){var a=Gt(e),n=Gt(t),r=e||"",o=t||"";return isNaN(a)||isNaN(n)?isNaN(a)&&isNaN(n)?r>o?1:r===o?0:-1:isNaN(a)?-1:1:a-n},Kt=function(e,t,a,n,r,o,c,s){var i={title:"Validation Notices"};return i.columns=[{title:"Repo",field:"extra"},{title:"Pri",field:"priority",render:function(e){return c(e.priority)}},{title:"Ch",field:"C",customSort:function(e,t){return function(e,t){var a=Zt(e.C,t.C);return 0===a&&(a=Zt(e.V,t.V)),a}(e,t)}},{title:"Vs",field:"V",customSort:function(e,t){return Zt(e.V,t.V)}},{title:"Line",field:"lineNumber",render:function(e){return r(e.link,e.lineNumber)}},{title:"Row ID",field:"rowID"},{title:"Field Name",field:"fieldName"},{title:"Details",field:"details"},{title:"Char Pos",field:"charPos"},{title:"Excerpt",field:"excerpt",cellStyle:{fontFamily:"Ezra, Roboto, Helvetica, Arial, sans-serif"},render:function(e){return o(e.excerpt)}},{title:"Message",field:"message",cellStyle:{fontFamily:"Ezra, Roboto, Helvetica, Arial, sans-serif",width:"400px"}},{title:"Location",field:"location"}],i.data=[],Object.keys(e).forEach((function(r){var o=e[r],c=o.location;c=c.replace(/en ... book package from unfoldingword/,"");var l=function(e,t,a,n,r,o,c){var s,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"master",l=Qe(a,e),u="usfm",p="src";try{s=it.usfmNumberName(n).toUpperCase()}catch(g){}var d=e.toUpperCase();"TN"===d?(p="blame",u="tsv",s=c.tsvFileName?c.tsvFileName.split(".tsv")[0]:"".concat(l,"_").concat(s)):"TQ"===d&&(u="md",s="".concat(n,"/").concat(zt(o.C),"/").concat(zt(o.V)));var f=Oe(t,l),m=f.username,h=f.repoName;if(["TN","TQ","UHB","UGNT","ULT","UST","LT","ST"].includes(d)){var b="https://git.door43.org/".concat(m,"/").concat(h,"/").concat(p,"/branch/").concat(i,"/").concat(s,".").concat(u);return r&&(b+="#L".concat(r)),b}return console.log("getLink() - could not find link for repo type ".concat(e," for ").concat(a)),null}(o.extra,t,a,n,o.lineNumber,o,s);i.data.push({extra:o.extra,priority:o.priority,C:o.C,V:o.V,lineNumber:o.lineNumber,rowID:o.rowID,charPos:o.characterIndex,excerpt:o.extract,link:l,location:c,message:o.message,fieldName:o.fieldName,details:o.details})})),i.data=i.data.sort((function(e,t){return e.priority>t.priority?-1:1})),i.columns=function(e,t){var a,n=[],r=Object(re.a)(t);try{for(r.s();!(a=r.n()).done;){var o,c=a.value,s=c.field,i=c.title,l=!1,u=Object(re.a)(e);try{for(u.s();!(o=u.n()).done;){if(o.value[s]){l=!0;break}}}catch(p){u.e(p)}finally{u.f()}l?n.push(c):console.log('Removing column "'.concat(i,'" because no data found'))}}catch(p){r.e(p)}finally{r.f()}return n}(i.data,i.columns),i.options={sorting:!0,exportButton:!0,exportAllData:!0,columnsButton:!0,filtering:!0,pageSize:10},i},qt={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(kt.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(wt.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ft.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(Wt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(Lt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Rt.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Bt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(_.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Qt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(Mt.a,Object.assign({},e,{ref:t}))}))},Xt=function(e){return e>=800?r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},e):e>=600?r.a.createElement("p",{style:{color:"blue",fontWeight:"bold"}},e):r.a.createElement("p",{style:{color:"green",fontWeight:"bold"}},e)},Yt=function(e,t){return e?r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t):t?"".concat(t):""},$t=function(e){if(!e)return"";for(var t,a=new RegExp(/=D(\d+)\/H(\w+)\)/,"g"),n=0,o=[];t=a.exec(e);){t.index>0&&o.push(e.substring(n,t.index));var c=t[0].length,s=t[2];o.push(r.a.createElement("a",{href:"http://www.fileformat.info/info/unicode/char/".concat(s,"/index.htm"),target:"_blank",rel:"noopener noreferrer"},"U+",s)),n=t.index+c-1}return n<e.length&&o.push(e.substring(n,e.length)),r.a.createElement(r.a.Fragment,null," ",o," ")};var ea=Object(gt.a)((function(e){return{root:{}}}))((function(e){var t=e.results,a=e.username,n=e.languageCode,o=e.bookID,c=e.rawData,s=Kt(t,a,n,o,Yt,$t,Xt,c);return r.a.createElement(g.a,null,r.a.createElement(Vt.a,{icons:qt,title:s.title,columns:s.columns,data:s.data,options:s.options}))}));var ta=function(e){var t=e.bookID,a=e.username,o=e.language_code,c=Object(n.useState)("Waiting-CheckBookPackage"),s=Object(u.a)(c,2),l=s[0],p=s[1],f={getFile:Re,fetchRepositoryZipFile:$e,getFileListFromZip:tt,taRepoUsername:a};return Object(n.useEffect)((function(){Object(d.a)(i.a.mark((function e(){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null,"Successfully checked\xa0",e.checkedFileCount.toLocaleString(),"\xa0 files in\xa0",e.elapsedSeconds,"\xa0 seconds"),r.a.createElement(x.a,null,"There were ",e.noticeList.length," notices."))},p(r.a.createElement("p",{style:{color:"red"}},"Waiting for check results for ",a," ",o," ",r.a.createElement("b",null,t)," book package\u2026")),e.next=4,ht(a,o,t,p,f);case 4:(n=e.sent).checkType="BookPackage",n.username=a,n.language_code=o,n.bookID=t,n.checkedOptions=f,p(r.a.createElement(r.a.Fragment,null,c(n),n.noticeList.length?r.a.createElement(ea,{results:n.noticeList,username:a,languageCode:o,bookID:t,rawData:n}):r.a.createElement("br",null)));case 11:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,l)},aa={};function na(){return(na=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("doInitialization()"),t="master",e.next=4,We();case 4:return ye("unfoldingword",["TA","TW","TN","TQ","ST","LT"],aa).then((function(){aa.success?console.log("Repo verification - all repos found"):console.error("Repo verification error - could not find these repos:",aa)})),e.next=7,Me("unfoldingword","",t,[],!0);case 7:e.sent||console.log("Failed to pre-load original language repos");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(){return(ra=Object(d.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("doLanguageInitialization() username, lang:",t,a),"master",e.next=4,Me(t,a,"master",["TA","TW","TN","TQ"],!1,!0);case 4:e.sent||console.log("Failed to pre-load all repos");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oa=Object(m.a)((function(e){return Object(h.a)({root:{width:"100%",flexGrow:1,display:"flex"},menuButton:{marginRight:e.spacing(2)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},formControl:{margin:e.spacing(3)},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},alignItemsAndJustifyContent:{display:"flex",alignItems:"center",justifyContent:"center"},offset:Object(p.a)({},e.mixins.toolbar)})}));var ca=!1;function sa(){var e=r.a.useState(Object(p.a)({},V())),t=Object(u.a)(e,2),a=t[0],n=t[1],o=r.a.useState(0),c=Object(u.a)(o,2),s=c[0],i=c[1],d=r.a.useState(new Set),m=Object(u.a)(d,2),h=m[0],P=m[1],D=r.a.useState("unfoldingword"),U=Object(u.a)(D,2),A=U[0],Q=U[1],H=r.a.useState("en"),Z=Object(u.a)(H,2),K=Z[0],q=Z[1],X=["Select Organization and Language","Select Books","Content Validation Details"],ne=function(e){return h.has(e)},re=function(){var e=h;if(ne(s)&&(e=new Set(e.values())).delete(s),0===s&&function(e,t){ra.apply(this,arguments)}(A,K),0===s){var t=aa[K];t&&t.finished?(console.log("Validation for '".concat(K,"' completed before going to book selection"),t),t.errors.length&&console.log("missing repos for '".concat(K,"'!"),t.errors)):console.log("Validation for '".concat(K,"' did not complete before going to book selection"))}i((function(e){return e+1})),P(e)},oe=function(){var e=window.location.search;return new URLSearchParams(e)}();if(0===s&&!1===ca){!function(){na.apply(this,arguments)}(),ca=!0;var ce=oe.get("books");if(null!==ce){for(var se=ce.split(","),ie=[],le=0;le<se.length;le++){var ue=G(se[le]);if(""===ue){alert("Invalid Book Id:"+se[le]);break}ie.push(ue)}for(var pe=0;pe<ie.length;pe++){var de=ie[pe];console.log("name:",de),a[de][0]=!0,a[de][1]=!1;var fe=[];fe[0]=!0,fe[1]=!1}re()}}var me=oa(),he=Object(b.a)(),be=r.a.useState(!1),ge=Object(u.a)(be,2),ve=ge[0],ke=ge[1],Ce=function(e){return function(t){var r=[];r[0]=t.target.checked,r[1]=!1,n(Object(p.a)(Object(p.a)({},a),{},Object(l.a)({},e,r)))}};return r.a.createElement("div",{className:me.root},r.a.createElement(Y.a,null),r.a.createElement(F.a,{position:"fixed",className:Object(f.a)(me.appBar,Object(l.a)({},me.appBarShift,ve))},r.a.createElement(S.a,null,r.a.createElement(L.a,{color:"inherit","aria-label":"open drawer",onClick:function(){ke(!0)},edge:"start",className:Object(f.a)(me.menuButton,ve&&me.hide)},r.a.createElement(R.a,null)),r.a.createElement(x.a,{variant:"h6",className:me.title},"Book Package Content Validation"))),r.a.createElement(I.a,{className:me.drawer,variant:"persistent",anchor:"left",open:ve,classes:{paper:me.drawerPaper}},r.a.createElement("div",{className:me.drawerHeader},r.a.createElement(L.a,{onClick:function(){ke(!1)}},"ltr"===he.direction?r.a.createElement(_.a,null):r.a.createElement(W.a,null))),r.a.createElement(B.a,null),r.a.createElement(x.a,null,"Nothing here to see!"),r.a.createElement(B.a,null)),r.a.createElement(g.a,null,r.a.createElement(x.a,null," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," "),r.a.createElement(v.a,{activeStep:s},X.map((function(e,t){var a={},n={};return ne(t)&&(a.completed=!1),r.a.createElement(k.a,Object.assign({key:e},a),r.a.createElement(C.a,n,e))}))),r.a.createElement($.a,null,r.a.createElement("div",{className:me.alignItemsAndJustifyContent},r.a.createElement(x.a,{className:me.instructions},function(e){switch(e){case 0:return"Select Organization and Language";case 1:return"Select books, then click Next to generate book package details";case 2:return"Content Validation Results";default:return"Unknown step"}}(s))),r.a.createElement("div",{className:me.alignItemsAndJustifyContent},r.a.createElement(y.a,{disabled:0===s,onClick:function(){i((function(e){return e-1}))},color:"primary",variant:"contained",className:me.button},"Back"),!1,r.a.createElement(y.a,{disabled:2===s,variant:"contained",color:"primary",onClick:re,className:me.button},"Next")),r.a.createElement("div",{className:me.alignItemsAndJustifyContent},0===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(E.a,{component:"fieldset"},r.a.createElement(w.a,{component:"legend"},"Languages"),r.a.createElement(ee.a,{"aria-label":"orgLang",name:"orgLang",value:K,onChange:function(e){var t=e.target.value,a="unfoldingword",n="en";"ru"===t?(a="ru_gl",n="ru"):"hi"===t?(a="translationCore-Create-BCS",n="hi"):"kn"===t?(a="translationCore-Create-BCS",n="kn"):"es-419"===t&&(a="Es-419_gl",n="es-419"),Q(a),q(n)}},r.a.createElement(N.a,{value:"en",control:r.a.createElement(te.a,null),label:"English (unfoldingWord)"}),r.a.createElement(N.a,{value:"ru",control:r.a.createElement(te.a,null),label:"Russian (ru_gl)"}),r.a.createElement(N.a,{value:"hi",control:r.a.createElement(te.a,null),label:"Hindi (translationCore-Create-BCS)"}),r.a.createElement(N.a,{value:"kn",control:r.a.createElement(te.a,null),label:"Kannada (translationCore-Create-BCS)"}),r.a.createElement(N.a,{value:"es-419",control:r.a.createElement(te.a,null),label:"Latin-American Spanish (Es-419_gl)"})))))),1===s&&r.a.createElement(ae.a,{container:!0,spacing:3},r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(g.a,null,r.a.createElement(x.a,null," ",r.a.createElement("br",null)," "),r.a.createElement("div",null,r.a.createElement(y.a,{onClick:function(){for(var e=J(),t=0;t<e.length;t++){a[e[t]][0]=!0,a[e[t]][1]=!1;var r=e[t],o=[];o[0]=!0,o[1]=!1,n(Object(p.a)(Object(p.a)({},a),{},Object(l.a)({},r,o)))}},color:"primary",variant:"contained",className:me.button},"Select All"),r.a.createElement(y.a,{onClick:function(){for(var e=J(),t=0;t<e.length;t++){a[e[t]][0]=!1,a[e[t]][1]=!1;var r=e[t],o=[];o[0]=!1,o[1]=!1,n(Object(p.a)(Object(p.a)({},a),{},Object(l.a)({},r,o)))}},color:"primary",variant:"contained",className:me.button},"Select None")),r.a.createElement(E.a,{required:!0,component:"fieldset",className:me.formControl},r.a.createElement(w.a,{component:"legend"},"Old Testament"),r.a.createElement(O.a,null,J().map((function(e){return r.a.createElement(N.a,{control:r.a.createElement(T.a,{checked:a[e][0],onChange:Ce(e),value:e}),label:e,key:e})}))),r.a.createElement(j.a,null)))),r.a.createElement(ae.a,{item:!0,xs:6},r.a.createElement(g.a,null,r.a.createElement(x.a,null," ",r.a.createElement("br",null)," "),r.a.createElement("div",null,r.a.createElement(y.a,{onClick:function(){for(var e=M(),t=0;t<e.length;t++){a[e[t]][0]=!0,a[e[t]][1]=!1;var r=e[t],o=[];o[0]=!0,o[1]=!1,n(Object(p.a)(Object(p.a)({},a),{},Object(l.a)({},r,o)))}},color:"primary",variant:"contained",className:me.button},"Select All"),r.a.createElement(y.a,{onClick:function(){for(var e=M(),t=0;t<e.length;t++){a[e[t]][0]=!1,a[e[t]][1]=!1;var r=e[t],o=[];o[0]=!1,o[1]=!1,n(Object(p.a)(Object(p.a)({},a),{},Object(l.a)({},r,o)))}},color:"primary",variant:"contained",className:me.button},"Select None")),r.a.createElement(E.a,{required:!0,component:"fieldset",className:me.formControl},r.a.createElement(w.a,{component:"legend"},"New Testament"),r.a.createElement(O.a,null,M().map((function(e){return r.a.createElement(N.a,{control:r.a.createElement(T.a,{checked:a[e][0],onChange:Ce(e),value:e}),label:e,key:e})}))),r.a.createElement(j.a,null))))),2===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g.a,null,function(e){for(var t=Object.keys(e),a=[],n=0;n<t.length;n++)e[t[n]][0]&&a.push(z(t[n]));return a}(a).map((function(e){return r.a.createElement("div",null,r.a.createElement(x.a,{variant:"h6"},"Book Package for ",G(e)," "),r.a.createElement(ta,{bookID:e,key:e,username:A,language_code:K}))})))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(624);c.a.render(r.a.createElement(sa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[439,1,2]]]);
//# sourceMappingURL=main.defa643b.chunk.js.map