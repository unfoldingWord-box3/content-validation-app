(this["webpackJsonpcontent-validation-app"]=this["webpackJsonpcontent-validation-app"]||[]).push([[0],{116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkTextField=function(e,t,n,o,c,i){console.assert(void 0!==e,"checkTextField: 'fieldType' parameter should be defined"),console.assert("string"===typeof e,"checkTextField: 'fieldType' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert(""!==e,"checkTextField: 'fieldType' ".concat(e," parameter should be not be an empty string")),console.assert("markdown"===e||"USFM"===e||"YAML"===e||"text"===e||"raw"===e||"link"===e,"checkTextField: unrecognised 'fieldType' parameter: '".concat(e,"'")),console.assert(void 0!==t,"checkTextField: 'fieldName' parameter should be defined"),console.assert("string"===typeof t,"checkTextField: 'fieldName' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"checkTextField: 'fieldText' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(!0===o||!1===o,"checkTextField: allowedLinks parameter must be either true or false"),o||console.assert(n.indexOf("x-tw")<0,"checkTextField should be allowedLinks for ".concat(e," ").concat(t," ").concat(n));console.assert(void 0!==c,"checkTextField: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof c,"checkTextField: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof c,"': ").concat(c)),console.assert(-1===c.indexOf("true"),"checkTextField: 'optionalFieldLocation' parameter should not be '".concat(c,"'")),void 0!==i&&console.assert("object"===typeof i,"checkTextField: 'checkingOptions' parameter should be an object not a '".concat(typeof i,"': ").concat(JSON.stringify(i)));var s={noticeList:[]};function l(e){console.assert(void 0!==e.priority,"dBTCs addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"dBTCs addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"dBTCs addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"dBTCs addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"dBTCs addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"dBTCs addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"dBTCs addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"dBTCs addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),t.length&&(e.fieldName=t),s.noticeList.push(e)}if(!n)return s;var u,d=c;d&&" "!==d[0]&&(d=" ".concat(d));try{u=null===i||void 0===i?void 0:i.extractLength}catch(Le){}("number"!==typeof u||isNaN(u))&&(u=r.DEFAULT_EXTRACT_LENGTH);var f,p=Math.floor(u/2),h=Math.floor((u+1)/2),m=n.trim();if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<895)&&(f=n.indexOf("\u200b"))>=0){var g=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/\u200B/g,"\u203c")+(f+h<n.length?"\u2026":"");l({priority:895,message:"Field contains zero-width space(s)",characterIndex:f,extract:g,location:d}),m=m.replace(/\u200B/g,"")}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<638)&&(0,r.isWhitespace)(n))return l({priority:638,message:"Only found whitespace",location:d}),s;if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<993)&&(f=n.indexOf("<<<<<<<"))>=0){var b=f+p,y=(b>p?"\u2026":"")+n.substring(b-p,b+h).replace(/ /g,"\u2423")+(b+h<n.length?"\u2026":"");l({priority:993,message:"Unresolved GIT conflict",characterIndex:f,extract:y,location:d})}else if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<992)&&(f=n.indexOf("======="))>=0){var v=f+p,x=(v>p?"\u2026":"")+n.substring(v-p,v+h).replace(/ /g,"\u2423")+(v+h<n.length?"\u2026":"");l({priority:992,message:"Unresolved GIT conflict",characterIndex:f,extract:x,location:d})}else if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<991)&&(f=n.indexOf(">>>>>>>>"))>=0){var k=f+p,T=(k>p?"\u2026":"")+n.substring(k-p,k+h).replace(/ /g,"\u2423")+(k+h<n.length?"\u2026":"");l({priority:991,message:"Unresolved GIT conflict",characterIndex:f,extract:T,location:d})}if(" "===n[0]){var w=n.substring(0,u).replace(/ /g,"\u2423")+(n.length>u?"\u2026":"");" "===n[1]?l({priority:110,message:"Unexpected leading spaces",characterIndex:0,extract:w,location:d}):l({priority:109,message:"Unexpected leading space",characterIndex:0,extract:w,location:d})}else if("\u2060"===n[0]){l({priority:770,message:"Unexpected leading word-joiner",characterIndex:0,extract:n.substring(0,u).replace(/\u2060/g,"\u203c")+(n.length>u?"\u2026":""),location:d}),"\u2060"===m[0]&&(m=m.substring(1))}else if("\u200d"===n[0]){l({priority:771,message:"Unexpected leading zero-width joiner",characterIndex:0,extract:n.substring(0,u).replace(/\u200D/g,"\u203c")+(n.length>u?"\u2026":""),location:d}),"\u200d"===m[0]&&(m=m.substring(1))}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<64)&&(f=n.indexOf("<br> "))>=0){var C=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/ /g,"\u2423")+(f+h<n.length?"\u2026":"");l({priority:64,message:"Unexpected leading space(s) after break",characterIndex:f,extract:C,location:d})}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<63)&&(f=n.indexOf("\\n "))>=0){var O=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/ /g,"\u2423")+(f+h<n.length?"\u2026":"");l({priority:63,message:"Unexpected leading space(s) after line break",characterIndex:f,extract:O,location:d})}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<772)&&"\u2060"===n[n.length-1]){l({priority:772,message:"Unexpected trailing word-joiner",characterIndex:0,extract:n.substring(0,u).replace(/\u2060/g,"\u203c")+(n.length>u?"\u2026":""),location:d}),"\u2060"===m[m.length-1]&&(m=m.substring(0,m.length-1))}else if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<773)&&"\u200d"===n[n.length-1]){l({priority:773,message:"Unexpected trailing zero-width joiner",characterIndex:0,extract:n.substring(0,u).replace(/\u200D/g,"\u203c")+(n.length>u?"\u2026":""),location:d}),"\u200d"===m[m.length-1]&&(m=m.substring(0,m.length-1))}var N=n.toLowerCase();if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<107)&&("\\n"===N.substring(0,2)||"<br>"===N.substring(0,4)||"<br/>"===N.substring(0,5)||"<br />"===N.substring(0,6))&&"\\n"!==N&&"<br>"!==N&&"<br/>"!==N&&"<br />"!==N){for(l({priority:107,message:"Unexpected leading line break",characterIndex:0,extract:n.substring(0,u)+(n.length>u?"\u2026":""),location:d});"\\n"===m.toLowerCase().substring(0,2);)m=m.substring(2);for(;"<br>"===m.toLowerCase().substring(0,4);)m=m.substring(4);for(;"<br/>"===m.toLowerCase().substring(0,5);)m=m.substring(5);for(;"<br />"===m.toLowerCase().substring(0,6);)m=m.substring(6)}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<95)&&" "===n[n.length-1]&&("markdown"!==e||n.length<3||" "!==n[n.length-2]||" "===n[n.length-3])){var S={priority:95,message:"Unexpected trailing space(s)",extract:(n.length>u?"\u2026":"")+n.substring(n.length-10).replace(/ /g,"\u2423"),location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(S.characterIndex=n.length-1),l(S)}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<94)&&(f=n.indexOf(" <br"))>=0){var I=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/ /g,"\u2423")+(f+h<n.length?"\u2026":"");l({priority:94,message:"Unexpected trailing space(s) before break",characterIndex:f,extract:I,location:d})}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<93)&&(f=n.indexOf(" \\n"))>=0){var L=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/ /g,"\u2423")+(f+h<n.length?"\u2026":"");l({priority:93,message:"Unexpected trailing space(s) before line break",characterIndex:f,extract:L,location:d})}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<104)&&("\\n"===N.substring(N.length-2)||"<br>"===N.substring(N.length-4)||"<br/>"===N.substring(N.length-5)||"<br />"===N.substring(N.length-6))&&"\\n"!==N&&"<br>"!==N&&"<br/>"!==N&&"<br />"!==N){var F=(n.length>u?"\u2026":"")+n.substring(n.length-10);for(l({priority:104,message:"Unexpected trailing line break",characterIndex:n.length-1,extract:F,location:d});"\\n"===m.toLowerCase().substring(m.length-2);)m=m.substring(0,m.length-2);for(;"<br>"===m.toLowerCase().substring(m.length-4);)m=m.substring(0,m.length-4);for(;"<br/>"===m.toLowerCase().substring(m.length-5);)m=m.substring(0,m.length-5);for(;"<br />"===m.toLowerCase().substring(m.length-6);)m=m.substring(0,m.length-6)}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<124)&&(f=n.indexOf("  "))>=0&&("markdown"!==e||f!==n.length-2)){var D,j=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/ /g,"\u2423")+(f+h<n.length?"\u2026":""),P=(0,r.countOccurrences)(n,"  ");D=1===P?{priority:124,message:"Unexpected double spaces",extract:j,location:d}:{priority:224,message:"Multiple unexpected double spaces",details:"".concat(P," occurrences\u2014only first is displayed"),extract:j,location:d},("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(D.characterIndex=f),(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<D.priority)&&l(D)}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<583)&&(f=n.indexOf("\n"))>=0){var A=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:583,message:"Unexpected newLine character",characterIndex:f,extract:A,location:d}),m=m.replace(/\n/g," ")}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<582)&&(f=n.indexOf("\r"))>=0){var E=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:582,message:"Unexpected carriageReturn character",characterIndex:f,extract:E,location:d}),m=m.replace(/\r/g," ")}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<581)&&(f=n.indexOf("\xa0"))>=0){var R=(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/\xA0/g,"\u237d")+(f+h<n.length?"\u2026":"");l({priority:581,message:"Unexpected non-break space character",characterIndex:f,extract:R,location:d}),m=m.replace(/\xA0/g," ")}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<580)&&(f=n.indexOf("\u202f"))>=0){var M={priority:580,message:"Unexpected narrow non-break space character",extract:(f>p?"\u2026":"")+n.substring(f-p,f+h).replace(/\u202F/g,"\u237d")+(f+h<n.length?"\u2026":""),location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(M.characterIndex=f),l(M),m=m.replace(/\u202F/g," ")}if("OrigQuote"===t||"Quote"===t){if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<179)&&(f=n.indexOf(" \u2026"))>=0){var U=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:179,message:"Unexpected space before ellipse character",characterIndex:f,extract:U,location:d}),m=m.replace(/ \u2026/g,"\u2026")}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<178)&&(f=n.indexOf("\u2026 "))>=0){var _=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:178,message:"Unexpected space after ellipse character",characterIndex:f,extract:_,location:d}),m=m.replace(/\u2026 /g,"\u2026")}}if(m=m.replace(/ {2}/g," "),!(null!==i&&void 0!==i&&i.cutoffPriorityLevel)||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<177){var V="({}<>\u27e8\u27e9:\u060c\u3001\u2012\u2013\u2014\u2015\u2026!\u2039\u203a\xab\xbb\u2010?\u2018\u2019\u201c\u201d';\u2044\xb7&@\u2022^\u2020\u2021\xb0\xa1\xbf\u203b\u2116\xf7\xd7\xba\xaa%\u2030+\u2212=\u2031\xb6\u2032\u2033\u2034\xa7|\u2016\xa6\xa9\u2117\xae\u2120\u2122\xa4\u20b3\u0e3f\u20b5\xa2\u20a1\u20a2$\u20ab\u20af\u058f\u20a0\u20ac\u0192\u20a3\u20b2\u20b4\u20ad\u20ba\u20be\u2133\u20a5\u20a6\u20a7\u20b1\u20b0\xa3\u17db\u20bd\u20b9\u20a8\u20aa\u09f3\u20b8\u20ae\u20a9\xa5";o||(V+="/[].)"),"markdown"!==e&&(V+="_*#~"),("USFM"!==e||n.indexOf("x-morph")<0)&&(V+=',"'),"YAML"===e&&n.startsWith("--")||(V+="-");var B,z=a(V);try{for(z.s();!(B=z.n()).done;){var W=B.value;if((f=n.indexOf(W+W))>=0){var Q=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":""),G={priority:177,message:"Unexpected doubled ".concat(W," characters"),extract:Q,location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(G.characterIndex=f),l(G)}}}catch(Fe){z.e(Fe)}finally{z.f()}}if(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<195){var J=")}>\u27e9:,\u060c\u3001\u2012\u2013\u2014\u2015!.\u203a\xbb\u2010-?\u2019\u201d;/\u2044\xb7@\u2022^\u2020\u2021\xb0\xa1\xbf\u203b#\u2116\xf7\xd7\xba\xaa%\u2030\u2031\xb6\u2032\u2033\u2034\xa7\u2016\xa6\u2117\xae\u2120\u2122\xa4\u20b3\u0e3f\u20b5\xa2\u20a1\u20a2\u20ab\u20af\u058f\u20a0\u0192\u20a3\u20b2\u20b4\u20ad\u20ba\u20be\u2133\u20a5\u20a6\u20a7\u20b0\xa3\u17db\u20bd\u20b9\u20a8\u20aa\u09f3\u20b8\u20ae\u20a9\xa5";"markdown"!==e&&(J+="_*~"),("USFM"!==e||n.indexOf("x-lemma")<0&&n.indexOf("x-tw")<0)&&(J+="|"),"YAML"!==e&&(J+="'\"");var H,q=a(J);try{for(q.s();!(H=q.n()).done;){var $=H.value;if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<191)&&(f=n.indexOf(" "+$))>=0){var Z=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":""),Y={priority:191,message:"Unexpected ".concat($," character after space"),extract:Z,location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(Y.characterIndex=f),l(Y)}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<195)&&("-"!==$||"YAML"!==e)&&("!"!==$||"markdown"!==e)&&n[0]===$){var K=((f=0)>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:195,message:"Unexpected ".concat($," character at start of line"),characterIndex:f,extract:K,location:d})}}}catch(Fe){q.e(Fe)}finally{q.f()}"USFM"===e&&(m=m.replace(/| /g,"|"))}if(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<192){var X="({<\u27e8\u060c\u3001\u2012\u2013\u2014\u2015\u2039\xab\u2010\u2018\u201c/\u2044\xb7@\\\u2022^\u2020\u2021\xb0\xa1\xbf\u203b\u2116\xd7\xba\xaa\u2030\u2031\xb6\u2032\u2033\u2034\xa7|\u2016\xa6\u2117\u2120\u2122\xa4\u20b3\u0e3f\u20b5\xa2\u20a1\u20a2$\u20ab\u20af\u058f\u20a0\u20ac\u0192\u20a3\u20b2\u20b4\u20ad\u20ba\u20be\u2133\u20a5\u20a6\u20a7\u20b1\u20b0\xa3\u17db\u20bd\u20b9\u20a8\u20aa\u09f3\u20b8\u20ae\u20a9\xa5";"markdown"!==e&&(X+="_~"),"markdown"!==e&&"USFM"!==e&&(X+="*"),"YAML"!==e&&(X+="[");var ee,te=a(X);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;if((f=n.indexOf(ne+" "))>=0){var re=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":""),ae={priority:192,message:"Unexpected space after ".concat(ne," character"),extract:re,location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(ae.characterIndex=f),l(ae)}}}catch(Fe){te.e(Fe)}finally{te.f()}}if(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<193){var oe="([{<\u27e8\u060c\u3001\u2012\u2013\u2014\u2015\u2039\xab\u2010\u2018\u201c/\u2044\xb7@\xa9\\\u2022^\u2020\u2021\xb0\xa1\xbf\u203b\u2116\xd7\xba\xaa\u2030\u2031\xb6\u2032\u2033\u2034\xa7|\u2016\xa6\u2117\u2120\u2122\xa4\u20b3\u0e3f\u20b5\xa2\u20a1\u20a2$\u20ab\u20af\u058f\u20a0\u20ac\u0192\u20a3\u20b2\u20b4\u20ad\u20ba\u20be\u2133\u20a5\u20a6\u20a7\u20b1\u20b0\xa3\u17db\u20bd\u20b9\u20a8\u20aa\u09f3\u20b8\u20ae\u20a9\xa5";"markdown"!==e&&(oe+="_~"),"markdown"!==e&&"USFM"!==e&&(oe+="*");var ce,ie=a(oe);try{for(ie.s();!(ce=ie.n()).done;){var se=ce.value;if("\u2014"!==se&&n[n.length-1]===se){var le=((f=n.length-1)>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":""),ue={priority:193,message:"Unexpected ".concat(se," character at end of line"),extract:le,location:d};("raw"!==e&&"text"!==e||"from \\"!==t.substring(0,6))&&(ue.characterIndex=f),l(ue)}}}catch(Fe){ie.e(Fe)}finally{ie.f()}}if(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<849){var de,fe=a(r.BAD_CHARACTER_COMBINATIONS);try{for(fe.s();!(de=fe.n()).done;){var pe=de.value;if((f=n.indexOf(pe))>=0){var he=(f>p?"\u2026":"")+n.substring(f-p,f+h)+(f+h<n.length?"\u2026":"");l({priority:849,message:"Unexpected '".concat(pe,"' character combination"),characterIndex:f,extract:he,location:d})}}}catch(Fe){fe.e(Fe)}finally{fe.f()}}var me,ge=a(r.MATCHED_PUNCTUATION_PAIRS);try{for(ge.s();!(me=ge.n()).done;){var be=me.value,ye=be[0],ve=be[1];if(!(("USFM"===e||t.startsWith("from \\")||"markdown"===e&&""===t)&&"([{\u201c\u2018\xab".indexOf(ye)>=0)&&("markdown"!==e||"<"!==ye)){var xe=(0,r.countOccurrences)(n,ye),ke=(0,r.countOccurrences)(n,ve);if(xe!==ke&&("\u2019"!==ve||xe>ke)){var Te="\u201c"===ye?163:563;(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<Te)&&l({priority:Te,message:"Mismatched ".concat(ye).concat(ve," characters"),details:"left=".concat(xe.toLocaleString(),", right=").concat(ke.toLocaleString()),location:d})}try{for(var we=new RegExp("(\\w)\\".concat(ye,"(\\w)"),"g"),Ce=new RegExp("(\\w)\\".concat(ve,"(\\w)"),"g"),Oe=void 0;Oe=we.exec(n);)if(("markdown"!==e||"_"!==Oe[0][0])&&("YAML"!==e||"{"!==ye)){var Ne=717,Se="Misplaced ".concat(ye," character");"("===ye&&"s"===Oe[0][2]&&(Ne=17,Se="Possible misplaced ".concat(ye," character")),(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<Ne)&&l({priority:Ne,message:Se,extract:Oe[0],location:d})}if("\u2019"!==ve)for(;Oe=Ce.exec(n);)"markdown"===e&&"_"===Oe[0][2]||"YAML"===e&&"}"===ve||(null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<716)&&l({priority:716,message:"Misplaced ".concat(ve," character"),extract:Oe[0],location:d})}catch(De){}}}}catch(Fe){ge.e(Fe)}finally{ge.f()}if((null===i||void 0===i||!i.cutoffPriorityLevel||(null===i||void 0===i?void 0:i.cutoffPriorityLevel)<765)&&!o&&(-1===(f=n.indexOf("://"))&&(f=n.indexOf("http")),-1===f&&(f=n.indexOf("ftp")),-1===f&&(f=n.indexOf(".org")),-1===f&&(f=n.indexOf(".com")),-1===f&&(f=n.indexOf(".info")),-1===f&&(f=n.indexOf(".bible")),f>=0)){var Ie="".concat(f>p?"\u2026":"").concat(n.substring(f-p,f+h)).concat(f+h<n.length?"\u2026":"");l({priority:765,message:"Unexpected link",characterIndex:f,extract:Ie,location:d})}m!==n&&(s.suggestion=m);return s};var r=n(57);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw c}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},117:function(e,t,n){"use strict";function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw c}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.isDisabledNotice=c,t.removeDisabledNotices=function(e){var t,n=[],a=r(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;c(o)||n.push(o)}}catch(i){a.e(i)}finally{a.f()}return n};var o=[{repoCode:"TN",priority:648},{repoCode:"TN",priority:450},{repoCode:"ST",message:"Bad punctuation nesting: } closing character doesn\u2019t match",bookID:"NEH"},{repoCode:"ST",message:"Bad punctuation nesting: \u201d closing character doesn\u2019t match",bookID:"NEH"},{repoCode:"LT",priority:638,fieldName:"\\p"},{repoCode:"ST",priority:638,fieldName:"\\p"},{repoCode:"LT",priority:124,extract:"\\p\u2423\u2423"},{repoCode:"ST",priority:124,extract:"\\p\u2423\u2423"},{repoCode:"LT",message:"Unexpected space after | character"},{repoCode:"ST",message:"Unexpected space after | character"},{repoCode:"LT",priority:95},{repoCode:"ST",priority:95},{repoCode:"TA",priority:104},{repoCode:"TA",message:"Unexpected \u2013 character after space"},{repoCode:"TA",message:"Unexpected space after \u2013 character"},{repoCode:"TA",priority:172},{repoCode:"TA",filename:"translate/translate-alphabet/01.md",message:"At end of text with unclosed \u2018 opening character"},{repoCode:"TA",filename:"translate/translate-alphabet/01.md",message:"Mismatched \u2018\u2019 characters"},{repoCode:"TA",filename:"translate/translate-textvariants/01.md",message:"Unexpected space after [ character"},{repoCode:"TA",filename:"translate/translate-formatsignals/01.md",message:"Unexpected space after ( character"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \u201c character",lineNumber:3},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \u201c character",lineNumber:16},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \u2018 character",lineNumber:16},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \xab character"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \u2039 character"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected space after \u2014 character"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected . character after space",lineNumber:16},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected \u201d character after space"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected \u2019 character after space"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected \xbb character after space"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected \u203a character after space"},{repoCode:"TA",filename:"translate/figs-quotemarks/01.md",message:"Unexpected \u2014 character after space"},{repoCode:"TA",filename:"translate/figs-metaphor/01.md",message:"Possible misplaced ( character"}];function c(e){var t,n=r(o);try{for(n.s();!(t=n.n()).done;){var a=t.value,c=!0;for(var i in a)if(e[i]!==a[i]){c=!1;break}if(c)return!0}}catch(s){n.e(s)}finally{n.f()}return!1}},155:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.clearCaches=function(){return w.apply(this,arguments)},t.formRepoName=C,t.cachedGetFile=S,t.cachedGetBookFilenameFromManifest=function(e){return D.apply(this,arguments)},t.preloadReposIfNecessary=function(e,t,n,r,a){return j.apply(this,arguments)},t.repositoryExistsOnDoor43=function(e){return M.apply(this,arguments)},t.cachedGetFileUsingFullURL=function(e){return V.apply(this,arguments)},t.cachedGetRepositoryZipFile=B,t.getFileListFromZip=function(e){return G.apply(this,arguments)};var o=a(n(129)),c=a(n(79)),i=a(n(80)),s=a(n(98)),l=a(n(221)),u=a(n(85)),d=n(298),f=a(n(225)),p=r(n(372)),h=n(192);function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="https://git.door43.org/",y=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"CV-failed-store"}),v=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"CV-zip-store"}),x=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"CV-web-cache"}),k=u.default.createInstance({driver:[u.default.INDEXEDDB],name:"CV-unzip-store"}),T=(0,d.setup)({baseURL:b,cache:{store:x,maxAge:36e5,exclude:{query:!1},key:function(e){var t=e.params instanceof URLSearchParams?e.params.toString():JSON.stringify(e.params)||"";return e.url+t}}});function w(){return(w=(0,i.default)(c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Clearing all four CV localforage.INDEXEDDB caches\u2026"),e.next=3,y.clear();case 3:return e.next=5,v.clear();case 5:return e.next=7,x.clear();case 7:return e.next=9,k.clear();case 9:return e.next=11,(0,h.clearCheckedArticleCache)();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){"LT"===t&&(t="en"===e?"ULT":"GLT"),"ST"===t&&(t="en"===e?"UST":"GST");var n=e;return"UHB"===t?n="hbo":"UGNT"===t&&(n="el-x-koine"),"".concat(n,"_").concat(t.toLowerCase())}function O(e){return N.apply(this,arguments)}function N(){return(N=(0,i.default)(c.default.mark((function e(t){var n;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getItem(t.toLowerCase());case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return I.apply(this,arguments)}function I(){return(I=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,l;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,console.assert("string"===typeof n&&n.length,"cachedGetFile: username parameter should be a non-empty string not ".concat(typeof n,": ").concat(n)),console.assert("string"===typeof r&&r.length,"cachedGetFile: repository parameter should be a non-empty string not ".concat(typeof r,": ").concat(r)),console.assert("string"===typeof a&&a.length,"cachedGetFile: path parameter should be a non-empty string not ".concat(typeof a,": ").concat(a)),console.assert("string"===typeof o&&o.length,"cachedGetFile: branch parameter should be a non-empty string not ".concat(typeof o,": ").concat(o)),i=s.default.join(n,r,a,o),e.next=8,O(i);case 8:if(!(l=e.sent)){e.next=11;break}return e.abrupt("return",l);case 11:return e.next=13,q({username:n,repository:r,path:a,branch:o});case 13:if(l=e.sent){e.next=18;break}return e.next=17,P({username:n,repository:r,path:a,branch:o});case 17:l=e.sent;case 18:if(!l){e.next=21;break}return e.next=21,k.setItem(i.toLowerCase(),l);case 21:return e.abrupt("return",l);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return F.apply(this,arguments)}function F(){return(F=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,e.next=3,S({username:n,repository:r,path:"manifest.yaml",branch:a});case 3:o=e.sent;try{i=l.default.parse(o)}catch(c){console.error("".concat(n," ").concat(r," ").concat(a," manifest yaml parse error: ").concat(c.message))}return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,s,l,u,d;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,o=t.bookID,e.next=3,L({username:n,repository:r,branch:a});case 3:i=e.sent,s=m(i.projects),e.prev=5,s.s();case 7:if((l=s.n()).done){e.next=15;break}if((u=l.value).identifier!==o){e.next=13;break}return(d=u.path).startsWith("./")&&(d=d.substring(2)),e.abrupt("return",d);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),s.e(e.t0);case 20:return e.prev=20,s.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))).apply(this,arguments)}function j(){return(j=(0,i.default)(c.default.mark((function e(t,n,r,a,i){var s,l,u,d,f,h,g,b,y,v,x,k,T,w,O;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("preloadReposIfNecessary(".concat(t,", ").concat(n,", ").concat(r," (").concat(typeof bookID,"), ").concat(a,", [").concat(i,"])\u2026")),s=!0,l=(0,o.default)(i),1===r.length&&"OBS"===r[0]&&(l.includes("OBS")||l.unshift("OBS")),r&&Array.isArray(r)&&r.length>5){u=m(r);try{for(u.s();!(d=u.n()).done;)"OBS"!==(f=d.value)&&(h=p.testament(f),g="old"===h?"UHB":"UGNT",l.includes(g)||l.unshift(g))}catch(c){u.e(c)}finally{u.f()}}b=m(l),e.prev=6,b.s();case 8:if((y=b.n()).done){e.next=22;break}return v=y.value,x=n,("hbo"===n&&"UHB"!==v||"el-x-koine"===n&&"UGNT"!==v)&&(x="en"),k=a,T=v,"TQ2"===v?(T="TQ",k="newFormat"):"TN2"===v&&(T="TN",k="newFormat"),w=C(x,T),e.next=18,B({username:t,repository:w,branch:k});case 18:(O=e.sent)||(console.error("preloadReposIfNecessary() misfetched zip file for ".concat(v," repo with ").concat(O)),s=!1);case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),b.e(e.t0);case 27:return e.prev=27,b.f(),e.finish(27);case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,null,[[6,24,27,30]])})))).apply(this,arguments)}function P(e){return A.apply(this,arguments)}function A(){return(A=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,l,u;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,i=void 0===o?"master":o,l=s.default.join(n,r,"raw/branch",i,a),e.next=4,y.getItem(l.toLowerCase());case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.prev=7,e.next=10,U({uri:l});case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(7),console.error("cachedFetchFileFromServer could not fetch ".concat(n," ").concat(r," ").concat(i," ").concat(a,": ").concat(e.t0)),y.setItem(l.toLowerCase(),e.t0.message),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function E(e){return R.apply(this,arguments)}function R(){return(R=(0,i.default)(c.default.mark((function e(t){var n,r,a,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=s.default.join("api/v1","users",n),e.next=4,U({uri:r});case 4:return a=e.sent,o=a.id,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,l,u,d,f,p;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,e.prev=1,e.next=4,E({username:n});case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("repositoryExistsOnDoor43(".concat(n,", ").concat(r,") - invalid username"),e.t0.message),e.abrupt("return",!1);case 11:return o={q:r,limit:500,uid:a},i=s.default.join("api/v1","repos","search"),e.prev=13,e.next=16,U({uri:i,params:o});case 16:u=e.sent,d=u.data,l=d,e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(13),console.error("repositoryExistsOnDoor43(".concat(n,", ").concat(r,") - error fetching repo list"),e.t1.message),e.abrupt("return",!1);case 25:if(!(l.length<1)){e.next=28;break}return console.log("repositoryExistsOnDoor43(".concat(n,", ").concat(r,") - no repos found"),l),e.abrupt("return",!1);case 28:if(f="".concat(n,"/").concat(r).toLowerCase(),!((p=l.filter((function(e){return e.full_name.toLowerCase()===f}))).length<1)){e.next=33;break}return console.log("repositoryExistsOnDoor43(".concat(n,", ").concat(r,") - repo not found"),l.length,p.length),e.abrupt("return",!1);case 33:return e.abrupt("return",!0);case 34:case"end":return e.stop()}}),e,null,[[1,7],[13,21]])})))).apply(this,arguments)}function U(e){return _.apply(this,arguments)}function _(){return(_=(0,i.default)(c.default.mark((function e(t){var n,r,a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.params,e.next=3,T.get(b+n,{params:r});case 3:return!0!==(a=e.sent).request.fromCache&&console.log("  Door43Api downloaded Door43 ".concat(n)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=(0,i.default)(c.default.mark((function e(t){var n,r,a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.params,e.next=3,T.get(n,{params:r});case 3:return!0!==(a=e.sent).request.fromCache&&console.log("  Door43Api downloaded ".concat(n)),e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return z.apply(this,arguments)}function z(){return(z=(0,i.default)(c.default.mark((function e(t){var n,r,a,o=arguments;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.username,r=t.repository,a=t.branch,o.length>1&&void 0!==o[1]&&o[1]){e.next=8;break}return e.next=5,J(n,r,a);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",W({username:n,repository:r,branch:a}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,s;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,console.log("downloadRepositoryZipFile(".concat(n,", ").concat(r,", ").concat(a,")\u2026")),o=Z({username:n,repository:r,branch:a}),e.next=5,fetch(o);case 5:if(200!==(i=e.sent).status&&0!==i.status){e.next=15;break}return e.next=9,i.arrayBuffer();case 9:return s=e.sent,e.next=12,v.setItem(o.toLowerCase(),s);case 12:return e.abrupt("return",!0);case 15:return console.error("downloadRepositoryZipFile(".concat(n,", ").concat(r,", ").concat(a,") -- got response status: ").concat(i.status)),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,s,l,u,d;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,o=t.optionalPrefix,i=Z({username:n,repository:r,branch:a}),e.next=4,J(n,r,a);case 4:if(s=e.sent){e.next=20;break}return e.next=8,fetch(i);case 8:if(200!==(l=e.sent).status&&0!==l.status){e.next=18;break}return e.next=12,l.arrayBuffer();case 12:return u=e.sent,e.next=15,v.setItem(i.toLowerCase(),u);case 15:s=e.sent,e.next=20;break;case 18:return console.error("getFileListFromZip got response status: ".concat(l.status)),e.abrupt("return",[]);case 20:if(d=[],e.prev=21,!s){e.next=27;break}return e.next=25,f.default.loadAsync(s);case 25:e.sent.forEach((function(e){e.endsWith("/")||(e.startsWith("".concat(r,"/"))&&(e=e.substring(r.length+1)),!e.length||e.startsWith(".git")||e.startsWith(".apps")||o&&!e.startsWith(o)||d.push(e))}));case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(21),console.error("getFileListFromZip got: ".concat(e.t0.message));case 32:return e.abrupt("return",d);case 33:case"end":return e.stop()}}),e,null,[[21,29]])})))).apply(this,arguments)}function J(e,t,n){return H.apply(this,arguments)}function H(){return(H=(0,i.default)(c.default.mark((function e(t,n,r){var a,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Z({username:t,repository:n,branch:r}),e.next=3,v.getItem(a.toLowerCase());case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return $.apply(this,arguments)}function $(){return($=(0,i.default)(c.default.mark((function e(t){var n,r,a,o,i,l,u,d;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,e.next=3,J(n,r,o);case 3:if(l=e.sent,e.prev=4,!l){e.next=13;break}return e.next=8,f.default.loadAsync(l);case 8:return u=e.sent,d=s.default.join(r.toLowerCase(),a),e.next=12,u.file(d).async("string");case 12:i=e.sent;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),e.t0.message.indexOf(" is null")<0&&console.error("getFileFromZip for ".concat(n," ").concat(r," ").concat(a," ").concat(o," got: ").concat(e.t0.message)),i=null;case 19:return e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function Z(e){var t=e.username,n=e.repository,r=e.branch,a=void 0===r?"master":r,o=s.default.join(t,n,"archive","".concat(a,".zip"));return b+o}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.consoleLogObject=function(e,t){var n="cLO: ".concat(e," ").concat(typeof t," (length=").concat(t.length,") (size=").concat(t.size,"):\n");for(var r in t){var a=""+t[r];a.length>50&&(a="(".concat(a.length,") ").concat(a.substring(0,50),"\u2026"));var o=typeof t[r];"object"===o&&"[object Array]"===Object.prototype.toString.call(t[r])&&(o="array"),n+="  ".concat(r," (type=").concat(o,")");var c=void 0;try{c=t[r].length}catch(i){c="null"}void 0!==c&&(n+=" (length=".concat(c,")")),void 0!==a&&(n+=": ".concat(a,"\n"))}console.log(n)},t.displayPropertyNames=function(e,t){var n="dPN: ".concat(e," ").concat(typeof t,":\n");for(var r in t)n+="  ".concat(r," (type=").concat(typeof t[r],")\n");console.log(n)},t.ourParseInt=function(e){var t=1*e;if(isNaN(t))throw"String '".concat(e,"'is not a simple integer");return t}},192:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.clearCheckedArticleCache=function(){return S.apply(this,arguments)},t.checkTNLinksToOutside=function(e,t,n,r,a,o,c){return j.apply(this,arguments)};var o=a(n(108)),c=a(n(25)),i=a(n(79)),s=a(n(80)),l=a(n(85)),u=a(n(98)),d=r(n(78)),f=n(57),p=n(371),h=n(190);function m(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=new RegExp("\\[.+?\\]\\(.+?\\)","g"),x=new RegExp("\\[\\[.+?\\]\\]","g"),k=new RegExp("\\[\\[rc://([^ /]+?)/ta/man/([^ /]+?)/([^ \\]]+?)\\]\\]","g"),T=new RegExp("\\[\\[rc://([^ /]+?)/tw/dict/bible/([^ /]+?)/([^ \\]]+?)\\]\\]","g"),w=new RegExp("\\[((?:1 |2 |3 )?)((?:\\w+? )?)(\\d{1,3}):(\\d{1,3})\\]\\(([123A-Z]{2,3})/(\\d{1,3})/(\\d{1,3})\\.md\\)","g"),C=new RegExp("\\[((?:1 |2 |3 )?)((?:\\w+? )?)(\\d{1,3}):(\\d{1,3})\\]\\((\\.{2,3})/(\\d{1,3})/(\\d{1,3})\\.md\\)","g"),O=new RegExp("\\[((?:1 |2 |3 )?)((?:\\w+? )?)(?:(\\d{1,3}):)?(\\d{1,3})\\]\\(\\./(\\d{1,3})\\.md\\)","g"),N=l.default.createInstance({driver:[l.default.INDEXEDDB],name:"CV-checked-path-store"});function S(){return(S=(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clearCheckedArticleCache()\u2026"),e.next=3,N.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return(L=(0,s.default)(i.default.mark((function e(t){var n,r,a,o,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,c=u.default.join(n,r,o,a),e.next=4,N.setItem(c,!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return D.apply(this,arguments)}function D(){return(D=(0,s.default)(i.default.mark((function e(t){var n,r,a,o,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,c=u.default.join(n,r,o,a),e.next=4,N.getItem(c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=(0,s.default)(i.default.mark((function e(t,n,r,a,c,s,l){var u,g,b,N,S,L,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q,$,Z,Y,K,X,ee,te,ne,re,ae,oe,ce,ie,se,le,ue,de,fe,pe,he,me,ge,be,ye,ve,xe,ke,Te,we,Ce,Oe,Ne,Se,Ie,Le,Fe,De,je,Pe,Ae,Ee,Re,Me,Ue,_e,Ve,Be,ze,We,Qe,Ge,Je,He,qe,$e,Ze,Ye,Ke,Xe,et,tt,nt,rt,at,ot,ct,it,st,lt,ut,dt;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b=function(e){console.assert(void 0!==e.priority,"cTNlnk addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cTNlnk addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cTNlnk addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cTNlnk addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cTNlnk addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cTNlnk addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cTNlnk addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cTNlnk addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),g.noticeList.push(y(y({},e),{},{bookID:t,fieldName:a}))},console.assert(void 0!==t,"checkTNLinksToOutside: 'bookID' parameter should be defined"),console.assert("string"===typeof t,"checkTNLinksToOutside: 'bookID' parameter should be a string not a '".concat(typeof t,"'")),console.assert(3===t.length,"checkTNLinksToOutside: 'bookID' parameter should be three characters long not ".concat(t.length)),console.assert(t.toUpperCase()===t,"checkTNLinksToOutside: 'bookID' parameter should be UPPERCASE not '".concat(t,"'")),console.assert("OBS"===t||d.isValidBookID(t),"checkTNLinksToOutside: '".concat(t,"' is not a valid USFM book identifier")),console.assert("string"===typeof n,"checkTNLinksToOutside: 'givenC' parameter should be a string not a '".concat(typeof n,"'")),console.assert("string"===typeof r,"checkTNLinksToOutside: 'givenV' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"checkTNLinksToOutside: 'fieldText' parameter should be defined"),console.assert("string"===typeof a,"checkTNLinksToOutside: 'fieldText' parameter should be a string not a '".concat(typeof a,"'")),console.assert("OccurrenceNote"===a||"Annotation"===a,"checkTNLinksToOutside: 'fieldName' parameter should be 'OccurrenceNote' or 'Annotation' not '".concat(a,"'")),console.assert(void 0!==c,"checkTNLinksToOutside: 'fieldText' parameter should be defined"),console.assert("string"===typeof c,"checkTNLinksToOutside: 'fieldText' parameter should be a string not a '".concat(typeof c,"'")),console.assert(void 0!==s,"checkTNLinksToOutside: 'fieldText' parameter should be defined"),console.assert("string"===typeof s,"checkTNLinksToOutside: 'fieldText' parameter should be a string not a '".concat(typeof s,"'")),console.assert("OccurrenceNote"===a||"Annotation"===a,"Unexpected checkTNLinksToOutside fieldName='".concat(a,"'")),(u=s)&&" "!==u[0]&&(u=" ".concat(u)),g={noticeList:[],checkedFileCount:0,checkedFilenames:[],checkedRepoNames:[]};try{N=null===l||void 0===l?void 0:l.extractLength}catch(i){}("number"!==typeof N||isNaN(N))&&(N=f.DEFAULT_EXTRACT_LENGTH),S=Math.floor(N/2),L=Math.floor((N+1)/2),D=l&&null!==l&&void 0!==l&&l.getFile?null===l||void 0===l?void 0:l.getFile:p.cachedGetFile;try{j=null===l||void 0===l?void 0:l.defaultLanguageCode}catch(ft){}j||(j="en");try{P=null===l||void 0===l?void 0:l.taRepoUsername}catch(pt){}P||(P="en"===j?"unfoldingWord":"Door43-Catalog");try{A=null===l||void 0===l?void 0:l.taRepoBranch}catch(ht){}A||(A="master");try{E=null===l||void 0===l?void 0:l.twRepoUsername}catch(pt){}E||(E="en"===j?"unfoldingWord":"Door43-Catalog");try{R=null===l||void 0===l?void 0:l.twRepoBranch}catch(ht){}R||(R="master"),U=c.match(v)||[],_=c.match(x)||[],V=U.length,B=_.length,z=0,W=0,Q=0,G=0,J=0;case 39:if(!(M=k.exec(c))){e.next=85;break}if(z+=1,console.assert(4===M.length,"Expected 4 fields (not ".concat(M.length,")")),"*"!==(H=M[1])?(q=k.lastIndex-M[0].length+7,$=(q>S?"\u2026":"")+c.substring(q-S,q+L)+(q+L<c.length?"\u2026":""),b({priority:450,message:"Resource container link should have '*' language code",details:"not '".concat(H,"'"),characterIndex:q,extract:$,location:u})):(Z=k.lastIndex-M[0].length+7,Y=(Z>S?"\u2026":"")+c.substring(Z-S,Z+L)+(Z+L<c.length?"\u2026":""),b({priority:950,message:"tC cannot yet process '*' language code",characterIndex:Z,extract:Y,location:u})),H&&"*"!==H||(H=j),K="".concat(H,"_ta"),X="".concat(M[2],"/").concat(M[3],"/01.md"),null!==l&&void 0!==l&&l.disableAllLinkFetchingFlag){e.next=83;break}return ee={username:P,repository:K,path:X,branch:A},te=void 0,e.prev=50,e.next=53,D(ee);case 53:te=e.sent,e.next=59;break;case 56:e.prev=56,e.t0=e.catch(50),b({priority:885,message:"Error loading ".concat(a," TA link"),extract:M[0],location:"".concat(u," ").concat(X,": ").concat(e.t0)});case 59:if(te){e.next=63;break}b({priority:886,message:"Unable to find ".concat(a," TA link"),extract:M[0],location:"".concat(u," ").concat(X)}),e.next=83;break;case 63:if(!(te.length<10)){e.next=67;break}b({priority:884,message:"Linked ".concat(a," TA article seems empty"),extract:M[0],location:"".concat(u," ").concat(X)}),e.next=83;break;case 67:if(!0!==(null===l||void 0===l?void 0:l.checkLinkedTAArticleFlag)){e.next=83;break}return e.next=70,F(ee);case 70:if(e.t1=e.sent,!0===e.t1){e.next=83;break}return e.next=74,(0,p.checkMarkdownText)(H,"TA ".concat(M[3],".md"),te,u,l);case 74:ne=e.sent,re=m(ne.noticeList);try{for(re.s();!(ae=re.n()).done;)oe=ae.value,g.noticeList.push(y(y({},oe),{},{username:P,repoCode:"TA",repoName:K,filename:X,location:" linked to".concat(u),extra:"TA"}))}catch(mt){re.e(mt)}finally{re.f()}g.checkedFileCount+=1,g.checkedFilenames.push("".concat(M[3],".md")),g.checkedFilesizes=te.length,g.checkedFilenameExtensions=["md"],g.checkedRepoNames.push(K),I(ee);case 83:e.next=39;break;case 85:if(!(M=T.exec(c))){e.next=131;break}if(W+=1,console.assert(4===M.length,"Expected 4 fields (not ".concat(M.length,")")),(ce=M[1])&&"*"!==ce||(ce=j),ie="".concat(ce,"_tw"),se="bible/".concat(M[2],"/").concat(M[3],".md"),null!==l&&void 0!==l&&l.disableAllLinkFetchingFlag){e.next=129;break}return le={username:E,repository:ie,path:se,branch:R},ue=void 0,e.prev=95,e.next=98,D(le);case 98:ue=e.sent,e.next=105;break;case 101:e.prev=101,e.t2=e.catch(95),console.error("checkTNLinksToOutside(".concat(t,", ").concat(a,", \u2026) failed to load TW"),E,ie,se,R,e.t2.message),b({priority:882,message:"Error loading ".concat(a," TW link"),extract:M[0],location:"".concat(u," ").concat(se,": ").concat(e.t2)});case 105:if(ue){e.next=109;break}b({priority:883,message:"Unable to find ".concat(a," TW link"),extract:M[0],location:"".concat(u," ").concat(se)}),e.next=129;break;case 109:if(!(ue.length<10)){e.next=113;break}b({priority:881,message:"Linked ".concat(a," TW article seems empty"),extract:M[0],location:"".concat(u," ").concat(se)}),e.next=129;break;case 113:if(!0!==(null===l||void 0===l?void 0:l.checkLinkedTWArticleFlag)){e.next=129;break}return e.next=116,F(le);case 116:if(e.t3=e.sent,!0===e.t3){e.next=129;break}return e.next=120,(0,p.checkMarkdownText)(ce,"TW ".concat(M[3],".md"),ue,u,l);case 120:de=e.sent,fe=m(de.noticeList);try{for(fe.s();!(pe=fe.n()).done;)he=pe.value,g.noticeList.push(y(y({},he),{},{username:E,repoCode:"TW",repoName:ie,filename:se,location:" linked to".concat(u),extra:"TW"}))}catch(mt){fe.e(mt)}finally{fe.f()}g.checkedFileCount+=1,g.checkedFilenames.push("".concat(M[3],".md")),g.checkedFilesizes=ue.length,g.checkedFilenameExtensions=["md"],g.checkedRepoNames.push(ie),I(le);case 129:e.next=85;break;case 131:for(;M=O.exec(c);){Q+=1,console.assert(6===M.length,"Expected 6 fields (not ".concat(M.length,")")),me=M,ge=(0,o.default)(me,6),be=ge[0],ye=ge[1],ve=ge[2],xe=ge[3],ke=ge[4],Te=ge[5],ye&&console.assert(ve,"Should have book name as well as number '".concat(ye,"'")),ve&&(ve="".concat(ye).concat(ve).trim(),"en"===j&&(void 0!==(we=d.isGoodEnglishBookName(ve))&&!1!==we||b({priority:143,message:"Unknown Bible book name in link",details:be,extract:ve,location:u}))),Ce=t,Oe=(0,h.ourParseInt)(n),Ne=(0,h.ourParseInt)(Te);try{(0,h.ourParseInt)(xe)!==Oe&&b({priority:743,message:"Chapter numbers of markdown Bible link don\u2019t match",details:"".concat(xe," vs ").concat(Oe),extract:be,location:u})}catch(gt){console.error("TN Link Check couldn\u2019t compare chapter numbers: ".concat(gt))}try{(0,h.ourParseInt)(ke)!==(0,h.ourParseInt)(Ne)&&b({priority:742,message:"Verse numbers of markdown Bible link don\u2019t match",details:"".concat(ke," vs ").concat(Ne),extract:be,location:u})}catch(bt){console.error("TN Link Check couldn\u2019t compare verse numbers: ".concat(bt))}if(Ce){Se=void 0,Ie=void 0,console.assert("obs"!==Ce.toLowerCase(),"Shouldn\u2019t happen in tn-links-check");try{Se=d.chaptersInBook(Ce.toLowerCase()).length}catch(yt){}try{Ie=d.versesInChapter(Ce.toLowerCase(),Oe)}catch(vt){}!Oe||Oe<1||Oe>Se?b({priority:655,message:"Bad chapter number in markdown Bible link",details:"".concat(Ce," ").concat(Oe," vs ").concat(Se," chapters"),extract:be,location:u}):(!Ne||Ne<0||Ne>Ie)&&b({priority:653,message:"Bad verse number in markdown Bible link",details:"".concat(Ce," ").concat(Oe,":").concat(Ne," vs ").concat(Ie," verses"),extract:be,location:u})}}for(;M=C.exec(c);){G+=1,console.assert(8===M.length,"Expected 8 fields (not ".concat(M.length,")")),Le=M,Fe=(0,o.default)(Le,8),De=Fe[0],je=Fe[1],Pe=Fe[2],Ae=Fe[3],Ee=Fe[4],Re=Fe[5],Me=Fe[6],Ue=Fe[7],je&&console.assert(Pe,"Should have book name as well as number '".concat(je,"'")),Pe&&(Pe="".concat(je).concat(Pe).trim(),"en"===j&&(void 0!==(_e=d.isGoodEnglishBookName(Pe))&&!1!==_e||b({priority:143,message:"Unknown Bible book name in link",details:De,extract:Pe,location:u}))),Ve=".."===Re?t:Re,Be=(0,h.ourParseInt)(Me),ze=(0,h.ourParseInt)(Ue);try{(0,h.ourParseInt)(Ae)!==Be&&b({priority:743,message:"Chapter numbers of markdown Bible link don\u2019t match",details:"".concat(Ae," vs ").concat(Be),extract:De,location:u})}catch(gt){console.error("TN Link Check couldn\u2019t compare chapter numbers: ".concat(gt))}try{(0,h.ourParseInt)(Ee)!==(0,h.ourParseInt)(ze)&&b({priority:742,message:"Verse numbers of markdown Bible link don\u2019t match",details:"".concat(Ee," vs ").concat(ze),extract:De,location:u})}catch(bt){console.error("TN Link Check couldn\u2019t compare verse numbers: ".concat(bt))}if(Ve){We=void 0,Qe=void 0,console.assert("obs"!==Ve.toLowerCase(),"Shouldn\u2019t happen in tn-links-check");try{We=d.chaptersInBook(Ve.toLowerCase()).length}catch(yt){}try{Qe=d.versesInChapter(Ve.toLowerCase(),Be)}catch(vt){}!Be||Be<1||Be>We?b({priority:655,message:"Bad chapter number in markdown Bible link",details:"".concat(Ve," ").concat(Be," vs ").concat(We," chapters"),extract:De,location:u}):(!ze||ze<0||ze>Qe)&&b({priority:653,message:"Bad verse number in markdown Bible link",details:"".concat(Ve," ").concat(Be,":").concat(ze," vs ").concat(Qe," verses"),extract:De,location:u})}}for(;M=w.exec(c);){console.log("  checkTNLinksToOutside OTHER_BOOK_BIBLE_REGEX regexResultArray=".concat(JSON.stringify(M))),J+=1,console.assert(8===M.length,"Expected 8 fields (not ".concat(M.length,")")),Ge=M,Je=(0,o.default)(Ge,8),He=Je[0],qe=Je[1],$e=Je[2],Ze=Je[3],Ye=Je[4],Ke=Je[5],Xe=Je[6],et=Je[7],qe&&console.assert($e,"Should have book name as well as number '".concat(qe,"'")),$e&&($e="".concat(qe).concat($e).trim(),"en"===j&&(void 0!==(tt=d.isGoodEnglishBookName($e))&&!1!==tt||b({priority:143,message:"Unknown Bible book name in link",details:He,extract:$e,location:u}))),nt=".."===Ke?t:Ke,rt=(0,h.ourParseInt)(Xe),at=(0,h.ourParseInt)(et);try{(0,h.ourParseInt)(Ze)!==rt&&b({priority:743,message:"Chapter numbers of markdown Bible link don\u2019t match",details:"".concat(Ze," vs ").concat(rt),extract:He,location:u})}catch(gt){console.error("TN Link Check couldn\u2019t compare chapter numbers: ".concat(gt))}try{(0,h.ourParseInt)(Ye)!==(0,h.ourParseInt)(at)&&b({priority:742,message:"Verse numbers of markdown Bible link don\u2019t match",details:"".concat(Ye," vs ").concat(at),extract:He,location:u})}catch(bt){console.error("TN Link Check couldn\u2019t compare verse numbers: ".concat(bt))}if(nt){ot=void 0,ct=void 0,console.assert("obs"!==nt.toLowerCase(),"Shouldn\u2019t happen in tn-links-check");try{ot=d.chaptersInBook(nt.toLowerCase()).length}catch(yt){}try{ct=d.versesInChapter(nt.toLowerCase(),rt)}catch(vt){}!rt||rt<1||rt>ot?b({priority:655,message:"Bad chapter number in markdown Bible link",details:"".concat(nt," ").concat(rt," vs ").concat(ot," chapters"),extract:He,location:u}):(!at||at<0||at>ct)&&b({priority:653,message:"Bad verse number in markdown Bible link",details:"".concat(nt," ").concat(rt,":").concat(at," vs ").concat(ct," verses"),extract:He,location:u})}}return V>(it=Q+G+J)&&b({priority:648,message:"More [ ]( ) links than valid Bible links",details:"detected ".concat(V," link").concat(1===V?"":"s"," but ").concat(it?"only ".concat(it):"no"," Bible link").concat(1===it?"":"s"," from ").concat(JSON.stringify(U)),location:u}),B>(st=W+z)&&b({priority:649,message:"More [[ ]] links than valid TA/TW links",details:"detected ".concat(B," link").concat(1===B?"":"s"," but ").concat(st?"only ".concat(st):"no"," TA/TW link").concat(1===st?"":"s"," from ").concat(JSON.stringify(_)),location:u}),lt=(0,f.countOccurrences)(c,"[["),ut=(0,f.countOccurrences)(c,"]]"),lt!==ut?b({priority:845,message:"Mismatched [[ ]] link characters",details:"left=".concat(lt.toLocaleString(),", right=").concat(ut.toLocaleString()),location:u}):(lt=(0,f.countOccurrences)(c,"[[rc://"))!==ut&&b({priority:844,message:"Mismatched [[rc:// ]] link characters",details:"left=".concat(lt.toLocaleString(),", right=").concat(ut.toLocaleString()),location:u}),lt=(0,f.countOccurrences)(c,"["),dt=(0,f.countOccurrences)(c,"]("),ut=(0,f.countOccurrences)(c,")"),(lt<dt||ut<dt)&&b({priority:843,message:"Mismatched [ ]( ) link characters",details:"left=".concat(lt.toLocaleString(),", middle=").concat(dt.toLocaleString(),", right=").concat(ut.toLocaleString()),location:u}),e.abrupt("return",g);case 146:case"end":return e.stop()}}),e,null,[[50,56],[95,101]])})))).apply(this,arguments)}},193:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkMarkdownText=function(e,t,n,r,a){return g.apply(this,arguments)};var a=r(n(79)),o=r(n(25)),c=r(n(80)),i=n(57),s=n(116),l=n(155),u=n(117);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=new RegExp("!\\[([^\\]]+?)\\]\\(([^ \\]]+?)\\)","g");function g(){return(g=(0,c.default)(a.default.mark((function e(t,n,r,o,d){var h,g,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T=function(){return(T=(0,c.default)(a.default.mark((function e(t,r,o){var c,i,s,u,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=m.exec(r))){e.next=21;break}if("OBS Image"!==c[1]&&console.log("This code was only checked for 'OBS Image' links"),(i=c[2]).startsWith("https://")){e.next=7;break}v({priority:749,message:"Markdown image link seems faulty",lineNumber:t,extract:i,location:o}),e.next=19;break;case 7:if(!0===(null===d||void 0===d?void 0:d.disableAllLinkFetchingFlag)){e.next=19;break}return e.prev=8,e.next=11,(0,l.cachedGetFileUsingFullURL)({uri:i});case 11:s=e.sent,console.assert(s.length>10,"Expected ".concat(i," image file to be longer: ").concat(s.length)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Markdown image link fetch had an error fetching '".concat(i,"': ").concat(e.t0)),v({priority:748,message:"Error fetching markdown image link",lineNumber:t,extract:i,location:o});case 19:e.next=0;break;case 21:for(u=(u=(u=r).replace(/^#+|#+$/g,"")).replace(/^ +/g,"");u.startsWith(">");)u=u.replace(/^>+ */g,"");if(u&&"|"!==r[0]&&(f=x(n,t,u,!0,o,d)),u!==r){e.next=28;break}return e.abrupt("return",f);case 28:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)},k=function(e,t,n){return T.apply(this,arguments)},x=function(e,t,n,r,a,o){console.assert(void 0!==e,"cMdT ourCheckTextField: 'fieldName' parameter should be defined"),console.assert("string"===typeof e,"cMdT ourCheckTextField: 'fieldName' parameter should be a string not a '".concat(typeof e,"'")),console.assert(void 0!==t,"cMdT ourCheckTextField: 'lineNumber' parameter should be defined"),console.assert("number"===typeof t,"cMdT ourCheckTextField: 'lineNumber' parameter should be a number not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cMdT ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"cMdT ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(!0===r||!1===r,"cMdT ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==a,"cMdT ourCheckTextField: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof a,"cMdT ourCheckTextField: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof a,"'"));var c,i=(0,s.checkTextField)("markdown",e,n,r,a,o),l=p(i.noticeList);try{for(l.s();!(c=l.n()).done;){var u=c.value;v(f(f({},u),{},{lineNumber:t}))}}catch(d){l.e(d)}finally{l.f()}return i.suggestion},v=function(e){console.assert(void 0!==e.priority,"cMdT addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cMdT addNotice: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cMdT addNotice: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cMdT addNotice: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cMdT addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cMdT addNotice: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cMdT addNotice: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cMdT addNotice: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),b.noticeList.push(e)},y=function(e){b.successList.push(e)},console.assert(void 0!==t,"checkMarkdownText: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkMarkdownText: 'languageCode' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkMarkdownText: 'textOrFileName' parameter should be defined"),console.assert("string"===typeof n,"checkMarkdownText: 'textOrFileName' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkMarkdownText: 'markdownText' parameter should be defined"),console.assert("string"===typeof r,"checkMarkdownText: 'markdownText' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),console.assert(void 0!==o,"checkMarkdownText: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof o,"checkMarkdownText: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof o,"': ").concat(o)),console.assert(-1===o.indexOf("true"),"checkMarkdownText: 'optionalFieldLocation' parameter should not be '".concat(o,"'")),console.assert(void 0!==d,"checkMarkdownText: 'checkingOptions' parameter should be defined"),void 0!==d&&console.assert("object"===typeof d,"checkMarkdownText: 'checkingOptions' parameter should be an object not a '".concat(typeof d,"': ").concat(JSON.stringify(d))),(h=o)&&" "!==h[0]&&(h=" ".concat(h));try{g=null===d||void 0===d?void 0:d.extractLength}catch(P){}("number"!==typeof g||isNaN(g))&&(g=i.DEFAULT_EXTRACT_LENGTH),b={successList:[],noticeList:[]},w=r.split("\n"),C=0,O=0,N=[],S=1;case 26:if(!(S<=w.length)){e.next=47;break}if(I=w[S-1],L=void 0,!I){e.next=41;break}return(F=I.match(/^#*/)[0].length)>C+1&&!n.startsWith("TA ")&&v({priority:172,message:"Header levels should only increment by one",lineNumber:S,characterIndex:0,location:h}),F>0&&(C=F),(L=I.match(/^ */)[0].length)&&O&&L!==O&&v({priority:472,message:"Nesting of header levels seems confused",lineNumber:S,characterIndex:0,location:h}),e.next=37,k(S,I,h);case 37:D=e.sent,N.push(void 0===D?I:D),e.next=43;break;case 41:L=0,N.push("");case 43:O=L;case 44:S++,e.next=26;break;case 47:return(j=N.join("\n"))!==r&&(b.suggestion=j),null!==d&&void 0!==d&&d.suppressNoticeDisablingFlag||(b.noticeList=(0,u.removeDisabledNotices)(b.noticeList)),y("Checked all ".concat(w.length.toLocaleString()," line").concat(1===w.length?"":"s").concat(h,".")),b.noticeList?y("checkMarkdownText v".concat("0.4.3"," finished with ").concat(b.noticeList.length?b.noticeList.length.toLocaleString():"zero"," notice").concat(1===b.noticeList.length?"":"s")):y("No errors or warnings found by checkMarkdownText v".concat("0.4.3")),n.endsWith("walk.md")&&console.log("checkMarkdownText result is",JSON.stringify(b)),e.abrupt("return",b);case 54:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},194:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkTextfileContents=function(e,t,n,r,a,c){console.assert(void 0!==e,"checkTextfileContents: 'languageCode' parameter should be defined"),console.assert("string"===typeof e,"checkTextfileContents: 'languageCode' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert(void 0!==t,"checkTextfileContents: 'fileType' parameter should be defined"),console.assert("string"===typeof t,"checkTextfileContents: 'fileType' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(""!==t,"checkTextfileContents: 'fileType' ".concat(t," parameter should be not be an empty string")),console.assert("markdown"===t||"USFM"===t||"YAML"===t||"text"===t,"checkTextfileContents: unrecognised 'fileType' parameter: '".concat(t,"'")),console.assert(void 0!==n,"checkTextfileContents: 'filename' parameter should be defined"),console.assert("string"===typeof n,"checkTextfileContents: 'filename' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkTextfileContents: 'fileText' parameter should be defined"),console.assert("string"===typeof r,"checkTextfileContents: 'fileText' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),console.assert(void 0!==c,"checkTextfileContents: 'checkingOptions' parameter should be defined");var l={noticeList:[]};function u(r){console.assert(void 0!==r.priority,"dBTCs addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof r.priority,"dBTCs addNotice: 'priority' parameter should be a number not a '".concat(typeof r.priority,"': ").concat(r.priority)),console.assert(void 0!==r.message,"dBTCs addNotice: 'message' parameter should be defined"),console.assert("string"===typeof r.message,"dBTCs addNotice: 'message' parameter should be a string not a '".concat(typeof r.message,"': ").concat(r.message)),r.characterIndex&&console.assert("number"===typeof r.characterIndex,"dBTCs addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof r.characterIndex,"': ").concat(r.characterIndex)),r.extract&&console.assert("string"===typeof r.extract,"dBTCs addNotice: 'extract' parameter should be a string not a '".concat(typeof r.extract,"': ").concat(r.extract)),console.assert(void 0!==r.location,"dBTCs addNotice: 'location' parameter should be defined"),console.assert("string"===typeof r.location,"dBTCs addNotice: 'location' parameter should be a string not a '".concat(typeof r.location,"': ").concat(r.location)),r.debugChain&&(r.debugChain="checkTextfileContents(".concat(e,", ").concat(t,", ").concat(n,") ").concat(r.debugChain)),l.noticeList.push(r)}if(!r)return l;var d=a;d&&" "!==d[0]&&(d=" ".concat(d));return function(e,t,n,r,a){console.assert(void 0!==n,"cPT ourCheckPlainText: 'plainText' parameter should be defined"),console.assert("string"===typeof n,"cPT ourCheckPlainText: 'plainText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==a,"cPT ourCheckPlainText: 'checkingOptions' parameter should be defined");var c,l=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}((0,o.checkPlainText)(e,t,n,r,a).noticeList);try{for(l.s();!(c=l.n()).done;){u(i(i({},c.value),{},{filename:t}))}}catch(d){l.e(d)}finally{l.f()}}(t,n,r,d,c),l};var a=r(n(25)),o=n(378);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},34:function(e){e.exports=JSON.parse('[{"id":"gen","title":"Genesis","usfm":"01-GEN","testament":"old","verseCount":1533,"chapters":[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},{"id":"exo","title":"Exodus","usfm":"02-EXO","testament":"old","verseCount":1213,"chapters":[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},{"id":"lev","title":"Leviticus","usfm":"03-LEV","testament":"old","verseCount":859,"chapters":[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},{"id":"num","title":"Numbers","usfm":"04-NUM","testament":"old","verseCount":1288,"chapters":[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},{"id":"deu","title":"Deuteronomy","usfm":"05-DEU","testament":"old","verseCount":959,"chapters":[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},{"id":"jos","title":"Joshua","usfm":"06-JOS","testament":"old","verseCount":658,"chapters":[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},{"id":"jdg","title":"Judges","usfm":"07-JDJ","testament":"old","verseCount":618,"chapters":[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},{"id":"rut","title":"Ruth","usfm":"08-RUT","testament":"old","verseCount":85,"chapters":[22,23,18,22]},{"id":"1sa","title":"1 Samuel","usfm":"09-1SA","testament":"old","verseCount":810,"chapters":[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},{"id":"2sa","title":"2 Samuel","usfm":"10-2SA","testament":"old","verseCount":695,"chapters":[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},{"id":"1ki","title":"1 Kings","usfm":"11-1KI","testament":"old","verseCount":816,"chapters":[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},{"id":"2ki","title":"2 Kings","usfm":"12-2KI","testament":"old","verseCount":719,"chapters":[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},{"id":"1ch","title":"1 Chronicles","usfm":"13-1CH","testament":"old","verseCount":942,"chapters":[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},{"id":"2ch","title":"2 Chronicles","usfm":"14-2CH","testament":"old","verseCount":822,"chapters":[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},{"id":"ezr","title":"Ezra","usfm":"15-EZR","testament":"old","verseCount":280,"chapters":[11,70,13,24,17,22,28,36,15,44]},{"id":"neh","title":"Nehemiah","usfm":"16-NEH","testament":"old","verseCount":406,"chapters":[11,20,32,23,19,19,73,18,38,39,36,47,31]},{"id":"est","title":"Esther","usfm":"17-EST","testament":"old","verseCount":167,"chapters":[22,23,15,17,14,14,10,17,32,3]},{"id":"job","title":"Job","usfm":"18-JOB","testament":"old","verseCount":1070,"chapters":[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},{"id":"psa","title":"Psalms","usfm":"19-PSA","testament":"old","verseCount":2461,"chapters":[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},{"id":"pro","title":"Proverbs","usfm":"20-PRO","testament":"old","verseCount":915,"chapters":[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},{"id":"ecc","title":"Ecclesiastes","usfm":"21-ECC","testament":"old","verseCount":222,"chapters":[18,26,22,16,20,12,29,17,18,20,10,14]},{"id":"sng","title":"Song of Songs","usfm":"22-SNG","testament":"old","verseCount":117,"chapters":[17,17,11,16,16,13,13,14]},{"id":"isa","title":"Isaiah","usfm":"23-ISA","testament":"old","verseCount":1292,"chapters":[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},{"id":"jer","title":"Jermiah","usfm":"24-JER","testament":"old","verseCount":1364,"chapters":[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},{"id":"lam","title":"Lamentations","usfm":"25-LAM","testament":"old","verseCount":154,"chapters":[22,22,66,22,22]},{"id":"ezk","title":"Ezekiel","usfm":"26-EZK","testament":"old","verseCount":1273,"chapters":[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},{"id":"dan","title":"Daniel","usfm":"27-DAN","testament":"old","verseCount":357,"chapters":[21,49,30,37,31,28,28,27,27,21,45,13]},{"id":"hos","title":"Hosea","usfm":"28-HOS","testament":"old","verseCount":197,"chapters":[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},{"id":"jol","title":"Joel","usfm":"29-JOL","testament":"old","verseCount":73,"chapters":[20,32,21]},{"id":"amo","title":"Amos","usfm":"30-AMO","testament":"old","verseCount":146,"chapters":[15,16,15,13,27,14,17,14,15]},{"id":"oba","title":"Obadiah","usfm":"31-OBA","testament":"old","verseCount":21,"chapters":[21]},{"id":"jon","title":"Jonah","usfm":"32-JON","testament":"old","verseCount":48,"chapters":[17,10,10,11]},{"id":"mic","title":"Micah","usfm":"33-MIC","testament":"old","verseCount":105,"chapters":[16,13,12,13,15,16,20]},{"id":"nam","title":"Nahum","usfm":"34-NAM","testament":"old","verseCount":47,"chapters":[15,13,19]},{"id":"hab","title":"Habakkuk","usfm":"35-HAB","testament":"old","verseCount":56,"chapters":[17,20,19]},{"id":"zep","title":"Zephaniah","usfm":"36-ZEP","testament":"old","verseCount":53,"chapters":[18,15,20]},{"id":"hag","title":"Haggai","usfm":"37-HAG","testament":"old","verseCount":38,"chapters":[15,23]},{"id":"zec","title":"Zechariah","usfm":"38-ZEC","testament":"old","verseCount":211,"chapters":[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},{"id":"mal","title":"Malachi","usfm":"39-MAL","testament":"old","verseCount":55,"chapters":[14,17,18,6]},{"id":"mat","title":"Matthew","usfm":"41-MAT","testament":"new","verseCount":1071,"chapters":[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},{"id":"mrk","title":"Mark","usfm":"42-MRK","testament":"new","verseCount":678,"chapters":[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},{"id":"luk","title":"Luke","usfm":"43-LUK","testament":"new","verseCount":1151,"chapters":[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},{"id":"jhn","title":"John","usfm":"44-JHN","testament":"new","verseCount":879,"chapters":[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},{"id":"act","title":"Acts","usfm":"45-ACT","testament":"new","verseCount":1007,"chapters":[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},{"id":"rom","title":"Romans","usfm":"46-ROM","testament":"new","verseCount":433,"chapters":[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},{"id":"1co","title":"1 Corinthians","usfm":"47-1CO","testament":"new","verseCount":437,"chapters":[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},{"id":"2co","title":"2 Corinthians","usfm":"48-2CO","testament":"new","verseCount":257,"chapters":[24,17,18,18,21,18,16,24,15,18,33,21,14]},{"id":"gal","title":"Galatians","usfm":"49-GAL","testament":"new","verseCount":149,"chapters":[24,21,29,31,26,18]},{"id":"eph","title":"Ephesians","usfm":"50-EPH","testament":"new","verseCount":155,"chapters":[23,22,21,32,33,24]},{"id":"php","title":"Phillipians","usfm":"51-PHP","testament":"new","verseCount":104,"chapters":[30,30,21,23]},{"id":"col","title":"Colossians","usfm":"52-COL","testament":"new","verseCount":95,"chapters":[29,23,25,18]},{"id":"1th","title":"1 Thessalonians","usfm":"53-1TH","testament":"new","verseCount":89,"chapters":[10,20,13,18,28]},{"id":"2th","title":"2 Thessalonians","usfm":"54-2TH","testament":"new","verseCount":47,"chapters":[12,17,18]},{"id":"1ti","title":"1 Timothy","usfm":"55-1TI","testament":"new","verseCount":113,"chapters":[20,15,16,16,25,21]},{"id":"2ti","title":"2 Timothy","usfm":"56-2TI","testament":"new","verseCount":83,"chapters":[18,26,17,22]},{"id":"tit","title":"Titus","usfm":"57-TIT","testament":"new","verseCount":46,"chapters":[16,15,15]},{"id":"phm","title":"Philemon","usfm":"58-PHM","testament":"new","verseCount":25,"chapters":[25]},{"id":"heb","title":"Hebrews","usfm":"59-HEB","testament":"new","verseCount":303,"chapters":[14,18,19,16,14,20,28,13,28,39,40,29,25]},{"id":"jas","title":"James","usfm":"60-JAS","testament":"new","verseCount":108,"chapters":[27,26,18,17,20]},{"id":"1pe","title":"1 Peter","usfm":"61-1PE","testament":"new","verseCount":105,"chapters":[25,25,22,19,14]},{"id":"2pe","title":"2 Peter","usfm":"62-2PE","testament":"new","verseCount":61,"chapters":[21,22,18]},{"id":"1jn","title":"1 John","usfm":"63-1JN","testament":"new","verseCount":105,"chapters":[10,29,24,21,21]},{"id":"2jn","title":"2 John","usfm":"64-2JN","testament":"new","verseCount":13,"chapters":[13]},{"id":"3jn","title":"3 John","usfm":"65-3JN","testament":"new","verseCount":15,"chapters":[15]},{"id":"jud","title":"Jude","usfm":"66-JUD","testament":"new","verseCount":25,"chapters":[25]},{"id":"rev","title":"Revelation","usfm":"67-REV","testament":"new","verseCount":404,"chapters":[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}]')},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(372);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(190);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(155);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var c=n(57);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var i=n(375);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=n(484);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var l=n(116);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=n(194);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(193);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=n(485);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=n(486);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=n(378);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var m=n(192);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var g=n(388);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var b=n(521);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var y=n(522);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=n(379);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}))},372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},375:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAnnotationTSVDataRow=function(e,t,n,r,a,o,c,i){return T.apply(this,arguments)};var o=a(n(79)),c=a(n(108)),i=a(n(25)),s=a(n(80)),l=n(57),u=r(n(78)),d=n(116),f=n(193),p=n(376),h=n(192),m=n(377);function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="abcdefghijklmnopqrstuvwxyz0123456789",k=new RegExp("\\[\\[rc://[^ /]+?/ta/man/[^ /]+?/([^ \\]]+?)\\]\\]","g");function T(){return(T=(0,s.default)(o.default.mark((function e(t,n,r,a,i,b,y,T){var w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q,$,Z,Y,K,X,ee,te,ne,re,ae,oe,ce,ie,se,le,ue,de,fe,pe;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E=function(){return(E=(0,s.default)(o.default.mark((function e(n,r,c,s,l){var u,d,f,p,m,y,x,k,T,w;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be defined"),console.assert("string"===typeof r,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be a string not a '".concat(typeof r,"'")),console.assert("Annotation"===r,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be 'Annotation' not '".concat(r,"'")),console.assert(void 0!==c,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'taLinkText' parameter should be defined"),console.assert("string"===typeof c,"checkAnnotationTSVDataRow ourCheckTNLinksToOutside: 'taLinkText' parameter should be a string not a '".concat(typeof c,"'")),e.next=9,(0,h.checkTNLinksToOutside)(a,i,b,r,c,s,v(v({},l),{},{defaultLanguageCode:t}));case 9:u=e.sent,d=g(u.noticeList);try{for(d.s();!(f=d.n()).done;)(p=f.value).extra?O.noticeList.push(p):N(v(v({},p),{},{rowID:n,fieldName:r}))}catch(o){d.e(o)}finally{d.f()}if(u.checkedFileCount&&u.checkedFileCount>0&&("number"===typeof O.checkedFileCount?O.checkedFileCount+=u.checkedFileCount:O.checkedFileCount=u.checkedFileCount),u.checkedFilesizes&&u.checkedFilesizes>0&&("number"===typeof O.checkedFilesizes?O.checkedFilesizes+=u.checkedFilesizes:O.checkedFilesizes=u.checkedFilesizes),u.checkedRepoNames&&u.checkedRepoNames.length>0){m=g(u.checkedRepoNames);try{for(m.s();!(y=m.n()).done;){x=y.value;try{O.checkedRepoNames.indexOf(x)<0&&O.checkedRepoNames.push(x)}catch(C){O.checkedRepoNames=[x]}}}catch(o){m.e(o)}finally{m.f()}}if(u.checkedFilenameExtensions&&u.checkedFilenameExtensions.length>0){k=g(u.checkedFilenameExtensions);try{for(k.s();!(T=k.n()).done;){w=T.value;try{O.checkedFilenameExtensions.indexOf(w)<0&&O.checkedFilenameExtensions.push(w)}catch(S){O.checkedFilenameExtensions=[w]}}}catch(o){k.e(o)}finally{k.f()}}case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},A=function(e,t,n,r,a){return E.apply(this,arguments)},P=function(){return(P=(0,s.default)(o.default.mark((function e(n,r,c,s,l,u){var d,f,p,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldName' parameter should be defined"),console.assert("string"===typeof r,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldName' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==c,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldText' parameter should be defined"),console.assert("string"===typeof c,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldText' parameter should be a string not a '".concat(typeof c,"'")),console.assert(void 0!==s,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'occurrence' parameter should be defined"),console.assert("string"===typeof s,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'occurrence' parameter should be a string not a '".concat(typeof s,"'")),console.assert(l.indexOf(r)<0,"checkAnnotationTSVDataRow ourCheckTNOriginalLanguageQuote: 'rowLocation' parameter should be not contain fieldName=".concat(r)),e.next=11,(0,m.checkOriginalLanguageQuote)(t,r,c,s,a,i,b,l,u);case 11:d=e.sent,f=g(d.noticeList);try{for(f.s();!(p=f.n()).done;)h=p.value,N(v(v({},h),{},{rowID:n,fieldName:r}))}catch(o){f.e(o)}finally{f.f()}case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(e,t,n,r,a,o){return P.apply(this,arguments)},D=function(){return(D=(0,s.default)(o.default.mark((function e(n,r,a,c,i){var s,l,u,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'fieldName' parameter should be defined"),console.assert("string"===typeof r,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'fieldName' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'taLinkText' parameter should be defined"),console.assert("string"===typeof a,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'taLinkText' parameter should be a string not a '".concat(typeof a,"'")),console.assert(c.indexOf(r)<0,"checkAnnotationTSVDataRow ourCheckSupportReferenceInTA: 'rowLocation' parameter should be not contain fieldName=".concat(r)),e.next=9,(0,p.checkSupportReferenceInTA)(r,a,c,v(v({},i),{},{taRepoLanguageCode:t,expectFullLink:!0}));case 9:s=e.sent,l=g(s.noticeList);try{for(l.s();!(u=l.n()).done;)d=u.value,N(v(v({},d),{},{rowID:n,fieldName:r}))}catch(o){l.e(o)}finally{l.f()}case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},F=function(e,t,n,r,a){return D.apply(this,arguments)},L=function(e,t,n,r,a,o){console.assert(void 0!==e,"checkAnnotationTSVDataRow ourCheckTextField: 'rowID' parameter should be defined"),console.assert("string"===typeof e,"checkAnnotationTSVDataRow ourCheckTextField: 'rowID' parameter should be a string not a '".concat(typeof e,"'")),console.assert(void 0!==t,"checkAnnotationTSVDataRow ourCheckTextField: 'fieldName' parameter should be defined"),console.assert("string"===typeof t,"checkAnnotationTSVDataRow ourCheckTextField: 'fieldName' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkAnnotationTSVDataRow ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"checkAnnotationTSVDataRow ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(!0===r||!1===r,"checkAnnotationTSVDataRow ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==a,"checkAnnotationTSVDataRow ourCheckTextField: 'rowLocation' parameter should be defined"),console.assert("string"===typeof a,"checkAnnotationTSVDataRow ourCheckTextField: 'rowLocation' parameter should be a string not a '".concat(typeof a,"'")),console.assert(a.indexOf(t)<0,"checkAnnotationTSVDataRow ourCheckTextField: 'rowLocation' parameter should be not contain fieldName=".concat(t));var c,i="Annotation"===t?"markdown":"raw",s=(0,d.checkTextField)(i,t,n,r,a,o),l=g(s.noticeList);try{for(l.s();!(c=l.n()).done;){var u=c.value;N(v(v({},u),{},{rowID:e,fieldName:t}))}}catch(f){l.e(f)}finally{l.f()}return s.suggestion},I=function(){return(I=(0,s.default)(o.default.mark((function e(n,r,a,c,i,s){var l,u,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert("Annotation"===r,"checkAnnotationTSVDataRow ourMarkdownTextChecks: Only run this check on Annotations"),console.assert(void 0!==a,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'fieldText' parameter should be defined"),console.assert("string"===typeof a,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'fieldText' parameter should be a string not a '".concat(typeof a,"'")),console.assert(!0===c||!1===c,"checkAnnotationTSVDataRow ourMarkdownTextChecks: allowedLinks parameter must be either true or false"),console.assert(void 0!==i,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be defined"),console.assert("string"===typeof i,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be a string not a '".concat(typeof i,"'")),console.assert(i.indexOf(r)<0,"checkAnnotationTSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be not contain fieldName=".concat(r)),e.next=11,(0,f.checkMarkdownText)(t,r,a,i,s);case 11:l=e.sent,u=g(l.noticeList);try{for(u.s();!(d=u.n()).done;)178===(p=d.value).priority||179===p.priority||p.message.startsWith("Unexpected \u2026 character after space")||N(v(v({},p),{},{rowID:n,fieldName:r}))}catch(o){u.e(o)}finally{u.f()}return e.abrupt("return",l.suggestion);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(e,t,n,r,a,o){return I.apply(this,arguments)},N=function(e){console.assert(void 0!==e.priority,"checkAnnotationTSVDataRow addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"checkAnnotationTSVDataRow addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"checkAnnotationTSVDataRow addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"checkAnnotationTSVDataRow addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"checkAnnotationTSVDataRow addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"checkAnnotationTSVDataRow addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"checkAnnotationTSVDataRow addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"checkAnnotationTSVDataRow addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),O.noticeList.push(v(v({},e),{},{bookID:a,C:i,V:b}))},console.assert(void 0!==t,"checkAnnotationTSVDataRow: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkAnnotationTSVDataRow: 'languageCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==r,"checkAnnotationTSVDataRow: 'line' parameter should be defined"),console.assert("string"===typeof r,"checkAnnotationTSVDataRow: 'line' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"checkAnnotationTSVDataRow: 'bookID' parameter should be defined"),console.assert("string"===typeof a,"checkAnnotationTSVDataRow: 'bookID' parameter should be a string not a '".concat(typeof a,"'")),console.assert(3===a.length,"checkAnnotationTSVDataRow: 'bookID' parameter should be three characters long not ".concat(a.length)),console.assert(a.toUpperCase()===a,"checkAnnotationTSVDataRow: 'bookID' parameter should be UPPERCASE not '".concat(a,"'")),console.assert("OBS"===a||u.isValidBookID(a),"checkAnnotationTSVDataRow: '".concat(a,"' is not a valid USFM book identifier")),i&&console.assert("string"===typeof i,"checkAnnotationTSVDataRow: 'givenC' parameter should be a string not a '".concat(typeof i,"'")),b&&console.assert("string"===typeof b,"checkAnnotationTSVDataRow: 'givenV' parameter should be a string not a '".concat(typeof b,"'")),console.assert(void 0!==y,"checkAnnotationTSVDataRow: 'givenRowLocation' parameter should be defined"),console.assert("string"===typeof y,"checkAnnotationTSVDataRow: 'givenRowLocation' parameter should be a string not a '".concat(typeof y,"'")),console.assert(-1===y.indexOf("true"),"checkAnnotationTSVDataRow: 'givenRowLocation' parameter should not be 'true'"),(w=y)&&" "!==w[0]&&(w=" ".concat(w)),(C=v({},T)).taRepoLanguageCode=t,O={noticeList:[]},"Reference\tID\tTags\tSupportReference\tQuote\tOccurrence\tAnnotation"!==r){e.next=31;break}return e.abrupt("return",O);case 31:try{R=null===T||void 0===T?void 0:T.extractLength}catch(he){}if(("number"!==typeof R||isNaN(R))&&(R=l.DEFAULT_EXTRACT_LENGTH),M=a.toLowerCase(),"OBS"===a)U=50;else{console.assert("obs"!==M,"Shouldn\u2019t happen in annotation-row-check");try{U=u.chaptersInBook(M).length}catch(me){N({priority:979,message:"Invalid book identifier passed to checkAnnotationTSVDataRow",location:" '".concat(a,"' in first parameter: ").concat(me)})}}if(_=void 0!==U,7!==(V=r.split("\t")).length){e.next=89;break}if(J=(0,c.default)(V,7),H=J[0],q=J[1],$=J[2],Z=J[3],Y=J[4],K=J[5],X=J[6],ee=H.split(":"),te=(0,c.default)(ee,2),ne=te[0],re=te[1],ne.length)if(ne!==i&&N({priority:976,message:"Wrong chapter number",details:"expected '".concat(i,"'"),fieldName:"Reference",rowID:q,extract:ne,location:w}),"front"===ne);else if(/^\d+$/.test(ne))if(0===(ce=Number(ne))?(N({priority:824,message:"Invalid zero chapter number",extract:ne,rowID:q,fieldName:"Reference",location:w}),oe=!1):ce>U&&(N({priority:823,message:"Invalid large chapter number",extract:ne,rowID:q,fieldName:"Reference",location:w}),oe=!1),"obs"===M)ae=99;else try{ae=u.versesInChapter(M,ce),oe=!0}catch(ge){_||N({priority:822,message:"Unable to check chapter number",extract:ne,rowID:q,fieldName:"Reference",location:w}),oe=!1}else N({priority:821,message:"Bad chapter number",extract:ne,rowID:q,fieldName:"Reference",location:w});else N({priority:820,message:"Missing chapter number",rowID:q,fieldName:"Reference",location:" ?:".concat(re).concat(w)});if(re.length?(re!==b&&N({priority:975,message:"Wrong verse number",details:"expected '".concat(b,"'"),rowID:q,fieldName:"Reference",extract:re,location:w}),"intro"===re||(/^\d+$/.test(re)?0===(ie=Number(re))?N({priority:814,message:"Invalid zero verse number",rowID:q,fieldName:"Reference",extract:re,location:w}):oe?ie>ae&&N({priority:813,message:"Invalid large verse number",rowID:q,fieldName:"Reference",extract:re,location:w}):N({priority:812,message:"Unable to check verse number",rowID:q,fieldName:"Reference",location:w}):N({priority:811,message:"Bad verse number",rowID:q,fieldName:"Reference",location:" '".concat(re,"'").concat(w)}))):N({priority:810,message:"Missing verse number",rowID:q,fieldName:"Reference",location:" after ".concat(ne,":?").concat(w)}),q.length)if(4!==q.length)if(N({priority:778,message:"Row ID should be exactly 4 characters",details:"not ".concat(q.length),rowID:q,fieldName:"ID",extract:q,location:w}),q.length>4)B=q.substring(0,5);else for(B=q;B.length<4;)B+=x[Math.floor(Math.random()*x.length)];else"abcdefghijklmnopqrstuvwxyz".indexOf(q[0])<0?N({priority:176,message:"Row ID should start with a lowercase letter",characterIndex:0,rowID:q,fieldName:"ID",extract:q,location:w}):x.indexOf(q[3])<0?N({priority:175,message:"Row ID should end with a lowercase letter or digit",characterIndeX:3,rowID:q,fieldName:"ID",extract:q,location:w}):"abcdefghijklmnopqrstuvwxyz0123456789-".indexOf(q[1])<0?N({priority:174,message:"Row ID characters should only be lowercase letters, digits, or hypen",fieldName:"ID",characterIndex:1,rowID:q,extract:q,location:w}):"abcdefghijklmnopqrstuvwxyz0123456789-".indexOf(q[2])<0&&N({priority:173,message:"Row ID characters should only be lowercase letters, digits, or hypen",fieldName:"ID",characterIndex:2,rowID:q,extract:q,location:w});else N({priority:779,message:"Missing row ID field",fieldName:"Reference",location:w});if($.length,!Z.length){e.next=58;break}if(!(0,l.isWhitespace)(Z)){e.next=49;break}N({priority:373,message:"Field is only whitespace",fieldName:"SupportReference",rowID:q,location:w}),e.next=57;break;case 49:if("TN2"!==n){e.next=57;break}if((se=Z.replace("rc://*/ta/man/translate/","")).startsWith("figs-")||se.startsWith("grammar-")||se.startsWith("translate-")||se.startsWith("writing-")||"guidelines-sonofgodprinciples"===se||N({priority:788,message:"Only 'Just-In-Time Training' TA articles allowed here",fieldName:"SupportReference",extract:Z,rowID:q,location:w}),z=L(q,"SupportReference",Z,!0,w,T),!0===(null===T||void 0===T?void 0:T.disableAllLinkFetchingFlag)){e.next=56;break}return e.next=56,F(q,"SupportReference",Z,w,T);case 56:X.indexOf(Z)<0&&N({priority:787,message:"Link to TA should also be in Annotation",fieldName:"SupportReference",extract:Z,rowID:q,location:w});case 57:Z.indexOf("\u200b")>=0&&N({priority:374,message:"Field contains zero-width space(s)",fieldName:"SupportReference",rowID:q,location:w});case 58:if(!Y.length){e.next=68;break}if(W=L(q,"Quote",Y,!1,w,T),!K.length){e.next=65;break}return e.next=63,j(q,"Quote",Y,K,w,T);case 63:e.next=66;break;case 65:N({priority:750,message:"Missing occurrence field when we have an original quote",fieldName:"Occurrence",rowID:q,location:w});case 66:e.next=69;break;case 68:"TN2"===n&&"intro"!==re&&"0"!==K&&N({priority:919,message:"Missing Quote field",fieldName:"Quote",rowID:q,location:w});case 69:if(K.length?"0"===K?Y.length&&(N({priority:751,message:"Invalid zero occurrence field when we have an original quote",fieldName:"Occurrence",rowID:q,extract:K,location:w}),Q="1"):"-1"===K||"1234567".indexOf(K)<0&&(N({priority:792,message:"Invalid occurrence field",fieldName:"Occurrence",rowID:q,extract:K,location:w}),Q="1"):Y.length&&(N({priority:791,message:"Missing occurrence field",fieldName:"Occurrence",rowID:q,location:w}),Q="1"),!X.length){e.next=84;break}if(X.indexOf("\u200b")>=0&&N({priority:374,message:"Field contains zero-width space(s)",fieldName:"Annotation",rowID:q,location:w}),!(0,l.isWhitespace)(X)){e.next=76;break}N({priority:373,message:"Field is only whitespace",fieldName:"Annotation",rowID:q,location:w}),e.next=82;break;case 76:return e.next=78,S(q,"Annotation",X,!0,w,T);case 78:return G=e.sent,e.next=81,A(q,"Annotation",X,w,C);case 81:for(;le=k.exec(X);)ue=le[0].substring(2,le[0].length-2),Z!==ue&&"intro"!==re&&(de=Z?"(SR='".concat(Z,"')"):"(empty SR field)",N({priority:786,message:"Link to TA should also be in SupportReference",details:de,rowID:q,fieldName:"Annotation",extract:ue,location:w}));case 82:e.next=85;break;case 84:"TN2"===n&&N({priority:274,message:"Missing Annotation field",fieldName:"Annotation",rowID:q,location:w});case 85:(fe="".concat(H,"\t").concat(void 0===B?q:B,"\t").concat($,"\t").concat(void 0===z?Z:z,"\t").concat(void 0===W?Y:W,"\t").concat(void 0===Q?K:Q,"\t").concat(void 0===G?X:G))!==r&&(O.suggestion=fe),e.next=92;break;case 89:pe="????";try{pe=V[1]}catch(be){}N({priority:984,message:"Found wrong number of TSV fields (expected ".concat(7,")"),details:"Found ".concat(V.length," field").concat(1===V.length?"":"s"),rowID:pe,location:w});case 92:return e.abrupt("return",O);case 93:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},376:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkSupportReferenceInTA=function(e,t,n,r){return u.apply(this,arguments)};var a=r(n(79)),o=r(n(25)),c=r(n(80)),i=n(155);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){return(u=(0,c.default)(a.default.mark((function e(t,n,r,o){var c,s,u,d,f,p,h,m,g,b,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=function(e){console.assert(void 0!==e.priority,"cTAref addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cTAref addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cTAref addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cTAref addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cTAref addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cTAref addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cTAref addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cTAref addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),s.noticeList.push(l(l({},e),{},{fieldName:t}))},console.assert(void 0!==t,"checkSupportReferenceInTA: 'fieldText' parameter should be defined"),console.assert("string"===typeof t,"checkSupportReferenceInTA: 'fieldText' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkSupportReferenceInTA: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"checkSupportReferenceInTA: 'fieldText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkSupportReferenceInTA: 'fieldText' parameter should be defined"),console.assert("string"===typeof r,"checkSupportReferenceInTA: 'fieldText' parameter should be a string not a '".concat(typeof r,"'")),console.assert("SupportReference"===t,"Unexpected checkSupportReferenceInTA fieldName='".concat(t,"'")),console.assert(r.indexOf(t)<0,"checkSupportReferenceInTA: 'givenLocation' parameter should be not contain fieldName=".concat(t)),console.assert("SupportReference"===t),(c=r)&&" "!==c[0]&&(c=" ".concat(c)),s={noticeList:[]};try{d=null===o||void 0===o?void 0:o.taRepoUsername}catch(a){}d||(d="Door43-Catalog");try{f=null===o||void 0===o?void 0:o.taRepoBranch}catch(v){}f||(f="master");try{p=null===o||void 0===o?void 0:o.taRepoLanguageCode}catch(x){}p||(p="en");try{h=null===o||void 0===o?void 0:o.taRepoSectionName}catch(k){}return h||(h="translate"),m="".concat(p,"_ta"),null!==o&&void 0!==o&&o.expectFullLink?(n.startsWith("rc://*/")||u({priority:879,message:"Badly formatted Resource Container link",extract:n,location:"".concat(c," ").concat(g)}),g="".concat(n.replace("rc://*/ta/man/",""),"/01.md")):g="".concat(h,"/").concat(n,"/01.md"),e.prev=23,y=o&&null!==o&&void 0!==o&&o.getFile?null===o||void 0===o?void 0:o.getFile:i.cachedGetFile,e.next=27,y({username:d,repository:m,path:g,branch:f});case 27:(b=e.sent)?b.length<10&&u({priority:887,message:"Linked TA article seems empty",extract:n,location:"".concat(c," ").concat(g)}):u({priority:889,message:"Unable to find TA link",extract:n,location:"".concat(c," ").concat(g)}),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(23),u({priority:888,message:"Error loading TA link",extract:n,location:"".concat(c," ").concat(g,": ").concat(e.t0)});case 34:return e.abrupt("return",s);case 35:case"end":return e.stop()}}),e,null,[[23,31]])})))).apply(this,arguments)}},377:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkOriginalLanguageQuote=function(e,t,n,r,a,o,c,i,s){return p.apply(this,arguments)};var o=a(n(79)),c=a(n(80)),i=r(n(78)),s=n(57),l=n(155),u=n(190);function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){return(p=(0,c.default)(o.default.mark((function e(t,n,r,a,f,p,h,m,g){var b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k=function(){return(k=(0,c.default)(o.default.mark((function e(n,r,a,c){var s,u,f,p,h,m,g,y,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s=null===c||void 0===c?void 0:c.originalLanguageRepoUsername}catch(o){}s||(s="en"===t?"unfoldingWord":"Door43-Catalog");try{u=null===c||void 0===c?void 0:c.originalLanguageRepoBranch}catch(z){}if(u||(u="master"),f=c&&null!==c&&void 0!==c&&c.getFile?null===c||void 0===c?void 0:c.getFile:l.cachedGetFile,p="","OBS"!==n){e.next=53;break}return m="".concat(t,"_obs"),g=2===r.length?r:"0"+r,y=2===a.length?a:"0"+a,x="content/".concat(g,".md"),e.prev=11,e.next=14,f({username:s,repository:m,path:x,branch:u});case 14:h=e.sent,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(11),console.error("getOriginalPassage(".concat(n,", ").concat(r,":").concat(a,", ").concat(JSON.stringify(c),") failed to load UHB"),s,t,x,u,e.t0.message),v({priority:601,message:"Unable to load",details:"username=".concat(s," error=").concat(e.t0),OBSPathname:x,location:b,extra:m});case 21:if(h){e.next=23;break}return e.abrupt("return","");case 23:k=!1,T="-".concat(g,"-").concat(y,"."),w=d(h.split("\n")),e.prev=26,w.s();case 28:if((C=w.n()).done){e.next=43;break}if(O=C.value){e.next=32;break}return e.abrupt("continue",41);case 32:if(!(O.indexOf(T)>0)){e.next=35;break}return k=!0,e.abrupt("continue",41);case 35:if(!k){e.next=41;break}if(!(O.indexOf("[OBS Image]")>0)){e.next=40;break}return e.abrupt("break",43);case 40:p+=O;case 41:e.next=28;break;case 43:e.next=48;break;case 45:e.prev=45,e.t1=e.catch(26),w.e(e.t1);case 48:return e.prev=48,w.f(),e.finish(48);case 51:e.next=122;break;case 53:if(N=i.usfmNumberName(n),S=i.testament(n),I="old"===S?"UHB":"UGNT",L="".concat("old"===S?"hbo":"el-x-koine","_").concat(I.toLowerCase()),F="".concat(N,".usfm"),"UHB"!==I){e.next=72;break}return e.prev=60,e.next=63,f({username:s,repository:L,path:F,branch:u});case 63:D=e.sent,e.next=70;break;case 66:e.prev=66,e.t2=e.catch(60),console.error("getOriginalPassage(".concat(n,", ").concat(r,":").concat(a,", ").concat(JSON.stringify(c),") failed to load UHB"),s,I,F,u,e.t2.message),v({priority:601,message:"Unable to load",details:"username=".concat(s," error=").concat(e.t2),filename:F,location:b,extra:L});case 70:e.next=83;break;case 72:if("UGNT"!==I){e.next=83;break}return e.prev=73,e.next=76,f({username:s,repository:L,path:F,branch:u});case 76:D=e.sent,e.next=83;break;case 79:e.prev=79,e.t3=e.catch(73),console.error("getOriginalPassage(".concat(n,", ").concat(r,":").concat(a,", ").concat(JSON.stringify(c),") failed to load UGNT"),s,I,F,u,e.t3.message),v({priority:601,message:"Unable to load",details:"username=".concat(s," error=").concat(e.t3),filename:F,location:b,extra:L});case 83:if(D){e.next=85;break}return e.abrupt("return","");case 85:D=(D=D.replace(/\\k-e\\\*/g,"")).replace(/\\k-s.+?\\\*/g,""),j=!1,P=!1,A=d(D.split("\n")),e.prev=89,A.s();case 91:if((E=A.n()).done){e.next=103;break}if(R=E.value,j||R!=="\\c ".concat(r)){e.next=96;break}return j=!0,e.abrupt("continue",101);case 96:if(j&&!P&&R.startsWith("\\v ".concat(a))&&(P=!0,R=R.substring(3+a.length)),!P){e.next=101;break}if(!R.startsWith("\\v ")&&!R.startsWith("\\c ")){e.next=100;break}return e.abrupt("break",103);case 100:p+=(R.startsWith("\\f ")?"":" ")+R;case 101:e.next=91;break;case 103:e.next=108;break;case 105:e.prev=105,e.t4=e.catch(89),A.e(e.t4);case 108:return e.prev=108,A.f(),e.finish(108);case 111:for(p=p.replace(/\\p/g,"").trim().replace(/ {2}/g," "),M=p.indexOf("\\w ");-1!==M;)-1!==(U=p.indexOf("\\w*",M))?(_=p.substring(M+3,U),V=_.split("|"),B=V[0],p=p.substring(0,M)+B+p.substring(U+3)):(console.log("Missing \\w* in ".concat(n," ").concat(r,":").concat(a," verseText: '").concat(p,"'")),p=p.replace(/\\w /g,"",1)),M=p.indexOf("\\w ",M+1);p=(p=(p=p.replace(/\\f (.+?)\\f\*/g,"")).replace(/\\va (.+?)\\va\*/g,"")).replace(/ {2}/g," "),console.assert(-1===p.indexOf("\\w"),"getOriginalPassage: Should be no \\w in ".concat(n," ").concat(r,":").concat(a," '").concat(p,"'")),console.assert(-1===p.indexOf("\\k"),"getOriginalPassage: Should be no \\k in ".concat(n," ").concat(r,":").concat(a," '").concat(p,"'")),console.assert(-1===p.indexOf("x-"),"getOriginalPassage: Should be no x- in ".concat(n," ").concat(r,":").concat(a," '").concat(p,"'")),console.assert(-1===p.indexOf("\\f"),"getOriginalPassage: Should be no \\f in ".concat(n," ").concat(r,":").concat(a," '").concat(p,"'")),console.assert(-1===p.indexOf("\\x"),"getOriginalPassage: Should be no \\x in ".concat(n," ").concat(r,":").concat(a," '").concat(p,"'"));case 122:return e.abrupt("return",p);case 123:case"end":return e.stop()}}),e,null,[[11,17],[26,45,48,51],[60,66],[73,79],[89,105,108,111]])})))).apply(this,arguments)},x=function(e,t,n,r){return k.apply(this,arguments)},v=function(e){console.assert(void 0!==e.priority,"cOLQ addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cOLQ addNotice: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cOLQ addNotice: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cOLQ addNotice: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cOLQ addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cOLQ addNotice: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cOLQ addNotice: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cOLQ addNotice: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),y.noticeList.push(e)},console.assert(void 0!==t,"checkOriginalLanguageQuote: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkOriginalLanguageQuote: 'languageCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkOriginalLanguageQuote: 'fieldName' parameter should be defined"),console.assert("string"===typeof n,"checkOriginalLanguageQuote: 'fieldName' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkOriginalLanguageQuote: 'fieldText' parameter should be defined"),console.assert("string"===typeof r,"checkOriginalLanguageQuote: 'fieldText' parameter should be a string not a '".concat(typeof r,"'")),console.assert(r.length>=1,"checkOriginalLanguageQuote: 'fieldText' parameter should have text not ".concat(r.length," characters")),console.assert(void 0!==a,"checkOriginalLanguageQuote: 'occurrenceString' parameter should be defined"),console.assert("string"===typeof a,"checkOriginalLanguageQuote: 'occurrenceString' parameter should be a string not a '".concat(typeof a,"'")),console.assert(void 0!==f,"checkOriginalLanguageQuote: 'bookID' parameter should be defined"),console.assert("string"===typeof f,"checkOriginalLanguageQuote: 'bookID' parameter should be a string not a '".concat(typeof f,"'")),console.assert(3===f.length,"checkOriginalLanguageQuote: 'bookID' parameter should be three characters long not ".concat(f.length)),console.assert(f.toUpperCase()===f,"checkOriginalLanguageQuote: 'bookID' parameter should be UPPERCASE not '".concat(f,"'")),console.assert("OBS"===f||i.isValidBookID(f),"checkOriginalLanguageQuote: '".concat(f,"' is not a valid USFM book identifier")),console.assert(void 0!==p,"checkOriginalLanguageQuote: 'C' parameter should be defined"),console.assert("string"===typeof p,"checkOriginalLanguageQuote: 'C' parameter should be a string not a '".concat(typeof p,"'")),console.assert(void 0!==h,"checkOriginalLanguageQuote: 'V' parameter should be defined"),console.assert("string"===typeof h,"checkOriginalLanguageQuote: 'V' parameter should be a string not a '".concat(typeof h,"'")),console.assert(void 0!==m,"checkOriginalLanguageQuote: 'givenLocation' parameter should be defined"),console.assert("string"===typeof m,"checkOriginalLanguageQuote: 'givenLocation' parameter should be a string not a '".concat(typeof m,"'")),(b=m)&&" "!==b[0]&&(b=" ".concat(b)),y={noticeList:[]};try{T=null===g||void 0===g?void 0:g.extractLength}catch($){}("number"!==typeof T||isNaN(T))&&(T=s.DEFAULT_EXTRACT_LENGTH),w=Math.floor(T/2),C=Math.floor((T+1)/2),O=1;try{O=(0,u.ourParseInt)(a)}catch(Z){}(N=r.indexOf("..."))>=0&&(S=(N>w?"\u2026":"")+r.substring(N-w,N+C)+(N+C<r.length?"\u2026":""),v({priority:159,message:"Should use proper ellipse character (not periods)",characterIndex:N,extract:S,location:b})),r.indexOf("\u2026")>=0?(I=r.split("\u2026"),((N=r.indexOf(" \u2026"))>=0||(N=r.indexOf("\u2026 "))>=0)&&(L=(N>w?"\u2026":"")+r.substring(N-w,N+C)+(N+C<r.length?"\u2026":""),v({priority:158,message:"Unexpected space(s) beside ellipse character",characterIndex:N,extract:L,location:b}))):r.indexOf("\u2194")>=0?(I=r.split("\u2194"),((N=r.indexOf(" \u2194"))>=0||(N=r.indexOf("\u2194 "))>=0)&&(F=(N>w?"\u2026":"")+r.substring(N-w,N+C)+(N+C<r.length?"\u2026":""),v({priority:157,message:"Unexpected space(s) beside \u2194 divider character",characterIndex:N,extract:F,location:b}))):r.indexOf("...")>=0&&(I=r.split("..."),((N=r.indexOf(" ..."))>=0||(N=r.indexOf("... "))>=0)&&(D=(N>w?"\u2026":"")+r.substring(N-w,N+C)+(N+C<r.length?"\u2026":""),v({priority:156,message:"Unexpected space(s) beside ellipse characters",characterIndex:N,extract:D,location:b})));try{j=null===g||void 0===g?void 0:g.originalLanguageVerseText}catch(Y){}if(j){e.next=46;break}if(null===g||void 0===g||!g.disableAllLinkFetchingFlag){e.next=40;break}return e.abrupt("return",y);case 40:return e.next=42,x(f,p,h,g);case 42:if(j=e.sent){e.next=46;break}return v({priority:851,message:"OBS"===f?"Unable to load OBS story text":"Unable to load original language verse text",location:b}),e.abrupt("return",y);case 46:if(I)if(1!==O&&v({priority:50,message:"Is this quote/occurrence correct???",details:"Occurrence=".concat(O),extract:I,location:b}),(P=I.length)>=2)for(A=0;A<P;A++)j.indexOf(I[A])<0&&(E=void 0,E=1===P?"":0===A?"beginning":A===P-1?"end":"middle".concat(P>3?A:""),R="".concat(I[A],"' ").concat(E?"("+E+")":""),v({priority:721,message:"Unable to find original language quote in verse text",extract:R,location:b}));else v({priority:375,message:"Ellipsis without surrounding snippet",location:b});else j.indexOf(r)>=0?O>1?j.split(r).length<=O&&(M=r.substring(0,w)+(r.length>2*w?"\u2026":"")+r.substring(r.length-w,r.length),v({priority:917,message:"Unable to find duplicate original language quote in verse text",details:"occurrence=".concat(a,", passage \u2e22").concat(j,"\u2e23"),extract:M,location:b})):((U=j.split(r)).length>2&&(U=[U[0],U.slice(1).join("\u2026")]),console.assert(2===U.length,"remaining bits are ".concat(U.length))," "!==r.slice(0)&&U[0]&&-1!==U[0].slice(-1).search(/[^\u05beA-Za-z\s*[("'\u201c\u2018]/)&&(_="(".concat(U[0].slice(-1),"=D").concat(U[0].slice(-1).charCodeAt(),"/H").concat(U[0].slice(-1).charCodeAt().toString(16),")")+r.substring(0,T-3)+(r.length>T-3?"\u2026":""),v({priority:620,message:"Seems original language quote might not start at the beginning of a word",details:"passage \u2e22".concat(j,"\u2e23"),characterIndex:0,extract:_,location:b}))," "!==r.slice(-1)&&U[1]&&-1!==U[1][0].search(/[^\u05c3\u05beA-Za-z\s.,:;?!\u2013)]/)&&(V=(r.length>T-3?"\u2026":"")+r.substring(r.length-T+3,r.length)+"(".concat(U[1][0],"=D").concat(U[1].charCodeAt(0),"/H").concat(U[1].charCodeAt(0).toString(16),")"),v({priority:621,message:"Seems original language quote might not finish at the end of a word",details:"passage \u25ba".concat(j,"\u25c4"),characterIndex:r.length,extract:V,location:b}))):((B=r.indexOf("\xa0")>=0?"quote which contains No-Break Space shown as '\u237d'":"")&&(r=r.replace(/\u00A0/g,"\u237d")),"\u2060"===r[0]?(z=r.substring(0,T)+r.length>T?"\u2026":"",v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which starts with 'word joiner'"+(B?" "+B:""),extract:z,location:b})):r.endsWith("\u2060")?(W=r.length>T?"\u2026":""+r.substring(r.length-T,r.length),v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which ends with 'word joiner'"+(B?" "+B:""),extract:W,location:b})):"\u200b"===r[0]?(Q=r.substring(0,T)+r.length>T?"\u2026":"",v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which starts with 'zero-width space'"+(B?" "+B:""),extract:Q,location:b})):r.endsWith("\u200b")?(G=r.length>T?"\u2026":""+r.substring(r.length-T,r.length),v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which ends with 'zero-width space'"+(B?" "+B:""),extract:G,location:b})):"\u200d"===r[0]?(J=r.substring(0,T)+r.length>T?"\u2026":"",v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which starts with 'zero-width joiner'"+(B?" "+B:""),extract:J,location:b})):r.endsWith("\u200d")?(H=r.length>T?"\u2026":""+r.substring(r.length-T,r.length),v({priority:916,message:"Unable to find original language quote in verse text",details:"quote which ends with 'zero-width joiner'"+(B?" "+B:""),extract:H,location:b})):(q=r.substring(0,w)+(r.length>2*w?"\u2026":"")+r.substring(r.length-w,r.length),v({priority:916,message:"Unable to find original language quote in verse text",details:B||"passage \u2e22".concat(j,"\u2e23"),extract:q,location:b})));return e.abrupt("return",y);case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},378:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkPlainText=function(e,t,n,r,o){console.assert(void 0!==e,"checkPlainText: 'textType' parameter should be defined"),console.assert("string"===typeof e,"checkPlainText: 'textType' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert("markdown"===e||"USFM"===e||"YAML"===e||"text"===e||"raw"===e,"checkPlainText: unrecognised 'textType' parameter: '".concat(e,"'")),console.assert(void 0!==t,"checkPlainText: 'textName' parameter should be defined"),console.assert("string"===typeof t,"checkPlainText: 'textName' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkPlainText: 'plainText' parameter should be defined"),console.assert("string"===typeof n,"checkPlainText: 'plainText' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==o,"checkPlainText: 'checkingOptions' parameter should be defined");var l,f=r;f&&" "!==f[0]&&(f=" ".concat(f));try{l=null===o||void 0===o?void 0:o.extractLength}catch(ne){}("number"!==typeof l||isNaN(l))&&(l=c.DEFAULT_EXTRACT_LENGTH);var p,h=Math.floor(l/2),m=Math.floor((l+1)/2),g={successList:[],noticeList:[]};function b(e){g.successList.push(e)}function y(e){console.assert(void 0!==e.priority,"cPT addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cPT addNotice: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cPT addNotice: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cPT addNotice: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cPT addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cPT addNotice: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cPT addNotice: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cPT addNotice: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),g.noticeList.push(e)}function v(t,n,r){var a=n.trimStart();a&&function(t,n,r,a,o){console.assert(void 0!==t,"cPT ourCheckTextField: 'lineNumber' parameter should be defined"),console.assert("number"===typeof t,"cPT ourCheckTextField: 'fieldName' parameter should be a number not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cPT ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"cPT ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(!0===r||!1===r,"cPT ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==a,"cPT ourCheckTextField: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof a,"cPT ourCheckTextField: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof a,"'"));var c,s=d((0,i.checkTextField)(e,"",n,r,a,o).noticeList);try{for(s.s();!(c=s.n()).done;){y(u(u({},c.value),{},{lineNumber:t}))}}catch(l){s.e(l)}finally{s.f()}}(t,a,!0,r,o)}if((0,c.isWhitespace)(n))return y({priority:638,message:"Only found whitespace",location:f}),g;if((p=n.indexOf("<<<<<<<"))>=0){var x=p+h,k=(x>h?"\u2026":"")+n.substring(x-h,x+m).replace(/ /g,"\u2423")+(x+m<n.length?"\u2026":"");y({priority:993,message:"Unresolved GIT conflict",characterIndex:p,extract:k,location:f})}else if((p=n.indexOf("======="))>=0){var T=p+h,w=(T>h?"\u2026":"")+n.substring(T-h,T+m).replace(/ /g,"\u2423")+(T+m<n.length?"\u2026":"");y({priority:992,message:"Unresolved GIT conflict",characterIndex:p,extract:w,location:f})}else if((p=n.indexOf(">>>>>>>>"))>=0){var C=p+h,O=(C>h?"\u2026":"")+n.substring(C-h,C+m).replace(/ /g,"\u2423")+(C+m<n.length?"\u2026":"");y({priority:991,message:"Unresolved GIT conflict",characterIndex:p,extract:O,location:f})}if("\n"===n[0]){p=0;var N=(n.length>l?"\u2026":"")+n.slice(-l).replace(/ /g,"\u2423").replace(/\n/g,"\\n");y({priority:539,message:"File starts with empty line",characterIndex:p,extract:N,location:f})}if(n.endsWith("\n")||t.endsWith("title.md")){if(n.endsWith("\n\n")){p=n.length-2;var S=(n.length>l?"\u2026":"")+n.slice(-l).replace(/ /g,"\u2423").replace(/\n/g,"\\n");y({priority:138,message:"File ends with additional blank line(s)",characterIndex:p,extract:S,location:f})}}else{p=n.length-1;var I=(n.length>l?"\u2026":"")+n.slice(-l).replace(/ /g,"\u2423").replace(/\n/g,"\\n");y({priority:538,message:"File ends without newline character",characterIndex:p,extract:I,location:f})}for(var L=n.split("\n"),F=[],D=1;D<=L.length;D++){var j=L[D-1];if(j){"text"!==e&&"raw"!==e||v(D,j,f);for(var P=0;P<j.length;P++){var A=j[P],E=void 0;if(c.PAIRED_PUNCTUATION_OPENERS.indexOf(A)>=0)F.push({char:A,n:D,x:P});else if((E=c.PAIRED_PUNCTUATION_CLOSERS.indexOf(A))>=0)if(F.length){var R=F.slice(-1),M=(0,a.default)(R,1)[0];if(M.char===c.PAIRED_PUNCTUATION_OPENERS.charAt(E))F.pop();else if("\u2019"!==A&&("markdown"!==e||">"!==A||P>4)){var U=(P>h?"\u2026":"")+j.substring(P-h,P+m).replace(/ /g,"\u2423")+(P+m<j.length?"\u2026":""),_="'".concat(M.char,"' opened on line ").concat(M.n," character ").concat(M.x+1);y({priority:777,message:"Bad punctuation nesting: ".concat(A," closing character doesn\u2019t match"),details:_,lineNumber:D,characterIndex:P,extract:U,location:f})}}else if("\u2019"!==A&&("markdown"!==e||">"!==A)){var V=(P>h?"\u2026":"")+j.substring(P-h,P+m).replace(/ /g,"\u2423")+(P+m<j.length?"\u2026":"");y({priority:774,message:"Unexpected ".concat(A," closing character (no matching opener)"),lineNumber:D,characterIndex:P,extract:V,location:f})}}}}if(F.length){var B=F.slice(-1),z=(0,a.default)(B,1)[0],W=z.char,Q=z.n,G=z.x,J=L[Q-1],H=(G>h?"\u2026":"")+J.substring(G-h,G+m).replace(/ /g,"\u2423")+(G+m<J.length?"\u2026":""),q=F.length>1?"".concat(F.length," unclosed set").concat(1===F.length?"":"s"):null;y({priority:768,message:"At end of text with unclosed ".concat(W," opening character"),details:q,lineNumber:Q,characterIndex:G,extract:H,location:f})}var $,Z=d(c.MATCHED_PUNCTUATION_PAIRS);try{for(Z.s();!($=Z.n()).done;){var Y=$.value,K=Y[0],X=Y[1],ee=(0,c.countOccurrences)(n,K),te=(0,c.countOccurrences)(n,X);ee===te||!("\u2019"!==X||ee>te)||"markdown"===e&&">"===X||y({priority:"\u201c"===K?162:462,message:"Mismatched ".concat(K).concat(X," characters"),details:"left=".concat(ee.toLocaleString(),", right=").concat(te.toLocaleString()),location:f})}}catch(re){Z.e(re)}finally{Z.f()}null!==o&&void 0!==o&&o.suppressNoticeDisablingFlag||(g.noticeList=(0,s.removeDisabledNotices)(g.noticeList));b("Checked all ".concat(L.length.toLocaleString()," line").concat(1===L.length?"":"s").concat(f,".")),g.noticeList?b("checkPlainText v".concat("0.3.11"," finished with ").concat(g.noticeList.length?g.noticeList.length.toLocaleString():"zero"," notice").concat(1===g.noticeList.length?"":"s")):b("No errors or warnings found by checkPlainText v".concat("0.3.11"));return g};var a=r(n(108)),o=r(n(25)),c=n(57),i=n(116),s=n(117);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},379:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkYAMLText=function(e,t,n,r,a){console.assert(void 0!==e,"checkYAMLText: 'languageCode' parameter should be defined"),console.assert("string"===typeof e,"checkYAMLText: 'languageCode' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert(void 0!==t,"checkYAMLText: 'textName' parameter should be defined"),console.assert("string"===typeof t,"checkYAMLText: 'textName' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkYAMLText: 'YAMLText' parameter should be defined"),console.assert("string"===typeof n,"checkYAMLText: 'YAMLText' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkYAMLText: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof r,"checkYAMLText: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),console.assert(-1===r.indexOf("true"),"checkYAMLText: 'optionalFieldLocation' parameter should not be '".concat(r,"'")),console.assert(void 0!==a,"checkYAMLText: 'checkingOptions' parameter should be defined"),void 0!==a&&console.assert("object"===typeof a,"checkYAMLText: 'checkingOptions' parameter should be an object not a '".concat(typeof a,"': ").concat(JSON.stringify(a)));var u,p=r;p&&" "!==p[0]&&(p=" ".concat(p));try{u=null===a||void 0===a?void 0:a.extractLength}catch(T){}("number"!==typeof u||isNaN(u))&&(u=o.DEFAULT_EXTRACT_LENGTH);var h={successList:[],noticeList:[]};function m(e){h.successList.push(e)}function g(e){console.assert(void 0!==e.priority,"cYt addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cManT addNotice: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cYt addNotice: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cManT addNotice: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cManT addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cManT addNotice: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cYt addNotice: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cYt addNotice: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),e.debugChain&&(e.debugChain="checkYAMLText ".concat(e.debugChain)),h.noticeList.push(e)}function b(e,t,n){var r=t,o=(r=(r=(r=r.replace(/^ +/g,"")).replace(/^-/g,"")).replace(/^ +/g,"")).startsWith("url:")||r.startsWith("chapter_url:")||r.startsWith("rc:");r&&function(e,t,n,r,a){console.assert(void 0!==t,"cYt ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof t,"cYt ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof t,"'")),console.assert(!0===n||!1===n,"cYt ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==r,"cYt ourCheckTextField: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof r,"cYt ourCheckTextField: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof r,"'"));var o,c=f((0,i.checkTextField)("YAML","",t,n,r,a).noticeList);try{for(c.s();!(o=c.n()).done;){g(d(d({},o.value),{},{lineNumber:e}))}}catch(s){c.e(s)}finally{c.f()}}(e,r,o,n,a)}var y,v=n.split("\n");try{y=c.default.parse(n)}catch(w){g({priority:920,message:w.message,location:p})}h.formData=y;for(var x=1;x<=v.length;x++){var k=v[x-1];b(x,k,p)}(function(t,n,r,a){console.assert(void 0!==t,"cYT ourBasicFileChecks: 'filename' parameter should be defined"),console.assert("string"===typeof t,"cYT ourBasicFileChecks: 'filename' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cYT ourBasicFileChecks: 'fileText' parameter should be defined"),console.assert("string"===typeof n,"cYT ourBasicFileChecks: 'fileText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==a,"cYT ourBasicFileChecks: 'checkingOptions' parameter should be defined");var o,c=f((0,s.checkTextfileContents)(e,"YAML",t,n,r,a).noticeList);try{for(c.s();!(o=c.n()).done;){var i=o.value;console.assert(Object.keys(i).length>=5,"USFM ourBasicFileChecks notice length=".concat(Object.keys(i).length)),g(i)}}catch(l){c.e(l)}finally{c.f()}})(t,n,r,a),null!==a&&void 0!==a&&a.suppressNoticeDisablingFlag||(h.noticeList=(0,l.removeDisabledNotices)(h.noticeList));m("Checked all ".concat(v.length.toLocaleString()," line").concat(1===v.length?"":"s").concat(p,".")),h.noticeList?m("checkYAMLText v".concat("0.4.2"," finished with ").concat(h.noticeList.length?h.noticeList.length.toLocaleString():"zero"," notice").concat(1===h.noticeList.length?"":"s")):m("No errors or warnings found by checkYAMLText v".concat("0.4.2"));return h};var a=r(n(25)),o=n(57),c=r(n(221)),i=n(116),s=n(194),l=n(117);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},388:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkTN_TSVDataRow=function(e,t,n,r,a,o,c){return w.apply(this,arguments)};var o=a(n(79)),c=a(n(108)),i=a(n(25)),s=a(n(80)),l=n(57),u=r(n(78)),d=n(116),f=n(193),p=n(376),h=n(192),m=n(377);function g(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x="Book\tChapter\tVerse\tID\tSupportReference\tOrigQuote\tOccurrence\tGLQuote\tOccurrenceNote",k="abcdefghijklmnopqrstuvwxyz0123456789",T=new RegExp("\\[\\[rc://[^ /]+?/ta/man/[^ /]+?/([^ \\]]+?)\\]\\]","g");function w(){return(w=(0,s.default)(o.default.mark((function e(t,n,r,a,i,b,y){var w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q,$,Z,Y,K,X,ee,te,ne,re,ae,oe,ce,ie,se,le,ue;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E=function(){return(E=(0,s.default)(o.default.mark((function e(n,c,s,l,u){var d,f,p,m,b,y,x,k,T,w;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==c,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be defined"),console.assert("string"===typeof c,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be a string not a '".concat(typeof c,"'")),console.assert("OccurrenceNote"===c,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'fieldName' parameter should be 'OccurrenceNote' not '".concat(c,"'")),console.assert(void 0!==s,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'taLinkText' parameter should be defined"),console.assert("string"===typeof s,"checkTN_TSVDataRow ourCheckTNLinksToOutside: 'taLinkText' parameter should be a string not a '".concat(typeof s,"'")),e.next=9,(0,h.checkTNLinksToOutside)(r,a,i,c,s,l,v(v({},u),{},{defaultLanguageCode:t}));case 9:d=e.sent,f=g(d.noticeList);try{for(f.s();!(p=f.n()).done;)(m=p.value).extra?O.noticeList.push(m):N(v(v({},m),{},{rowID:n,fieldName:c}))}catch(o){f.e(o)}finally{f.f()}if(d.checkedFileCount&&d.checkedFileCount>0&&("number"===typeof O.checkedFileCount?O.checkedFileCount+=d.checkedFileCount:O.checkedFileCount=d.checkedFileCount),d.checkedFilesizes&&d.checkedFilesizes>0&&("number"===typeof O.checkedFilesizes?O.checkedFilesizes+=d.checkedFilesizes:O.checkedFilesizes=d.checkedFilesizes),d.checkedRepoNames&&d.checkedRepoNames.length>0){b=g(d.checkedRepoNames);try{for(b.s();!(y=b.n()).done;){x=y.value;try{O.checkedRepoNames.indexOf(x)<0&&O.checkedRepoNames.push(x)}catch(C){O.checkedRepoNames=[x]}}}catch(o){b.e(o)}finally{b.f()}}if(d.checkedFilenameExtensions&&d.checkedFilenameExtensions.length>0){k=g(d.checkedFilenameExtensions);try{for(k.s();!(T=k.n()).done;){w=T.value;try{O.checkedFilenameExtensions.indexOf(w)<0&&O.checkedFilenameExtensions.push(w)}catch(S){O.checkedFilenameExtensions=[w]}}}catch(o){k.e(o)}finally{k.f()}}case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},A=function(e,t,n,r,a){return E.apply(this,arguments)},P=function(){return(P=(0,s.default)(o.default.mark((function e(n,c,s,l,u,d){var f,p,h,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==c,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldName' parameter should be defined"),console.assert("string"===typeof c,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldName' parameter should be a string not a '".concat(typeof c,"'")),console.assert(void 0!==s,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldText' parameter should be defined"),console.assert("string"===typeof s,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'fieldText' parameter should be a string not a '".concat(typeof s,"'")),console.assert(void 0!==l,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'occurrence' parameter should be defined"),console.assert("string"===typeof l,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'occurrence' parameter should be a string not a '".concat(typeof l,"'")),console.assert(u.indexOf(c)<0,"checkTN_TSVDataRow ourCheckTNOriginalLanguageQuote: 'rowLocation' parameter should be not contain fieldName=".concat(c)),e.next=11,(0,m.checkOriginalLanguageQuote)(t,c,s,l,r,a,i,u,d);case 11:f=e.sent,p=g(f.noticeList);try{for(p.s();!(h=p.n()).done;)b=h.value,N(v(v({},b),{},{rowID:n,fieldName:c}))}catch(o){p.e(o)}finally{p.f()}case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(e,t,n,r,a,o){return P.apply(this,arguments)},D=function(){return(D=(0,s.default)(o.default.mark((function e(n,r,a,c,i){var s,l,u,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'fieldName' parameter should be defined"),console.assert("string"===typeof r,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'fieldName' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'taLinkText' parameter should be defined"),console.assert("string"===typeof a,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'taLinkText' parameter should be a string not a '".concat(typeof a,"'")),console.assert(c.indexOf(r)<0,"checkTN_TSVDataRow ourCheckSupportReferenceInTA: 'rowLocation' parameter should be not contain fieldName=".concat(r)),e.next=9,(0,p.checkSupportReferenceInTA)(r,a,c,v(v({},i),{},{taRepoLanguageCode:t}));case 9:s=e.sent,l=g(s.noticeList);try{for(l.s();!(u=l.n()).done;)d=u.value,N(v(v({},d),{},{rowID:n,fieldName:r}))}catch(o){l.e(o)}finally{l.f()}case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},F=function(e,t,n,r,a){return D.apply(this,arguments)},L=function(e,t,n,r,a,o){console.assert(void 0!==e,"checkTN_TSVDataRow ourCheckTextField: 'rowID' parameter should be defined"),console.assert("string"===typeof e,"checkTN_TSVDataRow ourCheckTextField: 'rowID' parameter should be a string not a '".concat(typeof e,"'")),console.assert(void 0!==t,"checkTN_TSVDataRow ourCheckTextField: 'fieldName' parameter should be defined"),console.assert("string"===typeof t,"checkTN_TSVDataRow ourCheckTextField: 'fieldName' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkTN_TSVDataRow ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(!0===r||!1===r,"checkTN_TSVDataRow ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==a,"checkTN_TSVDataRow ourCheckTextField: 'rowLocation' parameter should be defined"),console.assert("string"===typeof a,"checkTN_TSVDataRow ourCheckTextField: 'rowLocation' parameter should be a string not a '".concat(typeof a,"'")),console.assert(a.indexOf(t)<0,"checkTN_TSVDataRow ourCheckTextField: 'rowLocation' parameter should be not contain fieldName=".concat(t));var c,i="OccurrenceNote"===t?"markdown":"raw",s=(0,d.checkTextField)(i,t,n,r,a,o),l=g(s.noticeList);try{for(l.s();!(c=l.n()).done;){var u=c.value;N(v(v({},u),{},{rowID:e,fieldName:t}))}}catch(f){l.e(f)}finally{l.f()}return s.suggestion},I=function(){return(I=(0,s.default)(o.default.mark((function e(n,r,a,c,i,s){var l,u,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==n,"checkTN_TSVDataRow ourMarkdownTextChecks: 'rowID' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow ourMarkdownTextChecks: 'rowID' parameter should be a string not a '".concat(typeof n,"'")),console.assert("OccurrenceNote"===r,"checkTN_TSVDataRow ourMarkdownTextChecks: Only run this check on OccurrenceNotes"),console.assert(void 0!==a,"checkTN_TSVDataRow ourMarkdownTextChecks: 'fieldText' parameter should be defined"),console.assert("string"===typeof a,"checkTN_TSVDataRow ourMarkdownTextChecks: 'fieldText' parameter should be a string not a '".concat(typeof a,"'")),console.assert(!0===c||!1===c,"checkTN_TSVDataRow ourMarkdownTextChecks: allowedLinks parameter must be either true or false"),console.assert(void 0!==i,"checkTN_TSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be defined"),console.assert("string"===typeof i,"checkTN_TSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be a string not a '".concat(typeof i,"'")),console.assert(i.indexOf(r)<0,"checkTN_TSVDataRow ourMarkdownTextChecks: 'rowLocation' parameter should be not contain fieldName=".concat(r)),e.next=11,(0,f.checkMarkdownText)(t,r,a,i,s);case 11:l=e.sent,u=g(l.noticeList);try{for(u.s();!(d=u.n()).done;)178===(p=d.value).priority||179===p.priority||p.message.startsWith("Unexpected \u2026 character after space")||N(v(v({},p),{},{rowID:n,fieldName:r}))}catch(o){u.e(o)}finally{u.f()}return e.abrupt("return",l.suggestion);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},S=function(e,t,n,r,a,o){return I.apply(this,arguments)},N=function(e){console.assert(void 0!==e.priority,"checkTN_TSVDataRow addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"checkTN_TSVDataRow addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"checkTN_TSVDataRow addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"checkTN_TSVDataRow addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"checkTN_TSVDataRow addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"checkTN_TSVDataRow addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"checkTN_TSVDataRow addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"checkTN_TSVDataRow addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),O.noticeList.push(v(v({},e),{},{bookID:r,C:a,V:i}))},console.assert(void 0!==t,"checkTN_TSVDataRow: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkTN_TSVDataRow: 'languageCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkTN_TSVDataRow: 'line' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVDataRow: 'line' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"checkTN_TSVDataRow: 'bookID' parameter should be defined"),console.assert("string"===typeof r,"checkTN_TSVDataRow: 'bookID' parameter should be a string not a '".concat(typeof r,"'")),console.assert(3===r.length,"checkTN_TSVDataRow: 'bookID' parameter should be three characters long not ".concat(r.length)),console.assert(r.toUpperCase()===r,"checkTN_TSVDataRow: 'bookID' parameter should be UPPERCASE not '".concat(r,"'")),console.assert(u.isValidBookID(r),"checkTN_TSVDataRow: '".concat(r,"' is not a valid USFM book identifier")),a&&console.assert("string"===typeof a,"checkTN_TSVDataRow: 'givenC' parameter should be a string not a '".concat(typeof a,"'")),i&&console.assert("string"===typeof i,"checkTN_TSVDataRow: 'givenV' parameter should be a string not a '".concat(typeof i,"'")),console.assert(void 0!==b,"checkTN_TSVDataRow: 'givenRowLocation' parameter should be defined"),console.assert("string"===typeof b,"checkTN_TSVDataRow: 'givenRowLocation' parameter should be a string not a '".concat(typeof b,"'")),(w=b)&&" "!==w[0]&&(w=" ".concat(w)),(C=v({},y)).taRepoLanguageCode=t,O={noticeList:[]},n!==x){e.next=30;break}return e.abrupt("return",O);case 30:try{R=null===y||void 0===y?void 0:y.extractLength}catch(de){}("number"!==typeof R||isNaN(R))&&(R=l.DEFAULT_EXTRACT_LENGTH),M=r.toLowerCase();try{console.assert("obs"!==M,"Shouldn\u2019t happen in tn_table-row-check"),U=u.chaptersInBook(M).length}catch(fe){N({priority:979,message:"Invalid book identifier passed to checkTN_TSVDataRow",location:" '".concat(r,"' in first parameter: ").concat(fe)})}if(_=void 0!==U,9!==(V=n.split("\t")).length){e.next=86;break}if(H=(0,c.default)(V,9),q=H[0],$=H[1],Z=H[2],Y=H[3],K=H[4],X=H[5],ee=H[6],te=H[7],ne=H[8],q.length?q!==r&&N({priority:978,message:"Wrong book identifier",details:"expected '".concat(r,"'"),fieldName:"Book",rowID:Y,extract:q,location:w}):N({priority:977,message:"Missing book identifier",characterIndex:0,rowID:Y,location:w}),$.length)if($!==a&&N({priority:976,message:"Wrong chapter number",details:"expected '".concat(a,"'"),fieldName:"Chapter",rowID:Y,extract:$,location:w}),"front"===$);else if(/^\d+$/.test($)){0===(oe=Number($))?(N({priority:824,message:"Invalid zero chapter number",extract:$,rowID:Y,fieldName:"Chapter",location:w}),ae=!1):oe>U&&(N({priority:823,message:"Invalid large chapter number",extract:$,rowID:Y,fieldName:"Chapter",location:w}),ae=!1);try{re=u.versesInChapter(M,oe),ae=!0}catch(pe){_||N({priority:822,message:"Unable to check chapter number",extract:$,rowID:Y,fieldName:"Chapter",location:w}),ae=!1}}else N({priority:821,message:"Bad chapter number",extract:$,rowID:Y,fieldName:"Chapter",location:w});else N({priority:820,message:"Missing chapter number",rowID:Y,fieldName:"Chapter",location:" ?:".concat(Z).concat(w)});if(Z.length?(Z!==i&&N({priority:975,message:"Wrong verse number",details:"expected '".concat(i,"'"),rowID:Y,fieldName:"Verse",extract:Z,location:w}),"intro"===Z||(/^\d+$/.test(Z)?0===(ce=Number(Z))?N({priority:814,message:"Invalid zero verse number",rowID:Y,fieldName:"Verse",extract:Z,location:w}):ae?ce>re&&N({priority:813,message:"Invalid large verse number",rowID:Y,fieldName:"Verse",extract:Z,location:w}):N({priority:812,message:"Unable to check verse number",rowID:Y,fieldName:"Verse",location:w}):N({priority:811,message:"Bad verse number",rowID:Y,fieldName:"Verse",location:" '".concat(Z,"'").concat(w)}))):N({priority:810,message:"Missing verse number",rowID:Y,fieldName:"Verse",location:" after ".concat($,":?").concat(w)}),Y.length)if(4!==Y.length)if(N({priority:778,message:"Row ID should be exactly 4 characters",details:"not ".concat(Y.length),rowID:Y,fieldName:"ID",extract:Y,location:w}),Y.length>4)B=Y.substring(0,5);else for(B=Y;B.length<4;)B+=k[Math.floor(Math.random()*k.length)];else"abcdefghijklmnopqrstuvwxyz".indexOf(Y[0])<0?N({priority:176,message:"Row ID should start with a lowercase letter",characterIndex:0,rowID:Y,fieldName:"ID",extract:Y,location:w}):k.indexOf(Y[3])<0?N({priority:175,message:"Row ID should end with a lowercase letter or digit",characterIndeX:3,rowID:Y,fieldName:"ID",extract:Y,location:w}):"abcdefghijklmnopqrstuvwxyz0123456789-".indexOf(Y[1])<0?N({priority:174,message:"Row ID characters should only be lowercase letters, digits, or hypen",fieldName:"ID",characterIndex:1,rowID:Y,extract:Y,location:w}):"abcdefghijklmnopqrstuvwxyz0123456789-".indexOf(Y[2])<0&&N({priority:173,message:"Row ID characters should only be lowercase letters, digits, or hypen",fieldName:"ID",characterIndex:2,rowID:Y,extract:Y,location:w});else N({priority:779,message:"Missing row ID field",fieldName:"Verse",location:w});if(!K.length){e.next=54;break}if(!(0,l.isWhitespace)(K)){e.next=47;break}N({priority:373,message:"Field is only whitespace",fieldName:"SupportReference",rowID:Y,location:w}),e.next=53;break;case 47:if(K.startsWith("figs-")||K.startsWith("grammar-")||K.startsWith("translate-")||K.startsWith("writing-")||"guidelines-sonofgodprinciples"===K||N({priority:788,message:"Only 'Just-In-Time Training' TA articles allowed here",fieldName:"SupportReference",extract:K,rowID:Y,location:w}),z=L(Y,"SupportReference",K,!0,w,y),null!==y&&void 0!==y&&y.disableAllLinkFetchingFlag){e.next=52;break}return e.next=52,F(Y,"SupportReference",K,w,y);case 52:ne.indexOf(K)<0&&N({priority:787,message:"Link to TA should also be in OccurrenceNote",fieldName:"SupportReference",extract:K,rowID:Y,location:w});case 53:K.indexOf("\u200b")>=0&&N({priority:374,message:"Field contains zero-width space(s)",fieldName:"SupportReference",rowID:Y,location:w});case 54:if(!X.length){e.next=64;break}if(Q=L(Y,"OrigQuote",X,!1,w,y),!ee.length){e.next=61;break}return e.next=59,j(Y,"OrigQuote",X,ee,w,y);case 59:e.next=62;break;case 61:N({priority:750,message:"Missing occurrence field when we have an original quote",fieldName:"Occurrence",rowID:Y,location:w});case 62:e.next=65;break;case 64:"intro"!==Z&&"0"!==ee&&N({priority:919,message:"Missing OrigQuote field",fieldName:"OrigQuote",rowID:Y,location:w});case 65:if(ee.length?"0"===ee?X.length&&(N({priority:751,message:"Invalid zero occurrence field when we have an original quote",fieldName:"Occurrence",rowID:Y,extract:ee,location:w}),G="1"):"-1"===ee||"1234567".indexOf(ee)<0&&(N({priority:792,message:"Invalid occurrence field",fieldName:"Occurrence",rowID:Y,extract:ee,location:w}),G="1"):X.length&&(N({priority:791,message:"Missing occurrence field",fieldName:"Occurrence",rowID:Y,location:w}),G="1"),te.length&&(te.indexOf("\u200b")>=0&&N({priority:374,message:"Field contains zero-width space(s)",fieldName:"GLQuote",rowID:Y,location:w}),(0,l.isWhitespace)(te)?N({priority:373,message:"Field is only whitespace",fieldName:"GLQuote",rowID:Y,location:w}):"intro"!==Z&&(W=L(Y,"GLQuote",te,!1,w,y))),!ne.length){e.next=81;break}if(ne.indexOf("\u200b")>=0&&N({priority:374,message:"Field contains zero-width space(s)",fieldName:"OccurrenceNote",rowID:Y,location:w}),!(0,l.isWhitespace)(ne)){e.next=73;break}N({priority:373,message:"Field is only whitespace",fieldName:"OccurrenceNote",rowID:Y,location:w}),e.next=79;break;case 73:return e.next=75,S(Y,"OccurrenceNote",ne,!0,w,y);case 75:return J=e.sent,e.next=78,A(Y,"OccurrenceNote",ne,w,C);case 78:for(;ie=T.exec(ne);)K!==ie[1]&&"intro"!==Z&&(se=K?"(SR='".concat(K,"')"):"(empty SR field)",N({priority:786,message:"Link to TA should also be in SupportReference",details:se,rowID:Y,fieldName:"OccurrenceNote",extract:ie[1],location:w}));case 79:e.next=82;break;case 81:N({priority:274,message:"Missing OccurrenceNote field",fieldName:"OccurrenceNote",rowID:Y,location:w});case 82:(le="".concat(q,"\t").concat($,"\t").concat(Z,"\t").concat(void 0===B?Y:B,"\t").concat(void 0===z?K:z,"\t").concat(void 0===Q?X:Q,"\t").concat(void 0===G?ee:G,"\t").concat(void 0===W?te:W,"\t").concat(void 0===J?ne:J))!==n&&(O.suggestion=le),e.next=89;break;case 86:ue="????";try{ue=V[3]}catch(he){}N({priority:984,message:"Found wrong number of TSV fields (expected ".concat(9,")"),details:"Found ".concat(V.length," field").concat(1===V.length?"":"s"),rowID:ue,location:w});case 89:return e.abrupt("return",O);case 90:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},428:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=428},449:function(e,t,n){e.exports=n(661)},454:function(e,t,n){},484:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAnnotationRows=function(e,t,n,r,a,o,c){return b.apply(this,arguments)};var o=a(n(79)),c=a(n(108)),i=a(n(25)),s=a(n(80)),l=r(n(78)),u=n(57),d=n(375),f=n(117);function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){return(b=(0,s.default)(o.default.mark((function e(t,n,r,a,i,s,h){var m,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q,$,Z,Y,K,X,ee,te,ne,re,ae,oe,ce,ie;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=function(e){console.assert(void 0!==e.priority,"ATSV addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"TSV addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"ATSV addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"TSV addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.C&&console.assert("string"===typeof e.C,"TSV addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"': ").concat(e.C)),e.V&&console.assert("string"===typeof e.V,"TSV addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"': ").concat(e.V)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"TSV addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"TSV addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"ATSV addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"TSV addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),e.debugChain&&(e.debugChain="checkAnnotationRows ".concat(e.debugChain)),b.noticeList.push(g(g({},e),{},{bookID:r,filename:a}))},y=function(e){b.successList.push(e)},console.assert(void 0!==t,"checkAnnotationRows: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkAnnotationRows: 'languageCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==r,"checkAnnotationRows: 'bookID' parameter should be defined"),console.assert("string"===typeof r,"checkAnnotationRows: 'bookID' parameter should be a string not a '".concat(typeof r,"'")),console.assert(3===r.length,"checkAnnotationRows: 'bookID' parameter should be three characters long not ".concat(r.length)),console.assert(r.toUpperCase()===r,"checkAnnotationRows: 'bookID' parameter should be UPPERCASE not '".concat(r,"'")),console.assert("OBS"===r||l.isValidBookID(r),"checkAnnotationRows: '".concat(r,"' is not a valid USFM book identifier")),console.assert(void 0!==s,"checkAnnotationRows: 'givenLocation' parameter should be defined"),console.assert("string"===typeof s,"checkAnnotationRows: 'givenLocation' parameter should be a string not a '".concat(typeof s,"'")),(m=s)&&" "!==m[0]&&(m=" ".concat(m)),b={successList:[],noticeList:[]};try{x=null===h||void 0===h?void 0:h.extractLength}catch(o){}if(("number"!==typeof x||isNaN(x))&&(x=u.DEFAULT_EXTRACT_LENGTH),k=r.toLowerCase(),T=0,"OBS"===r)T=50;else{console.assert("obs"!==k,"Shouldn\u2019t happen in annotation-table-check");try{T=l.chaptersInBook(k).length}catch(se){l.isValidBookID(r)||v({priority:747,message:"Bad function call: should be given a valid book abbreviation",extract:r,location:" (not '".concat(r,"')").concat(m)})}}w=i.split("\n"),C="",O="",N=[],S=[],I=0,L=0;case 24:if(!(L<w.length)){e.next=56;break}if(0!==L){e.next=29;break}"Reference\tID\tTags\tSupportReference\tQuote\tOccurrence\tAnnotation"===w[0]?y("Checked TSV header ".concat(m)):v({priority:746,message:"Bad TSV header",lineNumber:L+1,location:"".concat(m,": '").concat(w[0],"'")}),e.next=53;break;case 29:if(7!==(F=w[L].split("\t")).length){e.next=52;break}return D=(0,c.default)(F,7),j=D[0],P=D[1],D[2],A=D[3],E=D[4],R=D[5],D[6],M=j.split(":"),U=(0,c.default)(M,2),_=U[0],V=U[1],e.next=35,(0,d.checkAnnotationTSVDataRow)(t,n,w[L],r,_,V,m,h);case 35:B=e.sent,z=p(B.noticeList);try{for(z.s();!(W=z.n()).done;)(Q=W.value).extra?b.noticeList.push(Q):v(g(g({},Q),{},{lineNumber:L+1}))}catch(le){z.e(le)}finally{z.f()}if(B.checkedFileCount&&B.checkedFileCount>0&&("number"===typeof b.checkedFileCount?b.checkedFileCount+=B.checkedFileCount:b.checkedFileCount=B.checkedFileCount),B.checkedFilesizes&&B.checkedFilesizes>0&&("number"===typeof b.checkedFilesizes?b.checkedFilesizes+=B.checkedFilesizes:b.checkedFilesizes=B.checkedFilesizes),B.checkedRepoNames&&B.checkedRepoNames.length>0){G=p(B.checkedRepoNames);try{for(G.s();!(J=G.n()).done;){H=J.value;try{b.checkedRepoNames.indexOf(H)<0&&b.checkedRepoNames.push(H)}catch(ue){b.checkedRepoNames=[H]}}}catch(le){G.e(le)}finally{G.f()}}if(B.checkedFilenameExtensions&&B.checkedFilenameExtensions.length>0){q=p(B.checkedFilenameExtensions);try{for(q.s();!($=q.n()).done;){Z=$.value;try{b.checkedFilenameExtensions.indexOf(Z)<0&&b.checkedFilenameExtensions.push(Z)}catch(de){b.checkedFilenameExtensions=[Z]}}}catch(le){q.e(le)}finally{q.f()}}_===C&&V===O||(N=[],S=[]),Y=_+V+A+E+R,S.push(Y),_?"front"===_||(/^\d+$/.test(_)?(K=Number(_),_!==C&&(I="obs"===k?99:l.versesInChapter(k,K)),0===K&&v({priority:551,C:_,V:V,message:"Invalid zero chapter number",rowID:P,lineNumber:L+1,extract:_,location:m}),K>T&&v({priority:737,C:_,V:V,message:"Invalid large chapter number",rowID:P,lineNumber:L+1,extract:_,location:m}),/^\d+$/.test(C)&&(X=Number(C),K<X?v({priority:736,C:_,V:V,message:"Receding chapter number",details:"'".concat(_,"' after '").concat(C,"'"),rowID:P,lineNumber:L+1,location:m}):K>X+1&&v({priority:735,C:_,V:V,message:"Advancing chapter number",details:"'".concat(_,"' after '").concat(C,"'").rowID,lineNumber:L+1,location:m}))):v({priority:734,C:_,V:V,message:"Bad chapter number",rowID:P,lineNumber:L+1,location:m})):v({priority:739,C:_,V:V,message:"Missing chapter number",rowID:P,lineNumber:L+1,location:" after ".concat(C,":").concat(V).concat(m)}),V?"intro"===V||(/^\d+$/.test(V)?(0===(ee=Number(V))&&v({priority:552,C:_,V:V,message:"Invalid zero verse number",details:"for chapter ".concat(_),rowID:P,lineNumber:L+1,extract:V,location:m}),ee>I&&v({priority:734,C:_,V:V,message:"Invalid large verse number",details:"for chapter ".concat(_),rowID:P,lineNumber:L+1,extract:V,location:m}),/^\d+$/.test(O)&&(te=Number(O),_===C&&ee<te&&v({priority:733,C:_,V:V,message:"Receding verse number",details:"'".concat(V,"' after '").concat(O," for chapter ").concat(_),rowID:P,lineNumber:L+1,extract:V,location:m}))):v({priority:738,C:_,V:V,message:"Bad verse number",rowID:P,lineNumber:L+1,location:m})):v({priority:790,C:_,V:V,message:"Missing verse number",rowID:P,lineNumber:L+1,location:" after ".concat(_,":").concat(O).concat(m)}),P?N.includes(P)&&v({priority:729,C:_,V:V,message:"Duplicate '".concat(P,"' ID"),fieldName:"ID",rowID:P,lineNumber:L+1,location:m}):v({priority:730,C:_,V:V,message:"Missing ID",fieldName:"ID",lineNumber:L+1,location:m}),C=_,O=V,e.next=53;break;case 52:if(L!==w.length-1){ne="?:?",re="?",ae="?",oe="????";try{ne=F[0]}catch(fe){}try{oe=F[1]}catch(pe){}try{ce=ne.split(":"),ie=(0,c.default)(ce,2),re=ie[0],ae=ie[1]}catch(he){}v({priority:988,message:"Wrong number of tabbed fields (expected ".concat(7,")"),extract:"Found ".concat(F.length," field").concat(1===F.length?"":"s"),C:re,V:ae,rowID:oe,lineNumber:L+1,location:m})}case 53:L++,e.next=24;break;case 56:return null!==h&&void 0!==h&&h.suppressNoticeDisablingFlag||(b.noticeList=(0,f.removeDisabledNotices)(b.noticeList)),(null===h||void 0===h||!h.cutoffPriorityLevel||(null===h||void 0===h?void 0:h.cutoffPriorityLevel)<20)&&null!==h&&void 0!==h&&h.disableAllLinkFetchingFlag&&v({priority:20,message:"Note that 'disableAllLinkFetchingFlag' was set so link targets were not checked",location:m}),y("Checked all ".concat((w.length-1).toLocaleString()," data line").concat(w.length-1===1?"":"s").concat(m,".")),b.noticeList?y("checkAnnotationRows v".concat("0.3.0"," finished with ").concat(b.noticeList.length?b.noticeList.length.toLocaleString():"zero"," notice").concat(1===b.noticeList.length?"":"s")):y("No errors or warnings found by checkAnnotationRows v".concat("0.3.0")),e.abrupt("return",b);case 61:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},485:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkMarkdownFileContents=function(e,t,n,r,c){console.assert(void 0!==e,"checkMarkdownFileContents: 'languageCode' parameter should be defined"),console.assert("string"===typeof e,"checkMarkdownFileContents: 'languageCode' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert(void 0!==t,"checkMarkdownFileContents: 'markdownFilename' parameter should be defined"),console.assert("string"===typeof t,"checkMarkdownFileContents: 'markdownFilename' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkMarkdownFileContents: 'markdownText' parameter should be defined"),console.assert("string"===typeof n,"checkMarkdownFileContents: 'markdownText' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkMarkdownFileContents: 'givenLocation' parameter should be defined"),console.assert("string"===typeof r,"checkMarkdownFileContents: 'givenLocation' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),console.assert(-1===r.indexOf("true"),"checkMarkdownFileContents: 'givenLocation' parameter should not be '".concat(r,"'")),void 0!==c&&console.assert("object"===typeof c,"checkMarkdownFileContents: 'checkingOptions' parameter should be an object not a '".concat(typeof c,"': ").concat(JSON.stringify(c)));var d,f=r;f&&" "!==f[0]&&(f=" ".concat(f));try{d=null===c||void 0===c?void 0:c.extractLength}catch(y){}("number"!==typeof d||isNaN(d))&&(d=i.DEFAULT_EXTRACT_LENGTH);var h={successList:[],noticeList:[]};function m(e){h.successList.push(e)}function g(e){console.assert(void 0!==e.priority,"cMdT addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cMdT addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cMdT addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cMdT addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cMdT addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cMdT addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cMdT addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cMdT addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),e.debugChain&&(e.debugChain="checkMarkdownFileContents ".concat(e.debugChain)),h.noticeList.push(p(p({},e),{},{filename:t}))}function b(){return(b=(0,o.default)(a.default.mark((function n(r,o,c){var i,l,d;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.assert(void 0!==r,"cMdFC ourCheckMarkdownText: 'markdownText' parameter should be defined"),console.assert("string"===typeof r,"cMdFC ourCheckMarkdownText: 'markdownText' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==o,"cMdFC ourCheckMarkdownText: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof o,"cMdFC ourCheckMarkdownText: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof o,"'")),n.next=6,(0,s.checkMarkdownText)(e,t,r,o,c);case 6:i=n.sent,l=u(i.noticeList);try{for(l.s();!(d=l.n()).done;)g(d.value)}catch(a){l.e(a)}finally{l.f()}case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}(function(e,t,n){b.apply(this,arguments)})(n,r,c),function(n,r,a){console.assert(void 0!==n,"cMdFC ourFileTextCheck: 'markdownText' parameter should be defined"),console.assert("string"===typeof n,"cMdFC ourFileTextCheck: 'markdownText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==a,"cMdFC ourFileTextCheck: 'checkingOptions' parameter should be defined");var o,c=u((0,l.checkTextfileContents)(e,"markdown",t,n,r,a).noticeList);try{for(c.s();!(o=c.n()).done;){g(o.value)}}catch(i){c.e(i)}finally{c.f()}}(n,r,c),m("Checked markdown file: ".concat(t)),h.noticeList?m("checkMarkdownFileContents v".concat("0.4.0"," finished with ").concat(h.noticeList.length?h.noticeList.length.toLocaleString():"zero"," notice").concat(1===h.noticeList.length?"":"s")):m("No errors or warnings found by checkMarkdownFileContents v".concat("0.4.0"));t.endsWith("walk.md")&&console.log("checkMarkdownFileContents result is",JSON.stringify(h));return h};var a=r(n(79)),o=r(n(80)),c=r(n(25)),i=n(57),s=n(193),l=n(194);function u(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},486:function(e,t,n){"use strict";var r=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkManifestText=function(e,t,n,r,a,o){return m.apply(this,arguments)};var a=r(n(79)),o=r(n(80)),c=n(57),i=n(379),s=n(155),l=n(78),u=r(n(487)),d=n(117);function f(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=(new u.default).compile({$schema:"http://json-schema.org/draft-07/schema",$id:"https://resource-container.readthedocs.io/schema/rc.schema.json",$$target:["rc.schema.json#/definitions/languageTag","rc.schema.json#/definitions/localizedText"],title:"Root",type:"object",required:["dublin_core","checking","projects"],properties:{dublin_core:{$id:"#root/dublin_core",title:"Dublin_core",type:"object",required:["conformsto","contributor","creator","description","format","identifier","issued","language","modified","publisher","relation","rights","source","subject","title","type","version"],properties:{conformsto:{$id:"#root/dublin_core/conformsto",title:"Conformsto",type:"string",default:"rc0.2",enum:["rc0.2"]},contributor:{$id:"#root/dublin_core/contributor",title:"Contributor",type:"array",default:[],items:{$id:"#root/dublin_core/contributor/items",title:"Items",type:"string",default:"",examples:["Alrick G. Headley, M.Div., Th.M."]}},creator:{$id:"#root/dublin_core/creator",title:"Creator",type:"string",default:"",examples:["unfoldingWord"]},description:{$id:"#root/dublin_core/description",title:"Description",type:"string",default:"",examples:["An open-licensed update of the ASV, intended to provide a 'form-centric' understanding of the Bible. It increases the translator's understanding of the lexical and grammatical composition of the underlying text by adhering closely to the word order and structure of the originals."]},format:{$id:"#root/dublin_core/format",$ref:"#/definitions/mimeType",title:"Format",default:""},identifier:{$id:"#root/dublin_core/identifier",title:"Identifier",type:"string",default:"",examples:["ult"],pattern:"^[a-z][a-z0-9-]"},issued:{$id:"#root/dublin_core/issued",$ref:"#/definitions/timestamp",title:"Issued",type:"string",default:"",examples:["2020-03-25"]},modified:{$id:"#root/dublin_core/modified",$ref:"#/definitions/timestamp",title:"Modified",type:"string",default:"",examples:["2020-03-25"]},publisher:{$id:"#root/dublin_core/publisher",title:"Publisher",type:"string",default:"",examples:["unfoldingWord"]},language:{$id:"#root/dublin_core/language",title:"Language",type:"object",required:["direction","identifier","title"],properties:{identifier:{$id:"#root/dublin_core/language/identifier",$ref:"#/definitions/languageTag",title:"Identifier",examples:["en","hi","es-419"]},title:{$id:"#root/dublin_core/language/title",title:"Title",type:"string",default:""},direction:{$id:"#root/dublin_core/language/direction",title:"Direction",type:"string",default:"ltr",enum:["ltr","rtl"]}}},relation:{$id:"#root/dublin_core/relation",title:"Relation",type:"array",default:[],items:{$id:"#root/dublin_core/relation/items",$ref:"#/definitions/relationItem",title:"Items",default:"",examples:["en/tw"]}},rights:{$id:"#root/dublin_core/rights",title:"Rights",type:"string",default:"CC BY-SA 4.0",enum:["CC BY 3.0","CC BY-SA 3.0","CC BY-SA 4.0","Free Translate 2.0 International Public License","Public Domain"]},source:{$id:"#root/dublin_core/source",title:"Source",type:"array",default:[],items:{$id:"#root/dublin_core/source/items",title:"Items",type:"object",required:["identifier","language","version"],properties:{identifier:{$id:"#root/dublin_core/source/items/identifier",title:"Identifier",type:"string",default:"",examples:["asv"],pattern:"^[a-z][a-z0-9-]"},language:{$id:"#root/dublin_core/source/items/language",$ref:"#/definitions/languageTag",title:"Language",default:"",examples:["en"]},version:{$id:"#root/dublin_core/source/items/version",title:"Version",type:"string",default:"",examples:["1901"]}}}},subject:{$id:"#root/dublin_core/subject",title:"Subject",type:"string",enum:["Aligned Bible","Bible","Bible stories","Greek New Testament","Hebrew Old Testament","OBS Study Notes","OBS Study Questions","OBS Translation Notes","OBS Translation Questions","Open Bible Stories","Translation Academy","Translation Notes","Translation Questions","Translation Words","TSV Translation Notes"]},title:{$id:"#root/dublin_core/title",title:"Title",type:"string",default:"",examples:["unfoldingWord\xae Literal Text"]},type:{$id:"#root/dublin_core/type",title:"Type",type:"string",default:"",examples:["bundle"],enum:["book","bundle","dict","help","man"]},version:{$id:"#root/dublin_core/version",title:"Version",type:"string",default:"",examples:["10"]}}},checking:{$id:"#root/checking",title:"Checking",type:"object",required:["checking_entity","checking_level"],properties:{checking_entity:{$id:"#root/checking/checking_entity",title:"Checking_entity",type:"array",default:[],items:{$id:"#root/checking/checking_entity/items",title:"Items",type:"string",default:"",examples:["unfoldingWord"]}},checking_level:{$id:"#root/checking/checking_level",title:"Checking_level",type:["integer","string"],default:"1",enum:["1","2","3"]}}},projects:{$id:"#root/projects",title:"Projects",type:"array",default:[],items:{$id:"#root/projects/items",title:"Items",type:"object",required:["title","identifier","path"],properties:{title:{$id:"#root/projects/items/title",title:"Title",type:"string",default:"",examples:["Genesis"]},versification:{$id:"#root/projects/items/versification",title:"Versification",type:["string","null"],default:null,examples:["ufw"],enum:["avd","odx","odx-hr","other","rsc","ufw","ufw-bn","ufw-ml","ufw-odx","ufw-rev","obs","",null]},identifier:{$id:"#root/projects/items/identifier",$ref:"#/definitions/projectIdentifier",title:"Identifier",default:""},sort:{$id:"#root/projects/items/sort",title:"Sort",type:"integer",default:0},path:{$id:"#root/projects/items/path",$ref:"#/definitions/path",title:"Path",examples:["./01-GEN.usfm"]},categories:{$id:"#root/projects/items/categories",title:"Categories",type:["array","null"],default:[],items:{$id:"#root/projects/items/categories/items",title:"Items",type:"string",enum:["bible-ot","bible-nt","ta"]}}}}}},definitions:{languageTag:{type:"string",pattern:"^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))$",minLength:2,description:"A valid IETF language tag as specified by BCP 47."},localizedText:{type:"object",additionalProperties:{$ref:"#/definitions/trimmedText"},propertyNames:{$ref:"#/definitions/languageTag"},minProperties:1,description:"A textual string specified in one or multiple languages, indexed by IETF language tag."},mimeType:{type:"string",pattern:"^[\\-a-z0-9]+/[\\-a-z0-9+]+$",description:"An IANA media type (also known as MIME type)"},path:{type:"string",pattern:'^[^\\/:?*"><|]+(/[^\\/:?*"><|]+)*$',description:"A file path, delimited by forward slashes."},projectIdentifier:{type:"string",enum:["gen","exo","lev","num","deu","jos","jdg","rut","1sa","2sa","1ki","2ki","1ch","2ch","ezr","neh","est","job","psa","pro","ecc","sng","isa","jer","lam","ezk","dan","hos","jol","amo","oba","jon","mic","nam","hab","zep","hag","zec","mal","mat","mrk","luk","jhn","act","rom","1co","2co","gal","eph","php","col","1th","2th","1ti","2ti","tit","phm","heb","jas","1pe","2pe","1jn","2jn","3jn","jud","rev","obs","intro","process","translate","checking","bible"]},relationItem:{type:"string",pattern:"^(((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+))/[a-z][a-z0-9-]*(\\?v=[0-9][a-z0-9\\._-]*)*$",minLength:4,description:"A relation has valid IETF language tag as specified by BCP 47 and a valid resource, separated with a slash."},timestamp:{type:"string",pattern:"^[12][0-9]{3}(-[01][0-9](-[0123][0-9])?)?$"},trimmedText:{type:"string",pattern:"^\\S(.*\\S)?$",description:"A string without surrounding whitespace characters."},url:{type:"string",pattern:"^((http(s)?|ftp)://)[^\\s$]+$",minLength:1,description:"A valid **Uniform Resource Locator**.",examples:["https://example.com"]}}});function m(){return(m=(0,o.default)(a.default.mark((function e(t,n,r,o,u,p){var m,g,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x=function(e,t,n,r){console.assert(void 0!==e,"cManT ourYAMLTextChecks: 'textName' parameter should be defined"),console.assert("string"===typeof e,"cManT ourYAMLTextChecks: 'textName' parameter should be a string not a '".concat(typeof e,"'")),console.assert(void 0!==t,"cManT ourYAMLTextChecks: 'manifestText' parameter should be defined"),console.assert("string"===typeof t,"cManT ourYAMLTextChecks: 'manifestText' parameter should be a string not a '".concat(typeof t,"'"));var a=(0,i.checkYAMLText)("en",e,t,n,r);return b.successList=b.successList.concat(a.successList),b.noticeList=b.noticeList.concat(a.noticeList),a.formData},v=function(e){console.assert(void 0!==e.priority,"cManT addNotice: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cManT addNotice: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cManT addNotice: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cManT addNotice: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cManT addNotice: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cManT addNotice: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cManT addNotice: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cManT addNotice: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),n&&(e.repoName=n),e.debugChain&&(e.debugChain="checkManifestText ".concat(e.debugChain)),b.noticeList.push(e)},y=function(e){b.successList.push(e)},console.assert(void 0!==t,"checkManifestText: 'username' parameter should be defined"),console.assert("string"===typeof t,"checkManifestText: 'username' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkManifestText: 'repoName' parameter should be defined"),console.assert("string"===typeof n,"checkManifestText: 'repoName' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkManifestText: 'repoBranch' parameter should be defined"),console.assert("string"===typeof r,"checkManifestText: 'repoBranch' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),console.assert(void 0!==o,"checkManifestText: 'manifestText' parameter should be defined"),console.assert("string"===typeof o,"checkManifestText: 'manifestText' parameter should be a string not a '".concat(typeof o,"': ").concat(o)),console.assert(void 0!==u,"checkManifestText: 'optionalFieldLocation' parameter should be defined"),console.assert("string"===typeof u,"checkManifestText: 'optionalFieldLocation' parameter should be a string not a '".concat(typeof u,"': ").concat(u)),console.assert(-1===u.indexOf("true"),"checkManifestText: 'optionalFieldLocation' parameter should not be '".concat(u,"'")),console.assert(void 0!==p,"checkManifestText: 'checkingOptions' parameter should be defined"),void 0!==p&&console.assert("object"===typeof p,"checkManifestText: 'checkingOptions' parameter should be an object not a '".concat(typeof p,"': ").concat(JSON.stringify(p))),(m=u)&&" "!==m[0]&&(m=" ".concat(m));try{g=null===p||void 0===p?void 0:p.extractLength}catch(a){}if(("number"!==typeof g||isNaN(g))&&(g=c.DEFAULT_EXTRACT_LENGTH),b={successList:[],noticeList:[]},!(k=x(n,o,m,p))){e.next=71;break}if((T=Object.keys(k)).indexOf("dublin_core")<0&&v({priority:928,message:"'dublin_core' key is missing",location:m}),T.indexOf("projects")<0&&v({priority:929,message:"'projects' key is missing",location:m}),T.indexOf("checking")<0&&v({priority:148,message:"'checking' key is missing",location:m}),!h(k)){w=f(h.errors);try{for(w.s();!(C=w.n()).done;)O=C.value,v({priority:985,message:"Field does not match schema ".concat(O.keyword),details:O.message,fieldName:O.dataPath,location:m})}catch(V){w.e(V)}finally{w.f()}}N=p&&null!==p&&void 0!==p&&p.getFile?null===p||void 0===p?void 0:p.getFile:s.cachedGetFile,S=f(k.projects),e.prev=31,S.s();case 33:if((I=S.n()).done){e.next=63;break}for(L=I.value,F=Object.keys(L),D=0,j=["identifier","path","sort"];D<j.length;D++)P=j[D],-1===F.indexOf(P)&&v({priority:939,message:"Key is missing for project",details:P,extract:JSON.stringify(L),location:m});if(A=L.path,!n||"./content"===A||"./bible"===A||"./intro"===A||"./process"===A||"./translate"===A||"./checking"===A||p&&!0===(null===p||void 0===p?void 0:p.disableAllLinkFetchingFlag)){e.next=61;break}E=!1,R=0,M=Object.keys(l.BibleBookData);case 41:if(!(R<M.length)){e.next=49;break}if(U=M[R],A!=="./".concat(U)){e.next=46;break}return E=!0,e.abrupt("break",49);case 46:R++,e.next=41;break;case 49:if(E){e.next=61;break}return _=void 0,e.prev=51,e.next=54,N({username:t,repository:n,path:A,branch:r});case 54:(_=e.sent)?_.length<10&&v({priority:937,message:"Linked project file seems empty",extract:A,location:m}):v({priority:938,message:"Unable to find project file mentioned in manifest",extract:A,location:m}),e.next=61;break;case 58:e.prev=58,e.t0=e.catch(51),v({priority:936,message:"Error loading manifest project link",details:e.t0,extract:A,location:m});case 61:e.next=33;break;case 63:e.next=68;break;case 65:e.prev=65,e.t1=e.catch(31),S.e(e.t1);case 68:return e.prev=68,S.f(),e.finish(68);case 71:return null!==p&&void 0!==p&&p.suppressNoticeDisablingFlag||(b.noticeList=(0,d.removeDisabledNotices)(b.noticeList)),b.noticeList?y("checkManifestText v".concat("0.3.7"," finished with ").concat(b.noticeList.length?b.noticeList.length.toLocaleString():"zero"," notice").concat(1===b.noticeList.length?"":"s")):y("No errors or warnings found by checkManifestText v".concat("0.3.7")),e.abrupt("return",b);case 74:case"end":return e.stop()}}),e,null,[[31,65,68,71],[51,58]])})))).apply(this,arguments)}},521:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkTN_TSVText=function(e,t,n,r,a,o){return y.apply(this,arguments)};var o=a(n(79)),c=a(n(108)),i=a(n(25)),s=a(n(80)),l=r(n(78)),u=n(57),d=n(388),f=n(117);function p(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b="Book\tChapter\tVerse\tID\tSupportReference\tOrigQuote\tOccurrence\tGLQuote\tOccurrenceNote";function y(){return(y=(0,s.default)(o.default.mark((function e(t,n,r,a,i,s){var h,m,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_,V,B,z,W,Q,G,J,H,q,$,Z,Y,K,X,ee,te,ne,re;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v=function(e){console.assert(void 0!==e.priority,"TSV addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"TSV addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"TSV addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"TSV addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.C&&console.assert("string"===typeof e.C,"TSV addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"': ").concat(e.C)),e.V&&console.assert("string"===typeof e.V,"TSV addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"': ").concat(e.V)),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"TSV addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"TSV addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"TSV addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"TSV addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),e.debugChain&&(e.debugChain="checkTN_TSVText ".concat(e.debugChain)),m.noticeList.push(g(g({},e),{},{bookID:n,filename:r}))},y=function(e){m.successList.push(e)},console.assert(void 0!==t,"checkTN_TSVText: 'languageCode' parameter should be defined"),console.assert("string"===typeof t,"checkTN_TSVText: 'languageCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkTN_TSVText: 'bookID' parameter should be defined"),console.assert("string"===typeof n,"checkTN_TSVText: 'bookID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(3===n.length,"checkTN_TSVText: 'bookID' parameter should be three characters long not ".concat(n.length)),console.assert(n.toUpperCase()===n,"checkTN_TSVText: 'bookID' parameter should be UPPERCASE not '".concat(n,"'")),console.assert(l.isValidBookID(n),"checkTN_TSVText: '".concat(n,"' is not a valid USFM book identifier")),console.assert(void 0!==i,"checkTN_TSVText: 'givenLocation' parameter should be defined"),console.assert("string"===typeof i,"checkTN_TSVText: 'givenLocation' parameter should be a string not a '".concat(typeof i,"'")),console.assert(void 0!==s,"checkTN_TSVText: 'checkingOptions' parameter should be defined"),(h=i)&&" "!==h[0]&&(h=" ".concat(h)),m={successList:[],noticeList:[]};try{x=null===s||void 0===s?void 0:s.extractLength}catch(o){}("number"!==typeof x||isNaN(x))&&(x=u.DEFAULT_EXTRACT_LENGTH),k=n.toLowerCase(),T=0;try{console.assert("obs"!==k,"Shouldn\u2019t happen in tn_table-text-check"),T=l.chaptersInBook(k).length}catch(ae){l.isValidBookID(n)||v({priority:747,message:"Bad function call: should be given a valid book abbreviation",extract:n,location:" (not '".concat(n,"')").concat(h)})}w=a.split("\n"),C="",O="",N="",S=[],I=[],L=0,F=0;case 25:if(!(F<w.length)){e.next=58;break}if(0!==F){e.next=30;break}w[0]===b?y("Checked TSV header ".concat(h)):v({priority:746,message:"Bad TSV header",lineNumber:F+1,location:"".concat(h,": '").concat(w[0],"'")}),e.next=55;break;case 30:if(9!==(D=w[F].split("\t")).length){e.next=54;break}return j=(0,c.default)(D,9),P=j[0],A=j[1],E=j[2],R=j[3],M=j[4],U=j[5],_=j[6],j[7],j[8],e.next=35,(0,d.checkTN_TSVDataRow)(t,w[F],n,A,E,h,s);case 35:V=e.sent,B=p(V.noticeList);try{for(B.s();!(z=B.n()).done;)(W=z.value).extra?m.noticeList.push(W):v(g(g({},W),{},{lineNumber:F+1}))}catch(oe){B.e(oe)}finally{B.f()}if(V.checkedFileCount&&V.checkedFileCount>0&&("number"===typeof m.checkedFileCount?m.checkedFileCount+=V.checkedFileCount:m.checkedFileCount=V.checkedFileCount),V.checkedFilesizes&&V.checkedFilesizes>0&&("number"===typeof m.checkedFilesizes?m.checkedFilesizes+=V.checkedFilesizes:m.checkedFilesizes=V.checkedFilesizes),V.checkedRepoNames&&V.checkedRepoNames.length>0){Q=p(V.checkedRepoNames);try{for(Q.s();!(G=Q.n()).done;){J=G.value;try{m.checkedRepoNames.indexOf(J)<0&&m.checkedRepoNames.push(J)}catch(ce){m.checkedRepoNames=[J]}}}catch(oe){Q.e(oe)}finally{Q.f()}}if(V.checkedFilenameExtensions&&V.checkedFilenameExtensions.length>0){H=p(V.checkedFilenameExtensions);try{for(H.s();!(q=H.n()).done;){$=q.value;try{m.checkedFilenameExtensions.indexOf($)<0&&m.checkedFilenameExtensions.push($)}catch(ie){m.checkedFilenameExtensions=[$]}}}catch(oe){H.e(oe)}finally{H.f()}}P===C&&A===O&&E===N||(S=[],I=[]),Z=A+E+M+U+_,I.push(Z),P?P!==n&&v({priority:745,C:A,V:E,message:"Wrong '".concat(P,"' book identifier (expected '").concat(n,"')"),rowID:R,lineNumber:F+1,location:h}):v({priority:744,C:A,V:E,message:"Missing book identifier",rowID:R,lineNumber:F+1,location:h}),A?"front"===A||(/^\d+$/.test(A)?(Y=Number(A),A!==O&&(L=l.versesInChapter(k,Y)),0===Y&&v({priority:551,C:A,V:E,message:"Invalid zero chapter number",rowID:R,lineNumber:F+1,extract:A,location:h}),Y>T&&v({priority:737,C:A,V:E,message:"Invalid large chapter number",rowID:R,lineNumber:F+1,extract:A,location:h}),/^\d+$/.test(O)&&(K=Number(O),Y<K?v({priority:736,C:A,V:E,message:"Receding chapter number",details:"'".concat(A,"' after '").concat(O,"'"),rowID:R,lineNumber:F+1,location:h}):Y>K+1&&v({priority:735,C:A,V:E,message:"Advancing chapter number",details:"'".concat(A,"' after '").concat(O,"'").rowID,lineNumber:F+1,location:h}))):v({priority:734,C:A,V:E,message:"Bad chapter number",rowID:R,lineNumber:F+1,location:h})):v({priority:739,C:A,V:E,message:"Missing chapter number",rowID:R,lineNumber:F+1,location:" after ".concat(O,":").concat(E).concat(h)}),E?"intro"===E||(/^\d+$/.test(E)?(0===(X=Number(E))&&v({priority:552,C:A,V:E,message:"Invalid zero verse number",details:"for chapter ".concat(A),rowID:R,lineNumber:F+1,extract:E,location:h}),X>L&&v({priority:734,C:A,V:E,message:"Invalid large verse number",details:"for chapter ".concat(A),rowID:R,lineNumber:F+1,extract:E,location:h}),/^\d+$/.test(N)&&(ee=Number(N),A===O&&X<ee&&v({priority:733,C:A,V:E,message:"Receding verse number",details:"'".concat(E,"' after '").concat(N," for chapter ").concat(A),rowID:R,lineNumber:F+1,extract:E,location:h}))):v({priority:738,C:A,V:E,message:"Bad verse number",rowID:R,lineNumber:F+1,location:h})):v({priority:790,C:A,V:E,message:"Missing verse number",rowID:R,lineNumber:F+1,location:" after ".concat(A,":").concat(N).concat(h)}),R?S.includes(R)&&v({priority:729,C:A,V:E,message:"Duplicate '".concat(R,"' ID"),fieldName:"ID",rowID:R,lineNumber:F+1,location:h}):v({priority:730,C:A,V:E,message:"Missing ID",fieldName:"ID",lineNumber:F+1,location:h}),C=P,O=A,N=E,e.next=55;break;case 54:if(F!==w.length-1){te="?",ne="?",re="????";try{te=D[1]}catch(se){}try{ne=D[2]}catch(le){}try{re=D[3]}catch(ue){}v({priority:988,message:"Wrong number of tabbed fields (expected ".concat(9,")"),extract:"Found ".concat(D.length," field").concat(1===D.length?"":"s"),C:te,V:ne,rowID:re,lineNumber:F+1,location:h})}case 55:F++,e.next=25;break;case 58:return null!==s&&void 0!==s&&s.suppressNoticeDisablingFlag||(m.noticeList=(0,f.removeDisabledNotices)(m.noticeList)),(null===s||void 0===s||!s.cutoffPriorityLevel||(null===s||void 0===s?void 0:s.cutoffPriorityLevel)<20)&&null!==s&&void 0!==s&&s.disableAllLinkFetchingFlag&&v({priority:20,message:"Note that 'disableAllLinkFetchingFlag' was set so link targets were not checked",location:h}),y("Checked all ".concat((w.length-1).toLocaleString()," data line").concat(w.length-1===1?"":"s").concat(h,".")),m.noticeList?y("checkTN_TSVText v".concat("0.3.0"," finished with ").concat(m.noticeList.length?m.noticeList.length.toLocaleString():"zero"," notice").concat(1===m.noticeList.length?"":"s")):y("No errors or warnings found by checkTN_TSVText v".concat("0.3.0")),e.abrupt("return",m);case 63:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},522:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.checkUSFMText=function(e,t,n,r,a,o,m){console.assert(void 0!==e,"checkUSFMText: 'languageCode' parameter should be defined"),console.assert("string"===typeof e,"checkUSFMText: 'languageCode' parameter should be a string not a '".concat(typeof e,"'")),console.assert(void 0!==t,"checkUSFMText: 'repoCode' parameter should be defined"),console.assert("string"===typeof t,"checkUSFMText: 'repoCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"checkUSFMText: 'bookID' parameter should be defined"),console.assert("string"===typeof n,"checkUSFMText: 'bookID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(3===n.length,"checkUSFMText: 'bookID' parameter should be three characters long not ".concat(n.length)),console.assert(n.toUpperCase()===n,"checkUSFMText: 'bookID' parameter should be UPPERCASE not '".concat(n,"'")),console.assert("OBS"===n||i.isValidBookID(n),"checkUSFMText: '".concat(n,"' is not a valid USFM book identifier")),console.assert(void 0!==r,"checkUSFMText: 'filename' parameter should be defined"),console.assert("string"===typeof r,"checkUSFMText: 'filename' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==o,"checkUSFMText: 'givenRowLocation' parameter should be defined"),console.assert("string"===typeof o,"checkUSFMText: 'givenRowLocation' parameter should be a string not a '".concat(typeof o,"'")),console.assert(void 0!==m,"checkUSFMText: 'checkingOptions' parameter should be defined");var g,T=o;T&&" "!==T[0]&&(T=" ".concat(T));try{g=null===m||void 0===m?void 0:m.extractLength}catch(B){}("number"!==typeof g||isNaN(g))&&(g=c.DEFAULT_EXTRACT_LENGTH);var w=Math.floor(g/2),C=Math.floor((g+1)/2),N=n.toLowerCase(),S="([\u201c\u2018";"ST"===t&&(S+="{");var I={successList:[],noticeList:[]};function P(e){I.successList.push(e)}function A(e){console.assert(void 0!==e.priority,"cUSFM addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cUSFM addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"': ").concat(e.priority)),console.assert(void 0!==e.message,"cUSFM addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cUSFM addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"': ").concat(e.message)),e.C&&console.assert("string"===typeof e.C,"cUSFM addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"': ").concat(e.C)),e.V&&console.assert("string"===typeof e.V,"cUSFM addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"': ").concat(e.V)),void 0!==e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cUSFM addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"': ").concat(e.characterIndex)),e.extract&&console.assert("string"===typeof e.extract,"cUSFM addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"': ").concat(e.extract)),console.assert(void 0!==e.location,"cUSFM addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cUSFM addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"': ").concat(e.location)),console.assert(e.message.indexOf("Mismatched {}")<0||void 0===e.lineNumber,"checkUSFMText addNoticePartial: got bad notice: ".concat(JSON.stringify(e))),e.debugChain&&(e.debugChain="checkUSFMText ".concat(e.debugChain)),I.noticeList.push(b(b({},e),{},{bookID:n,filename:r}))}function M(e,t,n,r,a,o,c,i,l){console.assert(void 0!==e,"cUSFM ourCheckTextField: 'lineNumber' parameter should be defined"),console.assert("number"===typeof e,"cUSFM ourCheckTextField: 'lineNumber' parameter should be a number not a '".concat(typeof e,"'")),console.assert(void 0!==t,"cUSFM ourCheckTextField: 'C' parameter should be defined"),console.assert("string"===typeof t,"cUSFM ourCheckTextField: 'C' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cUSFM ourCheckTextField: 'V' parameter should be defined"),console.assert("string"===typeof n,"cUSFM ourCheckTextField: 'V' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"cUSFM ourCheckTextField: 'fieldType' parameter should be defined"),console.assert("string"===typeof r,"cUSFM ourCheckTextField: 'fieldType' parameter should be a string not a '".concat(typeof r,"'")),console.assert("USFM"===r||"raw"===r,"cUSFM ourCheckTextField: Unrecognized 'fieldType' parameter: ".concat(r)),console.assert(void 0!==a,"cUSFM ourCheckTextField: 'fieldName' parameter should be defined"),console.assert("string"===typeof a,"cUSFM ourCheckTextField: 'fieldName' parameter should be a string not a '".concat(typeof a,"'")),console.assert(""!==a,"cUSFM ourCheckTextField: ".concat(r," 'fieldName' parameter should be not be an empty string")),console.assert(void 0!==o,"cUSFM ourCheckTextField: 'fieldText' parameter should be defined"),console.assert("string"===typeof o,"cUSFM ourCheckTextField: 'fieldText' parameter should be a string not a '".concat(typeof o,"'")),console.assert(!0===c||!1===c,"cUSFM ourCheckTextField: allowedLinks parameter must be either true or false"),console.assert(void 0!==i,"cUSFM ourCheckTextField: 'fieldLocation' parameter should be defined"),console.assert("string"===typeof i,"cUSFM ourCheckTextField: 'fieldLocation' parameter should be a string not a '".concat(typeof i,"'"));var u,d=h((0,s.checkTextField)(r,a,o,c,i,l).noticeList);try{for(d.s();!(u=d.n()).done;){var f=u.value;console.assert(Object.keys(f).length>=4,"USFM ourCheckTextField notice length=".concat(Object.keys(f).length)),A(b(b({},f),{},{lineNumber:e,C:t,V:n}))}}catch(p){d.e(p)}finally{d.f()}}function U(t,r,a,o,s){!function(e,t,n){var r,a=h(R);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o[0],s=o[1],l=(0,c.countOccurrences)(t,i),u=(0,c.countOccurrences)(t,s);l!==u&&A({priority:873,message:"Mismatched ".concat(i).concat(s," fields"),extract:"(left=".concat(l.toLocaleString(),", right=").concat(u.toLocaleString(),")"),location:n})}}catch(d){a.e(d)}finally{a.f()}}(0,r,o),function(t,n,r,a){console.assert(void 0!==t,"cUSFM ourBasicFileChecks: 'filename' parameter should be defined"),console.assert("string"===typeof t,"cUSFM ourBasicFileChecks: 'filename' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"cUSFM ourBasicFileChecks: 'fileText' parameter should be defined"),console.assert("string"===typeof n,"cUSFM ourBasicFileChecks: 'fileText' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==a,"cUSFM ourBasicFileChecks: 'checkingOptions' parameter should be defined");var o,c=h((0,l.checkTextfileContents)(e,"USFM",t,n,r,a).noticeList);try{for(c.s();!(o=c.n()).done;){var i=o.value;console.assert(Object.keys(i).length>=5,"USFM ourBasicFileChecks notice length=".concat(Object.keys(i).length)),A(i)}}catch(s){c.e(s)}finally{c.f()}}(t,r,o,s);var u,d=h(y);try{for(d.s();!(u=d.n()).done;){var f=u.value;a.has(f)||A({priority:819,message:"Missing compulsory USFM line",extract:"missing \\".concat(f),location:o})}}catch(F){d.e(F)}finally{d.f()}var p,m=h(v);try{for(m.s();!(p=m.n()).done;){var g=p.value;a.has(g)||g.endsWith("1")&&a.has(g.substring(0,g.length-1))||A({priority:519,message:"Missing expected USFM line",extract:"missing \\".concat(g),location:o})}}catch(F){m.e(F)}finally{m.f()}if(i.isExtraBookID(n)){var b,T=h(k);try{for(T.s();!(b=T.n()).done;){var w=b.value;if(a.has(w)){var C,O=h(x);try{for(O.s();!(C=O.n()).done;){var N=C.value;a.has(N)||A({priority:518,message:"Missing expected USFM line",extract:"missing \\".concat(N),location:o})}}catch(F){O.e(F)}finally{O.f()}}else A({priority:517,message:"Missing expected USFM line",extract:"missing \\".concat(w),location:o})}}catch(F){T.e(F)}finally{T.f()}}var S,I=h(D);try{for(I.s();!(S=I.n()).done;){var L=S.value;a.has(L)&&A({priority:218,message:"Using deprecated USFM marker",extract:"\\".concat(L),location:o})}}catch(F){I.e(F)}finally{I.f()}}function _(t,r,a,o,i,s,l){F.indexOf(o)>=0||"SPECIAL1"===o?i&&L.indexOf(o)>=0&&((0,c.isWhitespace)(i)?A({priority:301,message:"Unexpected whitespace after \\".concat(o," marker"),C:r,V:a,lineNumber:t,characterIndex:o.length,extract:i,location:s}):"\u05e1"!==i&&"\u05e4"!==i?A({priority:401,message:"Unexpected content after \\".concat(o," marker"),C:r,V:a,lineNumber:t,characterIndex:o.length,extract:i,location:s}):j.indexOf(o)>=0&&!i&&A({priority:711,message:"Expected compulsory content",C:r,V:a,lineNumber:t,characterIndex:o.length,location:" after \\".concat(o," marker").concat(s)})):A({priority:"s5"===o?111:809,message:"".concat("s5"===o?"Deprecated":"Unexpected"," '\\").concat(o,"' marker at start of line"),C:r,V:a,lineNumber:t,characterIndex:1,location:s}),i&&function(t,r,a,o,i,s,l){if("c"===o&&isNaN(i)&&A({priority:822,message:"Expected field to contain an integer",lineNumber:t,characterIndex:3,extract:"\\c ".concat(i),C:r,V:a,location:s}),"v"===o){var u=i?i.split(" ",1)[0]:"?";isNaN(u)&&u.indexOf("-")<0&&A({priority:822,message:"Expected field to contain an integer",characterIndex:3,extract:"\\v ".concat(i),C:r,V:a,location:s})}else"h"!==o&&"toc1"!==o&&"toc2"!==o&&"toc3"!==o||i.toLowerCase()!==i&&i.toUpperCase()!==i||A({priority:"en"===e||"fr"===e?490:190,message:"Expected header field to contain a mixed-case string",fieldName:"\\".concat(o),extract:i,C:r,V:a,location:s});i&&function(t,r,a,o,i,s,l){var u,d,f,p,m,g="(line marker=\\".concat(o,")"),b=i.replace(/\\zaln-e\\\*/g,"").replace(/\\ts\\\*/g,"").replace(/\\k-e\\\*/g,"").replace(/\\v /g,"").replace(/\\k-s[^\\]+\\\*/g,""),y=h(E);try{for(y.s();!(u=y.n()).done;){var v=u.value;b=(0,c.ourDeleteAll)(b,"\\".concat(v," ")),b=(0,c.ourDeleteAll)(b,"\\".concat(v,"*"))}}catch(F){y.e(F)}finally{y.f()}if("w"===o){var x=b.indexOf("|");if(x<0&&b.indexOf('lemma="')>=0){A({priority:912,message:"Missing | character in \\w line",lineNumber:t,C:r,V:a,characterIndex:5,extract:(5>w?"\u2026":"")+b.substring(5-w,5+C).replace(/ /g,"\u2423")+(5+C<b.length?"\u2026":""),location:s})}console.assert(x>=1,"Why1 is w| = ".concat(x,"? ").concat(e," ").concat(n," ").concat(r,":").concat(a," ").concat(t," '\\").concat(o,"'")),(d=b.indexOf("\\w*"))>=0?b=b.substring(0,x)+b.substring(d+3,b.length):console.assert(!1,"Why is ixEnd = ".concat(d,"? ").concat(e," ").concat(n," ").concat(r,":").concat(a," ").concat(t," '\\").concat(o,"'"))}else if("zaln-s"===o)(d=b.indexOf("\\*"))>=0?b=b.substring(d+2,b.length):console.assert(!1,"Why is ixEnd = ".concat(d,"? ").concat(e," ").concat(n," ").concat(r,":").concat(a," ").concat(t," '\\").concat(o,"'"));else if("k-s"===o)(d=b.indexOf("\\*"))>=0?b=b.substring(d+2,b.length):console.assert(!1,"Why is ixEnd = ".concat(d,"? ").concat(e," ").concat(n," ").concat(r,":").concat(a," ").concat(t," '\\").concat(o,"'"));else if("f"===o){d=b.indexOf("\\f*");var k=b.startsWith("+ ")?2:0;d>=0?b=b.substring(k,d)+b.substring(d+3,b.length):A({priority:312,message:"Possible unclosed footnote",details:g,lineNumber:t,C:r,V:a,location:s})}else"va"===o?b=b.replace("\\va*",""):"ca"===o&&(b=b.replace("\\ca*",""));for(;(f=b.indexOf("\\zaln-s "))>=0;){var T=b.indexOf("\\*");if(!(T>=0)){console.log("\\zaln-s seems unclosed: 'adjustedRest' from '".concat(i,"'"));break}b=b.substring(0,f)+b.substring(T+2,b.length)}for(;(p=b.indexOf("\\w "))>=0;){var O=b.indexOf("|");if(O<0&&b.indexOf('lemma="')>=0){var N=p+5;A({priority:911,message:"Missing | character in \\w field",details:g,lineNumber:t,C:r,V:a,characterIndex:N,extract:(N>w?"\u2026":"")+b.substring(N-w,N+C).replace(/ /g,"\u2423")+(N+C<b.length?"\u2026":""),location:s}),b="";break}console.assert(O>p+3,"Why2 is w| = ".concat(O,"? nextWIndex=").concat(p," ").concat(e," ").concat(n," ").concat(r,":").concat(a," ").concat(t));var S=b.indexOf("\\w*");if(!(S>=0)){console.log("\\w seems unclosed: 'adjustedRest' from '".concat(i,"'"));break}console.assert(S>p,"Exected closure at ".concat(S," to be AFTER \\w (").concat(p,")")),b=b.substring(0,p)+b.substring(p+3,O)+b.substring(S+3,b.length)}for(;(m=b.indexOf("\\f + "))>=0;){var I=b.indexOf("\\f*");if(!(I>=0)){console.log("\\f seems unclosed: 'adjustedRest' from '".concat(i,"'"));break}console.assert(I>p,"Exected closure at ".concat(I," to be AFTER \\w (").concat(m,")")),b=b.substring(0,m)+b.substring(m+5,I)+b.substring(I+3,b.length)}if(b){var L;if((L=b.indexOf('"'))>=0)A({priority:776,message:'Unexpected " straight quote character',details:g,lineNumber:t,C:r,V:a,extract:(L>w?"\u2026":"")+b.substring(L-w,L+C).replace(/ /g,"\u2423")+(L+C<b.length?"\u2026":""),location:s});if((L=b.indexOf("'"))>=0)A({priority:775,message:"Unexpected ' straight quote character",details:g,lineNumber:t,C:r,V:a,extract:(L>w?"\u2026":"")+b.substring(L-w,L+C).replace(/ /g,"\u2423")+(L+C<b.length?"\u2026":""),location:s});if(b.indexOf("\\")>=0||b.indexOf("|")>=0)-1===(L=b.indexOf("\\"))&&(L=b.indexOf("|")),A({priority:875,message:"Unexpected USFM field",details:g,lineNumber:t,C:r,V:a,extract:(L>w?"\u2026":"")+b.substring(L-w,L+C).replace(/ /g,"\u2423")+(L+C<b.length?"\u2026":""),location:s});b!==i&&M(t,r,a,"raw","from \\".concat(o),b,!1,s,l)}}(t,r,a,o,i,s,l);var d=("w"===o||"k-s"===o||"f"===o||"SPECIAL1"===o)&&i.indexOf("x-tw")>=0;i&&M(t,r,a,"USFM","\\".concat(o),i,d,s,l)}(t,r,a,o,i,s,l)}var V=[];V.push(function(e,t,n,r){var a=r;a&&" "!==a[0]&&(a=" ".concat(a));try{console.assert("obs"!==N,"Shouldn\u2019t happen in usfm-text-check2"),i.chaptersInBook(N).length}catch(H){i.isValidBookID(e)||A({priority:903,message:"Bad function call: should be given a valid book abbreviation",extract:e,location:" (not '".concat(e,"')").concat(a)})}function o(e,t,n,r){console.assert(r&&"\\"===r[0],"Programming error in findStartMarker(".concat(e,":").concat(t,", ").concat(n,", ").concat(r,")"));for(var o="",c=1;c<r.length;c++){var i=r[c];if(" "===i)break;if("\\"===i&&(c===r.length-1||"*"!==r[c+1])){A({priority:603,message:"USFM marker doesn\u2019t end with space",C:e,V:t,lineNumber:n,characterIndex:c,extract:r.substring(0,g)+(r.length>g?"\u2026":""),location:a});break}if(o+=i,"*"===i)break}return o}for(var c=n.split("\n"),s="",l="",u="0",d="0",p=0,h=0,b="",y="",v=new Set,x=1;x<=c.length;x++){var k=c[x-1];if("0"===u&&(d=x.toString()),k){var T;if((T=k.indexOf("\r"))>=0){var I=T+w,L=(I>w?"\u2026":"")+k.substring(I-w,I+C).replace(/ /g,"\u2423")+(I+C<k.length?"\u2026":"");A({priority:703,C:u,V:d,message:"Unexpected CarriageReturn character",lineNumber:x,characterIndex:T,extract:L,location:a})}var F=void 0,D=void 0;"\\"===k[0]?(F=o(u,d,x,k),D=k.substring(F.length+2)):(D=k,S.indexOf(k[0])<0?(A({priority:'"'.indexOf(k[0])<0?880:280,C:u,V:d,message:"Expected line to start with backslash",lineNumber:x,characterIndex:0,extract:k[0],location:a}),"\\"===k[1]?(F=k.substring(2).split(" ",1)[0],D=k.substring(F.length+2+1)):F="rem"):F="SPECIAL1"),v.add(F);var j=void 0,E=void 0,R=void 0;if("c"===F){u=D,d="0";try{j=(0,f.ourParseInt)(u)}catch(q){A({priority:724,C:u,V:d,message:"Unable to convert chapter number to integer",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,w)).concat(D.length>w?"\u2026":""),location:a}),j=-999}(u===s||j>0&&j!==p+1)&&A({priority:764,C:u,V:d,message:"Chapter number didn\u2019t increment correctly",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,w)).concat(D.length>w?"\u2026":""," (").concat(s||"0"," \u2192 ").concat(u,")"),location:a}),s=u,l="0",p=j,h=0}else if("v"===F)if((d=D?D.split(" ",1)[0]:"?").indexOf("-")<0){try{E=(0,f.ourParseInt)(d)}catch($){A({priority:723,C:u,V:d,message:"Unable to convert verse number to integer",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,w)).concat(D.length>w?"\u2026":""),location:a}),E=-999}(d===l||E>0&&E!==h+1)&&A({priority:763,C:u,V:d,message:"Verse number didn\u2019t increment correctly",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,w)).concat(D.length>w?"\u2026":""," (").concat(l||"0"," \u2192 ").concat(d,")"),location:a}),l=d,h=E}else{var M=d.split("-"),V=M[0],B=M[1],z=void 0,W=void 0;try{z=(0,f.ourParseInt)(V),W=(0,f.ourParseInt)(B)}catch(Z){A({priority:762,C:u,V:d,message:"Unable to convert verse bridge numbers to integers",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,Math.max(9,g))).concat(D.length>g?"\u2026":""),location:a}),z=-999,W=-998}W<=z?A({priority:769,C:u,V:d,message:"Verse bridge numbers not in ascending order",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,Math.max(9,g))).concat(D.length>g?"\u2026":""," (").concat(V," \u2192 ").concat(B,")"),location:a}):(V===l||z>0&&z!==h+1)&&A({priority:766,C:u,V:d,message:"Bridged verse numbers didn\u2019t increment correctly",lineNumber:x,characterIndex:3,extract:"".concat(D.substring(0,Math.max(9,g))).concat(D.length>g?"\u2026":""," (").concat(l," \u2192 ").concat(V,")"),location:a}),l=B,h=W}else if((R=D.indexOf("\\v "))>=0){var Q=D.substring(R+3);try{E=parseInt(Q)}catch(Y){A({priority:720,C:u,V:d,message:"Unable to convert internal verse number to integer",lineNumber:x,characterIndex:3,extract:"".concat(Q.substring(0,w)).concat(Q.length>w?"\u2026":""),location:a}),E=-999}E>0&&E!==h+1&&A({priority:761,C:u,V:d,message:"Verse number didn\u2019t increment correctly",lineNumber:x,characterIndex:3,extract:"".concat(Q.substring(0,w)).concat(Q.length>w?"\u2026":""," (").concat(l||"0"," \u2192 ").concat(d,")"),location:a}),l=E.toString(),h=E}if("id"===F&&!D.startsWith(e)){var G=Math.max(4,g),J="".concat(D.substring(0,G)).concat(D.length>G?"\u2026":"");A({priority:987,C:u,V:d,message:"Expected \\id line to start with book identifier",lineNumber:x,characterIndex:4,extract:J,location:a})}"toc2"===F&&"toc1"!==b?A({priority:87,C:u,V:d,message:"Expected \\toc2 line to follow \\toc1",lineNumber:x,characterIndex:1,details:"not '\\".concat(b,"'"),location:a}):"toc3"===F&&"toc2"!==b?A({priority:87,C:u,V:d,message:"Expected \\toc3 line to follow \\toc2",lineNumber:x,characterIndex:1,details:"not '\\".concat(b,"'"),location:a}):(O.indexOf(F)>=0||"s5"===F||"ts\\*"===F)&&O.indexOf(b)>=0&&!y?A({priority:399,C:u,V:d,message:"Useless paragraph marker",lineNumber:x,characterIndex:1,details:"'\\".concat(b,"' before '\\").concat(F,"'"),location:a}):["c","ca","cl"].indexOf(b)>0&&"v"===F&&A({priority:"1"===u?657:457,C:u,V:d,message:"Paragraph marker expected before first verse",lineNumber:x,characterIndex:1,details:"'\\".concat(F,"' after '\\").concat(b,"'"),location:a}),_(x,u,d,F,D,a,m),b=F,y=D}}U(t,n,v,a,m),P("Checked all ".concat(c.length.toLocaleString()," line").concat(1===c.length?"":"s"," for ").concat(e).concat(a))}(n,r,a,T)),V.push(function(e,t,n){var r,a;function o(t){var n,o=!1,c=h(t);try{for(c.s();!(n=c.n()).done;){var i=n.value;if("text"===i.type&&i.text.length>4)return!0;if("word"===i.type&&i.text.length>2)return!0;if("milestone"===i.type){var s,l=h(i.children);try{for(l.s();!(s=l.n()).done;){var u=s.value;if("text"===u.type&&u.text.length>4)return!0;if("word"===u.type&&u.text.length>2)return!0;if("milestone"===u.type){var d,f=h(u.children);try{for(f.s();!(d=f.n()).done;){var p=d.value;if("text"===p.type&&p.text.length>4)return!0;if("word"===p.type&&p.text.length>2)return!0;if("milestone"===p.type){var m,g=h(p.children);try{for(g.s();!(m=g.n()).done;){var b=m.value;if("text"===b.type&&b.text.length>4)return!0;if("word"===b.type&&b.text.length>2)return!0;if("milestone"===b.type){var y,v=h(b.children);try{for(v.s();!(y=v.n()).done;){var x=y.value;if("text"===x.type&&x.text.length>4)return!0;if("word"===x.type&&x.text.length>2)return!0;if("milestone"===x.type){var k,T=h(x.children);try{for(T.s();!(k=T.n()).done;){var w=k.value;if("text"===w.type&&w.text.length>4)return!0;if("word"===w.type&&w.text.length>2)return!0;if("milestone"===w.type){var C,O=h(w.children);try{for(O.s();!(C=O.n()).done;){var N=C.value;if("text"===N.type&&N.text.length>4)return!0;if("word"===N.type&&N.text.length>2)return!0;if("milestone"===N.type){var S,I=h(N.children);try{for(I.s();!(S=I.n()).done;){var L=S.value;if("text"===L.type&&L.text.length>4)return!0;if("word"===L.type&&L.text.length>2)return!0;if("milestone"===L.type){var F,D=h(L.children);try{for(D.s();!(F=D.n()).done;){var j=F.value;if("text"===j.type&&j.text.length>4)return!0;if("word"===j.type&&j.text.length>2)return!0;if("milestone"===j.type){var P,A=h(j.children);try{for(A.s();!(P=A.n()).done;){var E=P.value;if("text"===E.type&&E.text.length>4)return!0;if("word"===E.type&&E.text.length>2)return!0;if("milestone"===E.type){var R,M=h(E.children);try{for(M.s();!(R=M.n()).done;){var U=R.value;if("text"===U.type&&U.text.length>4)return!0;if("word"===U.type&&U.text.length>2)return!0;if("milestone"===U.type){var _,V=h(U.children);try{for(V.s();!(_=V.n()).done;){var B=_.value;if("text"===B.type&&B.text.length>4)return!0;if("word"===B.type&&B.text.length>2)return!0;"milestone"===B.type&&(o=!0)}}catch(z){V.e(z)}finally{V.f()}}}}catch(z){M.e(z)}finally{M.f()}}}}catch(z){A.e(z)}finally{A.f()}}}}catch(z){D.e(z)}finally{D.f()}}}}catch(z){I.e(z)}finally{I.f()}}}}catch(z){O.e(z)}finally{O.f()}}}}catch(z){T.e(z)}finally{T.f()}}}}catch(z){v.e(z)}finally{v.f()}}}}catch(z){g.e(z)}finally{g.f()}}}}catch(z){f.e(z)}finally{f.f()}}}}catch(z){l.e(z)}finally{l.f()}}}}catch(z){c.e(z)}finally{c.f()}return o&&console.assert(!1,"We need to add more depth levels to hasText() for ".concat(e," ").concat(r,":").concat(a)),!1}var c=[];try{console.assert("obs"!==N,"Shouldn\u2019t happen in usfm-text-check1"),c=i.chaptersInBook(N)}catch(C){}var s=(0,u.runUsfmJsCheck)(t);for(r in s.returnedJSON.chapters){var l=void 0;try{l=(0,f.ourParseInt)(r)}catch(O){console.log("CVCheck couldn\u2019t convert ".concat(e," chapter '").concat(r,"': ").concat(O))}if(l<1||l>c.length)A({priority:869,message:"Chapter number out of range",C:r,extract:"".concat(e," ").concat(r),location:n});else{var d=[],p=[];for(a in s.returnedJSON.chapters[r])if("front"!==a){var m=o(s.returnedJSON.chapters[r][a].verseObjects);if(a.indexOf("-")>=0){var g=a.split("-"),b=g[0],y=g[1],v=void 0,x=void 0;try{v=(0,f.ourParseInt)(b),x=(0,f.ourParseInt)(y);for(var k=v;k<=x;k++)d.push(k),m&&p.push(k)}catch(S){A({priority:762,message:"Unable to convert verse bridge numbers to integers",C:r,V:a,characterIndex:3,extract:a,location:"".concat(n," with ").concat(S)})}}else{var T=void 0;try{T=(0,f.ourParseInt)(a),d.push(T)}catch(I){console.log("We couldn\u2019t convert ".concat(e," ").concat(r," verse '").concat(a,"': ").concat(I))}(T<1||T>c[l-1])&&A({priority:868,message:"Verse number out of range",C:r,V:a,extract:"".concat(e," ").concat(r,":").concat(a),location:n}),m&&p.push(T)}}for(var w=1;w<=c[l-1];w++)d.includes(w)||(i.isOftenMissing(e,l,w)?A({priority:67,C:r,V:"".concat(w),message:"Verse appears to be left out",location:n}):A({priority:867,C:r,V:"".concat(w),message:"Verse appears to be missing",location:n})),p.includes(w)||A({priority:866,C:r,V:"".concat(w),message:"Verse seems to have no text",location:n})}}P("Checked CV patterns for ".concat(e).concat(n))}(n,a,T)),i.isExtraBookID(n)||V.push(function(e,t,n){var r=(0,d.runBCSGrammarCheck)("strict",t,e,n,m);P("Checked USFM Grammar (strict mode) ".concat(r.isValidUSFM?"without errors":" (but the USFM DIDN\u2019T validate)")),r.error&&r.error.priority&&(!r.error.extract||r.error.extract.indexOf('mma="" ')<0&&r.error.message.indexOf('Expected "c", "v", ')<0&&r.error.message.indexOf('Expected "f*", "+", ')<0)&&A(r.error);var a,o=h(r.warnings);try{for(o.s();!(a=o.n()).done;){var c=a.value;c.startsWith("Empty lines present")||c.startsWith("Trailing spaces present at line end")||A({priority:102,message:"USFMGrammar: ".concat(c),location:n})}}catch(s){o.e(s)}finally{o.f()}if(!r.isValidUSFM){var i=(0,d.runBCSGrammarCheck)("relaxed",t,e,n);P("Checked USFM Grammar (relaxed mode) ".concat(i.isValidUSFM?"without errors":" (but the USFM DIDN\u2019T validate)")),i.isValidUSFM||A({priority:644,message:"USFM3 Grammar Check (relaxed mode) doesn\u2019t pass either",location:n})}}(r,a,T));null!==m&&void 0!==m&&m.suppressNoticeDisablingFlag||(I.noticeList=(0,p.removeDisabledNotices)(I.noticeList));return I};var o=a(n(25)),c=n(57),i=r(n(78)),s=n(116),l=n(194),u=n(523),d=n(528),f=n(190),p=n(117);function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=["id","ide"],v=["usfm","mt1"],x=["h","toc1","toc2","toc3"],k=["periph"],T=["id","usfm","ide","h","toc1","toc2","toc3","mt","mt1","mt2","mte","mte1","mte2","imt","imt1","imt2","is","is1","is2","ip","ipi","im","imi","ipq","imq","ipr","iq","iq1","iq2","ili","ili1","ili2","iot","io","io1","io2","iex","imte","imte1","imte2"],w=["c","v","ca","va"],C=["s","s1","s2","s3","s4","sr","ms","ms1","mr","r","d","rem","sp","qs","cl","sd","sd1","sd2","pr","qa","qc","qd","qr","cls","pmo","pmc","pmr","pc","periph"],O=["p","q","q1","q2","q3","q4","qm","qm1","qm2","qm3","qm4","m","mi","pi","pi1","pi2","pi3","pi4","li","li1","li2","li3","li4","lim","lim1","lim2","lim3","lim4","lh","lf","po","pm","ph","ph1","ph2","ph3","ph4","tr"],N=["f","x"],S=["w","zaln-s","k-s","qt-s","qt1-s","qt2-s","lit"],I=["ts\\*","ts-s","ts-e","k-e\\*"],L=["b","nb","ib","ie"].concat(I),F=[].concat(T).concat(C).concat(w).concat(O).concat(N).concat(S).concat(L).concat(I),D=["h1","h2","h3","h4","pr","ph","ph1","ph2","ph3","ph4","addpn","pro","fdc","xdc"],j=[].concat(T).concat(C).concat(w).concat(N).concat(S),P=["add","bk","dc","k","nd","ord","pn","png","addpn","qt","sig","sls","tl","wj","ior","iqt","em","bd","it","bdit","no","sc","sup","ndx","rb","pro","wg","wh","wa","litl","lik","liv","liv1","liv2","liv3","liv4"],A=["fig","w"].concat(P),E=[P].concat().concat(["fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xt"]).concat(["xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq"]),R=(["d"].concat(O).concat(A),[].concat(T).concat(C).concat(O).concat(A).concat(N).concat(S),[["\\add ","\\add*"],["\\addpn ","\\addpn*"],["\\bd ","\\bd*"],["\\bdit ","\\bdit*"],["\\bk ","\\bk*"],["\\dc ","\\dc*"],["\\em ","\\em*"],["\\fig ","\\fig*"],["\\ior ","\\ior*"],["\\iqt ","\\iqt*"],["\\it ","\\it*"],["\\k ","\\k*"],["\\litl ","\\litl*"],["\\lik ","\\lik*"],["\\liv ","\\liv*"],["\\liv1 ","\\liv1*"],["\\liv2 ","\\liv2*"],["\\liv3 ","\\liv3*"],["\\liv4 ","\\liv4*"],["\\nd ","\\nd*"],["\\ndx ","\\ndx*"],["\\no ","\\no*"],["\\ord ","\\ord*"],["\\pn ","\\pn*"],["\\png ","\\png*"],["\\pro ","\\pro*"],["\\qt ","\\qt*"],["\\rb ","\\rb*"],["\\sc ","\\sc*"],["\\sig ","\\sig*"],["\\sls ","\\sls*"],["\\sup ","\\sup*"],["\\tl ","\\tl*"],["\\w ","\\w*"],["\\wa ","\\wa*"],["\\wg ","\\wg*"],["\\wh ","\\wh*"],["\\wj ","\\wj*"],["\\ca ","\\ca*"],["\\va ","\\va*"],["\\f ","\\f*"],["\\x ","\\x*"]])},523:function(e,t,n){"use strict";var r=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.runUsfmJsCheck=c,t.checkUSFMToJSON=function(e,t,n,r,a){console.assert(void 0!==e,"checkUSFMToJSON: 'bookID' parameter should be defined"),console.assert("string"===typeof e,"checkUSFMToJSON: 'bookID' parameter should be a string not a '".concat(typeof e,"': ").concat(e)),console.assert(3===e.length,"checkUSFMToJSON: 'bookID' parameter should be three characters long not ".concat(e.length)),console.assert(e.toUpperCase()===e,"checkUSFMToJSON: 'bookID' parameter should be UPPERCASE not '".concat(e,"'")),console.assert(o.isValidBookID(e),"checkUSFMToJSON: '".concat(e,"' is not a valid USFM book identifier")),console.assert(void 0!==t,"checkUSFMToJSON: 'filename' parameter should be defined"),console.assert("string"===typeof t,"checkUSFMToJSON: 'filename' parameter should be a string not a '".concat(typeof t,"': ").concat(t)),console.assert(void 0!==n,"checkUSFMToJSON: 'givenText' parameter should be defined"),console.assert("string"===typeof n,"checkUSFMToJSON: 'givenText' parameter should be a string not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"checkUSFMToJSON: 'givenRowLocation' parameter should be defined"),console.assert("string"===typeof r,"checkUSFMToJSON: 'givenRowLocation' parameter should be a string not a '".concat(typeof r,"'"));var i=r;i&&" "!==i[0]&&(i=" ".concat(i));var s={successList:[],noticeList:[]};c(n,i).isValidUSFM||function(t){var n=t.priority,r=t.message,a=t.lineNumber,o=t.characterIndex,c=t.extract,i=t.location;console.assert(void 0!==n,"cUSFMjs addNotice6to7: 'priority' parameter should be defined"),console.assert("number"===typeof n,"cUSFMjs addNotice6to7: 'priority' parameter should be a number not a '".concat(typeof n,"': ").concat(n)),console.assert(void 0!==r,"cUSFMjs addNotice6to7: 'message' parameter should be defined"),console.assert("string"===typeof r,"cUSFMjs addNotice6to7: 'message' parameter should be a string not a '".concat(typeof r,"': ").concat(r)),o&&console.assert("number"===typeof o,"cUSFMjs addNotice6to7: 'characterIndex' parameter should be a number not a '".concat(typeof o,"': ").concat(o)),c&&console.assert("string"===typeof c,"cUSFMjs addNotice6to7: 'extract' parameter should be a string not a '".concat(typeof c,"': ").concat(c)),console.assert(void 0!==i,"cUSFMjs addNotice6to7: 'location' parameter should be defined"),console.assert("string"===typeof i,"cUSFMjs addNotice6to7: 'location' parameter should be a string not a '".concat(typeof i,"': ").concat(i)),s.noticeList.push({priority:n,message:r,bookID:e,lineNumber:a,characterIndex:o,extract:c,location:i})}({priority:943,message:"USFM3 toJSON Check doesn\u2019t pass",location:i});return function(e){s.successList.push(e)}("Checked USFM-JS"),s};var a=n(524),o=r(n(78));function c(e,t){var n=(0,a.toJSON)(e,t);return{isValidUSFM:Object.keys(n).length>=2,returnedJSON:n}}},528:function(e,t,n){"use strict";var r=n(29),a=n(15);Object.defineProperty(t,"__esModule",{value:!0}),t.runBCSGrammarCheck=p,t.checkUSFMGrammar=function(e,t,n,r,a,o){console.log("checkUSFMGrammar(".concat(r.length.toLocaleString()," chars, '").concat(a,"')\u2026")),console.assert("strict"===t||"relaxed"===t,"Unexpected strictnessString='".concat(t,"'"));var c=a;c&&" "!==c[0]&&(c=" ".concat(c));var s={successList:[],noticeList:[]};function l(t){console.assert(void 0!==t.priority,"cUSFMgr addNotice6to7: 'priority' parameter should be defined"),console.assert("number"===typeof t.priority,"cUSFMgr addNotice6to7: 'priority' parameter should be a number not a '".concat(typeof t.priority,"': ").concat(t.priority)),console.assert(void 0!==t.message,"cUSFMgr addNotice6to7: 'message' parameter should be defined"),console.assert("string"===typeof t.message,"cUSFMgr addNotice6to7: 'message' parameter should be a string not a '".concat(typeof t.message,"': ").concat(t.message)),t.characterIndex&&console.assert("number"===typeof t.characterIndex,"cUSFMgr addNotice6to7: 'characterIndex' parameter should be a number not a '".concat(typeof t.characterIndex,"': ").concat(t.characterIndex)),t.extract&&console.assert("string"===typeof t.extract,"cUSFMgr addNotice6to7: 'extract' parameter should be a string not a '".concat(typeof extract,"': ").concat(t.extract)),console.assert(void 0!==t.location,"cUSFMgr addNotice6to7: 'location' parameter should be defined"),console.assert("string"===typeof t.location,"cUSFMgr addNotice6to7: 'location' parameter should be a string not a '".concat(typeof t.location,"': ").concat(t.location)),s.noticeList.push(u(u({},t),{},{bookID:e,filename:n}))}if(i.isExtraBookID(e))return s;var f=p(t,r,n,c,o);f.isValidUSFM||l({priority:944,message:"USFM3 Grammar Check (".concat(t," mode) doesn\u2019t pass"),filename:n,location:c});f.error&&f.priority&&l(f.error);var h,m=d(f.warnings);try{for(m.s();!(h=m.n()).done;){var g=h.value;l({priority:101,message:"USFMGrammar: ".concat(g),filename:n,location:c})}}catch(b){m.e(b)}finally{m.f()}return function(e){s.successList.push(e)}("Checked USFM Grammar (".concat(t," mode) ").concat(f.isValidUSFM?"without errors":" (but the USFM DIDN\u2019T validate)")),s};var o=a(n(25)),c=a(n(529)),i=r(n(78)),s=n(57);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n,r,a){var o;console.assert("strict"===e||"relaxed"===e,"Unexpected strictnessString='".concat(e,"'"));try{o=null===a||void 0===a?void 0:a.extractLength}catch(L){}("number"!==typeof o||isNaN(o))&&(o=s.DEFAULT_EXTRACT_LENGTH);var i,l,u,f,p,h=Math.floor(o/2),m=Math.floor((o+1)/2),g=new c.default.USFMParser(t,"relaxed"===e?c.default.LEVEL.RELAXED:null),b=g.toJSON(),y={};if(i=b._messages._error){var v,x=/(\d+?)\s\|\s(.+)/g,k=d(i.split("\n"));try{for(k.s();!(v=k.n()).done;){var T=v.value;if(T.startsWith(">")){var w=x.exec(T.substring(1).trim());w&&(u=w[1],p=w[2])}else T.endsWith("^")?((f=T.indexOf("^")-8)<0&&(f=0),p.length&&(p=(f>h?"\u2026":"")+p.substring(f-h,f+m)+(f+m<p.length?"\u2026":""))):l=T}}catch(F){k.e(F)}finally{k.f()}var C=594;("\\s5"===p||l.startsWith('Expected "f*", "+"'))&&(C=294),y={priority:C,message:"USFMGrammar: ".concat(l),filename:n,characterIndex:f,extract:p,location:r},u&&u.length&&(y.lineNumber=Number(u))}var O,N=[],S=d(b._warnings?b._warnings:g.warnings);try{for(S.s();!(O=S.n()).done;){var I=O.value.trim();I.endsWith(".")&&(I=I.substring(0,I.length-1)),N.push(I)}}catch(F){S.e(F)}finally{S.f()}return{isValidUSFM:!i,error:y,warnings:N}}},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWhitespace=function(e){return!!/^[\s\u200B]+$/.test(e)},t.countOccurrences=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e+="",(t+="").length<=0)return e.length+1;var r=0,a=0,o=n?1:t.length;for(;(a=e.indexOf(t,a))>=0;)++r,a+=o;return r},t.ourReplaceAll=function(e,t,n){var r=e;for(;r.indexOf(t)>=0;)r=r.replace(t,n);return r},t.ourDeleteAll=function(e,t){var n=e;for(;n.indexOf(t)>=0;)n=n.replace(t,"");return n},t.BAD_CHARACTER_COMBINATIONS=t.MATCHED_PUNCTUATION_PAIRS=t.PAIRED_PUNCTUATION_CLOSERS=t.PAIRED_PUNCTUATION_OPENERS=t.DEFAULT_EXTRACT_LENGTH=void 0;t.DEFAULT_EXTRACT_LENGTH=15;t.PAIRED_PUNCTUATION_OPENERS="[({<\u27e8\u201c\u2018\xab\u2039\u300a\u3008\u2e22\u2e24";t.PAIRED_PUNCTUATION_CLOSERS="])}>\u27e9\u201d\u2019\xbb\u203a\u300b\u3009\u2e23\u2e25";t.MATCHED_PUNCTUATION_PAIRS=[["[","]"],["(",")"],["{","}"],["\u201c","\u201d"],["\u2018","\u2019"],["<",">"],["\u27e8","\u27e9"],["\xab","\xbb"],["\u2039","\u203a"],["\u300a","\u300b"],["\u3008","\u3009"],["\u2e22","\u2e23"],["\u2e24","\u2e25"],["**_","_**"]];t.BAD_CHARACTER_COMBINATIONS=["\\[\\[","\\]\\]","] (http","] (."]},660:function(e,t,n){e.exports=n.p+"static/media/SILEOTSR.a5284649.ttf"},661:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),i=(n(454),n(14)),s=n.n(i),l=n(105),u=n(63),d=n(27),f=n(23),p=n(3),h=n(417),m=n(419),g=n(20),b=n(126),y=n(697),v=n(695),x=n(696),k=n(418),T=n(106),w=n(674),C=n(300),O=n(303),N=n(416),S=n(302),I=n(431),L=n(691),F=n(406),D=n(299),j=n(439),P=n.n(j),A=n(77),E=n(694),R=n(148),M=n.n(R),U=n(112),_=n.n(U),V=n(34),B=function(e){return V.filter((function(t){return t.id===e}))[0]},z=function(e){return e=e.toLowerCase(),B(e).testament},W=function(){for(var e=[],t=0;t<V.length;t++)"new"===V[t].testament&&e.push(V[t].title);return e},Q=function(){for(var e=[],t=0;t<V.length;t++)"old"===V[t].testament&&e.push(V[t].title);return e},G=function(){var e={};return function(){for(var e=[],t=0;t<V.length;t++)e.push(V[t].title);return e}().forEach((function(t,n){e[t]=[!1,!1]})),e},J=function(e){for(var t=0;t<V.length;t++)if(V[t].title===e)return V[t].id;return""},H=function(e){e=e.toLowerCase();for(var t=0;t<V.length;t++)if(V[t].id===e)return V[t].title;return""},q=["FRT","BAK"],$=function(e){return!e||e.toLowerCase()in V||q.indexOf(e)>=0},Z=function(e){for(var t=e.toLowerCase(),n=0;n<V.length;n++)if(V[n].id===t)return!0;for(var r=e.toUpperCase(),a=0;a<q.length;a++)if(q[a]===r)return!0;return!1},Y=function(e){e=e.toLowerCase();for(var t=0;t<V.length;t++)if(V[t].id===e)return V[t].usfm;throw new Error("usfmNumberName() given invalid bookId: '".concat(e,"'"))},K=n(402),X=n(693),ee=n(692),te=n(424),ne=n(699),re=n(690),ae=n(151),oe=n(42),ce=n(98),ie=n.n(ce),se=n(221),le=n.n(se),ue=n(85),de=n.n(ue),fe=n(298),pe=n(225),he=n.n(pe),me=n(306),ge=n.n(me),be="https://git.door43.org/",ye={hbo:{UHB:"unfoldingWord/hbo_uhb"},"el-x-koine":{UGNT:"unfoldingWord/el-x-koine_ugnt"},en:{label:"English (unfoldingWord)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"unfoldingWord/en_ta",TN:"unfoldingWord/en_tn",TW:"unfoldingWord/en_tw",TQ:"unfoldingWord/en_tq",ST:"unfoldingWord/en_ust",LT:"unfoldingWord/en_ult"},hi:{label:"Hindi (translationCore-Create-BCS)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"translationCore-Create-BCS/hi_ta",TN:"translationCore-Create-BCS/hi_tn",TW:"translationCore-Create-BCS/hi_tw",TQ:"translationCore-Create-BCS/hi_tq",ST:"translationCore-Create-BCS/hi_gst",LT:"translationCore-Create-BCS/hi_glt"},kn:{label:"Kannada (translationCore-Create-BCS)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"translationCore-Create-BCS/kn_ta",TN:"translationCore-Create-BCS/kn_tn",TW:"translationCore-Create-BCS/kn_tw",TQ:"translationCore-Create-BCS/kn_tq",ST:"translationCore-Create-BCS/kn_gst",LT:"translationCore-Create-BCS/kn_glt"},"es-419":{label:"Latin-American Spanish (Es-419_gl)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"Es-419_gl/es-419_ta",TN:"Es-419_gl/es-419_tn",TW:"Es-419_gl/es-419_tw",TQ:"Es-419_gl/es-419_tq",ST:"Es-419_gl/es-419_gst",LT:"Es-419_gl/es-419_glt"},ru:{label:"Russian (ru_gl)",UHB:"unfoldingWord/hbo_uhb",UGNT:"unfoldingWord/el-x-koine_ugnt",TA:"ru_gl/ru_ta",TN:"ru_gl/ru_tn",TW:"ru_gl/ru_tw",TQ:"ru_gl/ru_tq_2lv",ST:"ru_gl/ru_rsob",LT:"ru_gl/ru_rlob"}},ve=ye;function xe(){return ge.a.cloneDeep(ve)}function ke(e,t,n,r,a){return Te.apply(this,arguments)}function Te(){return(Te=Object(f.a)(s.a.mark((function e(t,n,r,a,o){var c,i,l,u,d,f,p,h,m,g=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=g.length>5&&void 0!==g[5]?g[5]:"master",console.log("verifyRepo(".concat(t,", ").concat(n,", ").concat(a,", ").concat(o,")")),e.next=4,we({username:t,repository:n});case 4:if(i=e.sent,l=i.repoExists,u=i.manifestValid,d=u,p=!1,!(f=l)){e.next=24;break}return e.next=11,_e({username:t,repository:n,path:"manifest.yaml",branch:c});case 11:if(!e.sent){e.next=20;break}return d=!0,e.next=16,Be({username:t,repository:n,branch:c});case 16:(m=e.sent)?(p=!1,m.projects&&m.projects.length?(u=!0,h="repo and manifest OK"):(u=!1,h="manifest is imcomplete"),r.push({repoType:a,username:t,repository:n,language:o,message:h,manifestFound:d,manifestValid:u,manifestParseFailed:p,repoFound:f})):(p=!0,h="manifest is not parseable",r.push({repoType:a,username:t,repository:n,language:o,message:h,manifestFound:d,manifestValid:u,manifestParseFailed:p,repoFound:f})),e.next=22;break;case 20:h="manifest is missing",r.push({repoType:a,username:t,repository:n,language:o,message:h,manifestFound:d,manifestValid:u,manifestParseFailed:p,repoFound:f});case 22:e.next=26;break;case 24:h="repo does not exist",r.push({repoType:a,username:t,repository:n,language:o,message:h,manifestFound:d,manifestValid:u,manifestParseFailed:p,repoFound:f});case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a={},o=ie.a.join("api/v1","repos",n,r),i=!1,l=!1,e.prev=4,e.next=7,Xe({uri:o,params:a});case 7:(c=e.sent)?(i=!0,l=!!c.subject):i=!1,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),i=!1,e.t0&&e.t0.response&&404===e.t0.response.status?console.log("verifyManifest(".concat(n,", ").concat(r,") - repo does not exist")):console.error("verifyManifest(".concat(n,", ").concat(r,") - query error"),e.t0);case 15:return e.abrupt("return",{repoExists:i,manifestValid:l});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}function Oe(e,t,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(f.a)(s.a.mark((function e(t,n,r){var a,o,c,i,l,d,f,p,h,m,g,b,y,v=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.length>3&&void 0!==v[3]?v[3]:"master",o=[],c=[],i=new Date,l=Object(oe.a)(r),e.prev=5,l.s();case 7:if((d=l.n()).done){e.next=21;break}if(f=d.value,p=Fe(t,n,f,f)){e.next=13;break}return o.push({repoType:f,message:"could not find path for ".concat(n,"/").concat(f)}),e.abrupt("continue",19);case 13:h=void 0,m=void 0,g=p.split("/"),b=Object(u.a)(g,2),h=b[0],m=b[1],c.push(ke(h,m,o,f,n,a));case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),l.e(e.t0);case 26:return e.prev=26,l.f(),e.finish(26);case 29:return e.next=31,Promise.all(c);case 31:return o.length,y=(new Date-i)/1e3,console.log("verifyRepos(".concat(t,", ").concat(n,"..) finished ").concat(y," seconds")),e.abrupt("return",o);case 35:case"end":return e.stop()}}),e,null,[[5,23,26,29]])})))).apply(this,arguments)}function Se(e,t,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(f.a)(s.a.mark((function e(t,n,r){var a,o,c,i,l,u,d,f=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.length>3&&void 0!==f[3]?f[3]:"master",o=new Date,c=[],r.finished=!1,i=function(){var e=u[l];if(!ve[e].label)return"continue";var o={finished:!1};r[e]=o,c.push(Oe(t,e,n,a).then((function(e){o.finished=!0,o.errors=e})))},l=0,u=Object.keys(ve);case 6:if(!(l<u.length)){e.next=13;break}if("continue"!==i()){e.next=10;break}return e.abrupt("continue",10);case 10:l++,e.next=6;break;case 13:return e.next=15,Promise.all(c);case 15:r.finished=!0,d=(new Date-o)/1e3,console.log("verifyReposForLanguages() finished in ".concat(d," seconds"));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e,t){return e=e.toUpperCase(),["ULT","GLT"].includes(e)&&(e="LT"),["UST","GST"].includes(e)&&(e="ST"),{repoType:e,langRepos:ve[t.toLowerCase()]}}function Fe(e,t,n,r){var a=Le(n,t),o=a.langRepos,c=a.repoType;if(o){var i=o[c];if(i)return i}return"".concat(e,"/").concat(r)}function De(e,t){var n=t.indexOf("_");if(n>=0){var r=Fe(e,t.substr(0,n),t.substr(n+1),t);if(r){var a=r.split("/"),o=Object(u.a)(a,2);e=o[0],t=o[1]}}return{username:e,repoName:t}}var je=de.a.createInstance({driver:[de.a.INDEXEDDB],name:"failed-store"}),Pe=de.a.createInstance({driver:[de.a.INDEXEDDB],name:"zip-store"}),Ae=de.a.createInstance({driver:[de.a.INDEXEDDB],name:"web-cache"}),Ee=de.a.createInstance({driver:[de.a.INDEXEDDB],name:"unzip-store"}),Re=Object(fe.setup)({baseURL:be,cache:{store:Ae,maxAge:3e5,exclude:{query:!1},key:function(e){var t=e.params instanceof URLSearchParams?e.params.toString():JSON.stringify(e.params)||"";return e.url+t}}});function Me(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(f.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.getItem(t.toLowerCase());case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,c=De(n,r),i=c.username,l=c.repoName,n=i,r=l,u=ie.a.join(n,r,o,a),e.next=7,Me(u);case 7:if(!(d=e.sent)){e.next=10;break}return e.abrupt("return",d);case 10:return e.next=12,it({username:n,repository:r,path:a,branch:o});case 12:if(d=e.sent){e.next=17;break}return e.next=16,Ye({username:n,repository:r,path:a,branch:o});case 16:d=e.sent;case 17:if(!d){e.next=22;break}return e.next=20,Ee.setItem(u.toLowerCase(),d);case 20:e.next=23;break;case 22:console.log("getFileCached(".concat(n,", ").concat(r,", ").concat(a,", ").concat(o,") - failed to get file"));case 23:return e.abrupt("return",d);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,e.next=3,_e({username:n,repository:r,path:"manifest.yaml",branch:a});case 3:o=e.sent;try{c=le.a.parse(o)}catch(i){console.error("".concat(n," ").concat(r," ").concat(a," manifest yaml parse error: ").concat(i.message))}return e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,o=t.bookID,e.next=3,Be({username:n,repository:r,branch:a});case 3:c=e.sent,i=Object(oe.a)(c.projects),e.prev=5,i.s();case 7:if((l=i.n()).done){e.next=15;break}if((u=l.value).identifier!==o){e.next=13;break}return(d=u.path).startsWith("./")&&(d=d.substring(2)),e.abrupt("return",d);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})))).apply(this,arguments)}function Ge(){return Je.apply(this,arguments)}function Je(){return(Je=Object(f.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.clear();case 2:return e.next=4,Pe.clear();case 4:return e.next=6,Ae.clear();case 6:return e.next=8,Ee.clear();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){"LT"===(t=t.toUpperCase())&&(t="en"===e?"ULT":"GLT"),"ST"===t&&(t="en"===e?"UST":"GST");var n=e;return"UHB"===t?n="hbo":"UGNT"===t&&(n="el-x-koine"),"".concat(n,"_").concat(t.toLowerCase())}function qe(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.includes(t)||(n?e.unshift(t):e.push(t))}function $e(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(f.a)(s.a.mark((function e(t,n){var r,a,o,c,i,l,u,d,f,p,h,m,g,b=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>2&&void 0!==b[2]?b[2]:"master",a=b.length>3&&void 0!==b[3]?b[3]:[],o=b.length>4&&void 0!==b[4]&&b[4],c=b.length>5&&void 0!==b[5]&&b[5],i=!0,l=a.map((function(e){return He(n,e)})),o)for(u=0,d=["UHB","UGNT"];u<d.length;u++)f=d[u],qe(l,He(n,f),!0);c&&(p="en"===n?"UST":"GST",qe(l,He(n,"en"===n?"ULT":"GLT"),!1),qe(l,He(n,p),!1)),h=Object(oe.a)(l),e.prev=9,h.s();case 11:if((m=h.n()).done){e.next=19;break}return g=m.value,e.next=15,tt({username:t,repository:g,branch:r});case 15:e.sent||(i=!1);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),h.e(e.t0);case 24:return e.prev=24,h.f(),e.finish(24);case 27:return e.abrupt("return",i);case 28:case"end":return e.stop()}}),e,null,[[9,21,24,27]])})))).apply(this,arguments)}function Ye(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,c=void 0===o?"master":o,i=ie.a.join(n,r,"raw/branch",c,a),e.next=4,je.getItem(i.toLowerCase());case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",null);case 7:return e.prev=7,e.next=10,Xe({uri:i});case 10:return l=e.sent,e.abrupt("return",l);case 14:return e.prev=14,e.t0=e.catch(7),console.log("ERROR: fetchFileFromServer could not fetch ".concat(a,": ").concat(e.t0)),je.setItem(i.toLowerCase(),e.t0.message),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function Xe(e){return et.apply(this,arguments)}function et(){return(et=Object(f.a)(s.a.mark((function e(t){var n,r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.params,e.next=3,Re.get(be+n,{params:r});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l,u,d,f,p=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.username,r=t.repository,a=t.branch,o=p.length>1&&void 0!==p[1]&&p[1],c=De(n,r),i=c.username,l=c.repoName,n=i,r=l,o){e.next=11;break}return e.next=8,ot(n,r,a);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return u=lt({username:n,repository:r,branch:a}),e.next=14,fetch(u);case 14:if(200!==(d=e.sent).status&&0!==d.status){e.next=24;break}return e.next=18,d.arrayBuffer();case 18:return f=e.sent,e.next=21,Pe.setItem(u.toLowerCase(),f);case 21:return e.abrupt("return",!0);case 24:return e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return at.apply(this,arguments)}function at(){return(at=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l,u,d,f,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.branch,o=t.optionalPrefix,c=De(n,r),i=c.username,l=c.repoName,u=lt({username:n=i,repository:r=l,branch:a}),e.next=7,ot(n,r,a);case 7:if(d=e.sent){e.next=22;break}return e.next=11,fetch(u);case 11:if(200!==(f=e.sent).status&&0!==f.status){e.next=21;break}return e.next=15,f.arrayBuffer();case 15:return p=e.sent,e.next=18,Pe.setItem(u.toLowerCase(),p);case 18:d=e.sent,e.next=22;break;case 21:return e.abrupt("return",[]);case 22:if(h=[],e.prev=23,!d){e.next=29;break}return e.next=27,he.a.loadAsync(d);case 27:e.sent.forEach((function(e){e.endsWith("/")||(e.startsWith("".concat(r,"/"))&&(e=e.substring(r.length+1)),!e.length||e.startsWith(".git")||e.startsWith(".apps")||o&&!e.toLowerCase().startsWith(o)||h.push(e))}));case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(23),console.log("ERROR: getFilelistFromZip got: ".concat(e.t0.message));case 34:return e.abrupt("return",h);case 35:case"end":return e.stop()}}),e,null,[[23,31]])})))).apply(this,arguments)}function ot(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=Object(f.a)(s.a.mark((function e(t,n,r){var a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lt({username:t,repository:n,branch:r}),e.next=3,Pe.getItem(a.toLowerCase());case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e){return st.apply(this,arguments)}function st(){return(st=Object(f.a)(s.a.mark((function e(t){var n,r,a,o,c,i,l,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.repository,a=t.path,o=t.branch,e.next=3,ot(n,r,o);case 3:if(d=e.sent,e.prev=4,!d){e.next=19;break}return e.next=8,he.a.loadAsync(d);case 8:if(l=e.sent,i=ie.a.join(r.toLowerCase(),a),!(u=l.file(i))){e.next=17;break}return e.next=14,u.async("string");case 14:c=e.sent,e.next=19;break;case 17:console.log("getFileFromZip - file not found for ".concat(n," ").concat(r," ").concat(encodeURI(a)," ").concat(o)),c=null;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(4),console.error("getFileFromZip for ".concat(n," ").concat(r," ").concat(a," ").concat(o," got: ").concat(e.t0.message)),c=null;case 25:return e.abrupt("return",c);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})))).apply(this,arguments)}function lt(e){var t=e.username,n=e.repository,r=e.branch,a=void 0===r?"master":r,o=ie.a.join(t,n,"archive","".concat(a,".zip"));return be+o}var ut=n(86);function dt(e,t,n,r,a,o){return ft.apply(this,arguments)}function ft(){return(ft=Object(f.a)(s.a.mark((function e(t,n,r,o,c,i){var l,u,p,h,m,g,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(){return(b=Object(f.a)(s.a.mark((function e(t,n,r,a,o,c){var i,l,f,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"ourCheckRepoFileContents: 'bookOrFileCode' parameter should be defined"),console.assert("string"===typeof t,"ourCheckRepoFileContents: 'bookOrFileCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==n,"ourCheckRepoFileContents: 'cfBookID' parameter should be defined"),console.assert("string"===typeof n,"ourCheckRepoFileContents: 'cfBookID' parameter should be a string not a '".concat(typeof n,"'")),console.assert(void 0!==r,"ourCheckRepoFileContents: 'filename' parameter should be defined"),console.assert("string"===typeof r,"ourCheckRepoFileContents: 'filename' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"ourCheckRepoFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof a,"ourCheckRepoFileContents: 'file_content' parameter should be a string not a '".concat(typeof a,"'")),console.assert(void 0!==o,"ourCheckRepoFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof o,"ourCheckRepoFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof o,"'")),e.next=12,pt(u,r,a,o,c);case 12:i=e.sent,l=Object(oe.a)(i.noticeList);try{for(l.s();!(f=l.n()).done;)p=f.value,m(Object(d.a)(Object(d.a)({},p),{},{bookID:n,extra:t}))}catch(s){l.e(s)}finally{l.f()}case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e,t,n,r,a,o){return b.apply(this,arguments)},m=function(e){console.assert(void 0!==e.priority,"cR addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cR addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cR addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cR addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),e.bookID&&(console.assert("string"===typeof e.bookID,"cR addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cR addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert($(e.bookID),"cR addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier"))),e.C&&console.assert("string"===typeof e.C,"cR addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cR addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cR addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cR addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cR addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cR addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cR addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cR addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),p.noticeList.push(Object(d.a)(Object(d.a)({},e),{},{repoName:n}))},h=function(e){p.successList.push(e)},l=new Date,u=n.split("_")[0],void 0===r&&(r="master"),p={successList:[],noticeList:[],checkedFileCount:0,checkedFilenames:[],checkedFilenameExtensions:[]},e.prev=8,(y=o)&&" "!==y[0]&&(y=" ".concat(y)),c(a.a.createElement("p",{style:{color:"magenta"}},"Fetching zipped files from ",a.a.createElement("b",null,t,"/",n)," repository\u2026")),v=i&&i.fetchRepositoryZipFile?i.fetchRepositoryZipFile:tt,e.next=15,v({username:t,repository:n,branch:r});case 15:if(x=e.sent){e.next=21;break}return console.error("checkRepo: misfetched zip file for repo with ".concat(x)),c(a.a.createElement("p",{style:{color:"red"}},"Failed to fetching zipped files from ",a.a.createElement("b",null,t,"/",n)," repository")),m({priority:999,message:"Failed to find/load repository",location:y}),e.abrupt("return",p);case 21:return c(a.a.createElement("p",{style:{color:"magenta"}},"Preprocessing file list from ",a.a.createElement("b",null,t,"/",n)," repository\u2026")),k=i&&i.getFileListFromZip?i.getFileListFromZip:rt,e.next=25,k({username:t,repository:n,branch:r});case 25:T=e.sent,w="".concat(T.length.toLocaleString()," file").concat(1===T.length?"":"s"),C=0,O=[],N=new Set,S=0,I=Object(oe.a)(T),e.prev=29,I.s();case 31:if((L=I.n()).done){e.next=62;break}return F=L.value,c(a.a.createElement("p",{style:{color:"magenta"}},"Checking ",a.a.createElement("b",null,t,"/",n)," repo: checked ",C.toLocaleString(),"/",w,"\u2026")),D=F.split("/").pop(),j=D.split(".").pop(),P=D.substring(0,D.length-j.length-1),A="","usfm"===j?(E=P.substring(P.length-3),console.assert(Z(E),"checkRepo: '".concat(E,"' is not a valid USFM book identifier")),P=E,A=E):"tsv"===j&&(R=P.substring(P.length-3),console.assert(Z(R),"checkRepo: '".concat(R,"' is not a valid USFM book identifier")),P=R,A=R),M=i&&i.getFile?i.getFile:_e,U=void 0,e.prev=41,e.next=44,M({username:t,repository:n,path:F,branch:r});case 44:U=e.sent,e.next=52;break;case 47:return e.prev=47,e.t0=e.catch(41),console.error("Failed to load",t,n,F,r,"".concat(e.t0)),m({priority:996,message:"Failed to load",bookID:A,filename:D,location:"".concat(o," ").concat(F,": ").concat(e.t0),extra:n}),e.abrupt("return");case 52:if(!U){e.next=60;break}return e.next=55,g(P,A,n.endsWith("_obs")?F.replace("content/",""):D,U,y,i);case 55:C+=1,O.push(D),N.add(j),S+=U.length,"md"!==j&&h("Checked ".concat(P.toUpperCase()," file: ").concat(D));case 60:e.next=31;break;case 62:e.next=67;break;case 64:e.prev=64,e.t1=e.catch(29),I.e(e.t1);case 67:return e.prev=67,I.f(),e.finish(67);case 70:O.indexOf("LICENSE.md")<0&&m({priority:946,message:"Missing LICENSE.md",location:y,extra:"LICENSE"}),O.indexOf("manifest.yaml")<0&&m({priority:947,message:"Missing manifest.yaml",location:y,extra:"MANIFEST"}),p.checkedFileCount=C,p.checkedFilenames=O,p.checkedFilenameExtensions=Object(ae.a)(N),p.checkedFilesizes=S,p.checkedRepoNames=["".concat(t,"/").concat(n)],h("Checked ".concat(t," repo: ").concat(n)),e.next=84;break;case 80:e.prev=80,e.t2=e.catch(8),console.error("checkRepo main code block got error: ".concat(e.t2.message)),c(a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{style:{color:"red"}},"checkRepo main code block got error: ",a.a.createElement("b",null,e.t2.message))));case 84:return p.elapsedSeconds=(new Date-l)/1e3,e.abrupt("return",p);case 86:case"end":return e.stop()}}),e,null,[[8,80],[29,64,67,70],[41,47]])})))).apply(this,arguments)}function pt(e,t,n,r,a){return ht.apply(this,arguments)}function ht(){return(ht=Object(f.a)(s.a.mark((function e(t,n,r,a,o){var c,i,l,u,d,f,p,h,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Date," "!==(i=a)[0]&&(i=" "+i),!n.toLowerCase().endsWith(".tsv")){e.next=12;break}return u=n.substring(0,n.length-4),d=u.substring(u.length-3),console.assert(Z(d),"checkFileContents: '".concat(d,"' is not a valid USFM book identifier")),e.next=9,Object(ut.checkTN_TSVText)(t,d,n,r,i,o);case 9:l=e.sent,e.next=13;break;case 12:n.toLowerCase().endsWith(".usfm")?(f=n.substring(0,n.length-5),p=f.substring(f.length-3),console.assert(Z(p),"checkFileContents: '".concat(p,"' is not a valid USFM book identifier")),"",l=Object(ut.checkUSFMText)(t,"",p,n,r,i,o)):n.toLowerCase().endsWith(".sfm")?(h=n.substring(0,n.length-4),console.log("Have SFM filenameMain=".concat(h)),m=h.substring(2,5),console.log("Have SFM bookcode=".concat(m)),console.assert(Z(m),"checkFileContents: '".concat(m,"' is not a valid USFM book identifier")),l=Object(ut.checkUSFMText)(t,m,n,r,i,o)):n.toLowerCase().endsWith(".md")?l=Object(ut.checkMarkdownText)(t,n,r,i,o):n.toLowerCase().endsWith(".txt")?l=Object(ut.checkPlainText)(n,r,i,o):"manifest.yaml"===n.toLowerCase()?l=Object(ut.checkManifestText)(n,r,i,o):n.toLowerCase().endsWith(".yaml")?l=Object(ut.checkYAMLText)(n,r,i,o):(l=Object(ut.checkPlainText)(n,r,i,o)).noticeList.unshift({priority:995,message:"File extension is not recognized, so treated as plain text.",filename:n,location:n});case 13:return l.checkedFileCount=1,l.checkedFilename=n,l.checkedFilesize=r.length,l.checkedOptions=o,l.elapsedSeconds=(new Date-c)/1e3,e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t,n,r,a,o){return gt.apply(this,arguments)}function gt(){return(gt=Object(f.a)(s.a.mark((function e(t,n,r,a,o,c){var i,l,u,p,h,m,g,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(){return(g=Object(f.a)(s.a.mark((function e(t,r,a,o,c,i,l,u){var f,p,m,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"cTQ ourCheckTQFileContents: 'repoCode' parameter should be defined"),console.assert("string"===typeof t,"cTQ ourCheckTQFileContents: 'repoCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==c,"cTQ ourCheckTQFileContents: 'cfFilename' parameter should be defined"),console.assert("string"===typeof c,"cTQ ourCheckTQFileContents: 'cfFilename' parameter should be a string not a '".concat(typeof c,"'")),console.assert(void 0!==i,"cTQ ourCheckTQFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof i,"cTQ ourCheckTQFileContents: 'file_content' parameter should be a string not a '".concat(typeof i,"'")),console.assert(void 0!==l,"cTQ ourCheckTQFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof l,"cTQ ourCheckTQFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof l,"'")),e.next=10,pt(n,c,i,l,u);case 10:f=e.sent,p=Object(oe.a)(f.noticeList);try{for(p.s();!(m=p.n()).done;)g=m.value,h(Object(d.a)(Object(d.a)({},g),{},{bookID:r,C:a,V:o,extra:t}))}catch(s){p.e(s)}finally{p.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m=function(e,t,n,r,a,o,c,i){return g.apply(this,arguments)},h=function(e){console.assert(void 0!==e.priority,"cTQ addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cTQ addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cTQ addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cTQ addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),console.assert(void 0!==e.bookID,"cTQ addNoticePartial: 'bookID' parameter should be defined"),console.assert("string"===typeof e.bookID,"cTQ addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cTQ addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert(Z(e.bookID),"cTQ addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier")),e.C&&console.assert("string"===typeof e.C,"cTQ addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cTQ addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cTQ addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cTQ addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cTQ addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cTQ addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cTQ addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cTQ addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),u.noticeList.push(Object(d.a)(Object(d.a)({},e),{},{repoName:r,bookID:o}))},p=function(e){u.successList.push(e)},i="TQ",l=" in ".concat(t," (").concat(a,")"),u={successList:[],noticeList:[]},b=0,y=[],v=new Set(["md"]),x=0,k=c&&c.getFileListFromZip?c.getFileListFromZip:rt,T=o.toLowerCase(),e.next=12,k({username:t,repository:r,branch:a,optionalPrefix:"".concat(T,"/")});case 12:if(w=e.sent,Array.isArray(w)&&w.length){e.next=18;break}console.error("checkTQrepo failed to load",t,r,a),h({priority:996,message:"Failed to load",bookID:o,location:l,extra:i}),e.next=57;break;case 18:C=Object(oe.a)(w),e.prev=19,C.s();case 21:if((O=C.n()).done){e.next=48;break}return N=O.value,console.assert(N.endsWith(".md"),"Expected ".concat(N," to end with .md")),S=N.split("/").pop(),I=N.slice(0,-3).split("/"),L=I[I.length-2].replace(/^0+(?=\d)/,""),F=I[I.length-1].replace(/^0+(?=\d)/,""),D=c&&c.getFile?c.getFile:_e,j=void 0,e.prev=30,e.next=33,D({username:t,repository:r,path:N,branch:a});case 33:j=e.sent,y.push(N),x+=j.length,e.next=43;break;case 38:return e.prev=38,e.t0=e.catch(30),console.error("checkTQbook failed to load",t,r,N,a,e.t0+""),h({priority:996,message:"Failed to load",bookID:o,C:L,V:F,location:"".concat(l," ").concat(N,": ").concat(e.t0),extra:i}),e.abrupt("continue",46);case 43:return e.next=45,m(i,o,L,F,S,j,l,c);case 45:b+=1;case 46:e.next=21;break;case 48:e.next=53;break;case 50:e.prev=50,e.t1=e.catch(19),C.e(e.t1);case 53:return e.prev=53,C.f(),e.finish(53);case 56:p("Checked ".concat(b.toLocaleString()," ").concat(i.toUpperCase()," file").concat(1===b?"":"s"));case 57:return u.checkedFileCount=b,u.checkedFilenames=y,u.checkedFilenameExtensions=Object(ae.a)(v),u.checkedFilesizes=x,e.abrupt("return",u);case 62:case"end":return e.stop()}}),e,null,[[19,50,53,56],[30,38]])})))).apply(this,arguments)}function bt(e,t,n,r,a){return yt.apply(this,arguments)}function yt(){return(yt=Object(f.a)(s.a.mark((function e(t,n,r,o,c){var i,l,u,p,h,m,g,b,y,v,x,k,T,w,C,O,N,S,I,L,F,D,j,P,A,E,R,M,U,_;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=function(){return(v=Object(f.a)(s.a.mark((function e(t,r,a,o,c){var i,l,u,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.assert(void 0!==t,"cBP ourCheckBPFileContents: 'repoCode' parameter should be defined"),console.assert("string"===typeof t,"cBP ourCheckBPFileContents: 'repoCode' parameter should be a string not a '".concat(typeof t,"'")),console.assert(void 0!==r,"cBP ourCheckBPFileContents: 'cfFilename' parameter should be defined"),console.assert("string"===typeof r,"cBP ourCheckBPFileContents: 'cfFilename' parameter should be a string not a '".concat(typeof r,"'")),console.assert(void 0!==a,"cBP ourCheckBPFileContents: 'file_content' parameter should be defined"),console.assert("string"===typeof a,"cBP ourCheckBPFileContents: 'file_content' parameter should be a string not a '".concat(typeof a,"'")),console.assert(void 0!==o,"cBP ourCheckBPFileContents: 'fileLocation' parameter should be defined"),console.assert("string"===typeof o,"cBP ourCheckBPFileContents: 'fileLocation' parameter should be a string not a '".concat(typeof o,"'")),e.next=10,pt(n,r,a,o,c);case 10:i=e.sent,l=Object(oe.a)(i.noticeList);try{for(l.s();!(u=l.n()).done;)f=u.value,b(Object(d.a)(Object(d.a)({},f),{},{filename:r,extra:t}))}catch(s){l.e(s)}finally{l.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},y=function(e,t,n,r,a){return v.apply(this,arguments)},b=function(e){console.assert(void 0!==e.priority,"cBP addNoticePartial: 'priority' parameter should be defined"),console.assert("number"===typeof e.priority,"cBP addNoticePartial: 'priority' parameter should be a number not a '".concat(typeof e.priority,"'")),console.assert(void 0!==e.message,"cBP addNoticePartial: 'message' parameter should be defined"),console.assert("string"===typeof e.message,"cBP addNoticePartial: 'message' parameter should be a string not a '".concat(typeof e.message,"'")),e.bookID&&(console.assert("string"===typeof e.bookID,"cBP addNoticePartial: 'bookID' parameter should be a string not a '".concat(typeof e.bookID,"'")),console.assert(3===e.bookID.length,"cBP addNoticePartial: 'bookID' parameter should be three characters long not ".concat(e.bookID.length)),console.assert(Z(e.bookID),"cBP addNoticePartial: '".concat(e.bookID,"' is not a valid USFM book identifier"))),e.C&&console.assert("string"===typeof e.C,"cBP addNoticePartial: 'C' parameter should be a string not a '".concat(typeof e.C,"'")),e.V&&console.assert("string"===typeof e.V,"cBP addNoticePartial: 'V' parameter should be a string not a '".concat(typeof e.V,"'")),e.characterIndex&&console.assert("number"===typeof e.characterIndex,"cBP addNoticePartial: 'characterIndex' parameter should be a number not a '".concat(typeof e.characterIndex,"'")),e.extract&&console.assert("string"===typeof e.extract,"cBP addNoticePartial: 'extract' parameter should be a string not a '".concat(typeof e.extract,"'")),console.assert(void 0!==e.location,"cBP addNoticePartial: 'location' parameter should be defined"),console.assert("string"===typeof e.location,"cBP addNoticePartial: 'location' parameter should be a string not a '".concat(typeof e.location,"'")),console.assert(void 0!==e.extra,"cBP addNoticePartial: 'extra' parameter should be defined"),console.assert("string"===typeof e.extra,"cBP addNoticePartial: 'extra' parameter should be a string not a '".concat(typeof e.extra,"'")),l.noticeList.push(Object(d.a)(Object(d.a)({},e),{},{bookID:r}))},g=function(e){l.successList.push(e)},i=new Date,r=r.toUpperCase(),l={successList:[],noticeList:[]},u=c?Object(d.a)({},c):{},p=u.getFile?u.getFile:_e,u.getFile=p,u.originalLanguageRepoUsername||(u.originalLanguageRepoUsername=t),u.taRepoUsername||(u.taRepoUsername=t),h="master",m=" in ".concat(n," ").concat(r," book package"),"OBS"!==r){e.next=21;break}return e.next=17,dt(t,"".concat(n,"_obs"),h,m,o,u);case 17:l=e.sent,g("Checked ".concat(n," OBS repo from ").concat(t)),e.next=118;break;case 21:e.prev=21,x=Y(r),k=z(r),e.next=34;break;case 26:if(e.prev=26,e.t0=e.catch(21),!Z(r)){e.next=32;break}k="other",e.next=34;break;case 32:return b({priority:902,message:"Bad function call: should be given a valid book abbreviation",extract:r,location:" (not '".concat(r,"')").concat(m)}),e.abrupt("return",l);case 34:T=u&&u.getFile?u.getFile:_e,w=0,C=[],O=new Set,N=0,S=[],I="old"===k?"UHB":"UGNT",L=u&&u.checkRepos?u.checkRepos:[I,"LT","ST","TN","TQ"],F=Object(oe.a)(L),e.prev=39,F.s();case 41:if((D=F.n()).done){e.next=105;break}if(j=D.value,P=xe()[n][j],A=P.split("/")[0],E=P.split("/")[1],console.log("checkBookPackage: check ".concat(r," in ").concat(j," (").concat(n," ").concat(r," from ").concat(A,")")),R=" in ".concat(j.toUpperCase()).concat(m),o(a.a.createElement("p",{style:{color:"magenta"}},"Checking ",A," ",n," ",a.a.createElement("b",null,r)," book package in ",a.a.createElement("b",null,j)," (checked ",a.a.createElement("b",null,S.length.toLocaleString()),"/",L.length," repos)\u2026")),M=void 0,"UHB"!==j&&"UGNT"!==j&&"LT"!==j&&"ST"!==j){e.next=55;break}M="".concat(x,".usfm"),O.add("usfm"),e.next=69;break;case 55:if("TN"!==j){e.next=69;break}return e.prev=56,e.next=59,We({username:A,repository:E,branch:h,bookID:r.toLowerCase()});case 59:M=e.sent,l.tsvFileName=M,e.next=67;break;case 63:e.prev=63,e.t1=e.catch(56),console.error("cachedGetBookFilenameFromManifest failed with: ".concat(e.t1)),M="".concat(n,"_tn_").concat(x,".tsv");case 67:console.assert(M.endsWith(".tsv"),"Expected TN filename '".concat(M,"' to end with '.tsv'")),O.add("tsv");case 69:if("TQ"!==j){e.next=82;break}return e.next=72,mt(A,n,E,h,r,u);case 72:U=e.sent,l.successList=l.successList.concat(U.successList),l.noticeList=l.noticeList.concat(U.noticeList),C=C.concat(U.checkedFilenames),O=new Set([].concat(Object(ae.a)(O),Object(ae.a)(U.checkedFilenameExtensions))),w+=U.checkedFileCount,N+=U.totalCheckedSize,S.push(j),e.next=103;break;case 82:return _=void 0,e.prev=83,e.next=86,T({username:A,repository:E,path:M,branch:h});case 86:_=e.sent,C.push(M),N+=_.length,S.push(j),e.next=97;break;case 92:return e.prev=92,e.t2=e.catch(83),console.error("Failed to load",A,E,M,h,e.t2+""),b({priority:996,message:"Failed to load",repoName:E,filename:M,location:"".concat(R,": ").concat(e.t2),extra:j}),e.abrupt("continue",103);case 97:return u.originalLanguageRepoUsername=A,u.taRepoUsername=xe()[n].TA.split("/")[0],e.next=101,y(j,M,_,m,u);case 101:w+=1,g("Checked ".concat(j.toUpperCase()," file: ").concat(M));case 103:e.next=41;break;case 105:e.next=110;break;case 107:e.prev=107,e.t3=e.catch(39),F.e(e.t3);case 110:return e.prev=110,F.f(),e.finish(110);case 113:l.checkedFileCount=w,l.checkedFilenames=C,l.checkedFilenameExtensions=Object(ae.a)(O),l.checkedFilesizes=N,l.checkedRepoNames=S;case 118:return l.elapsedSeconds=(new Date-i)/1e3,console.log("checkBookPackageResult(".concat(r,"): elapsedSeconds = ").concat(l.elapsedSeconds,", notices count = ").concat(l.noticeList.length)),e.abrupt("return",l);case 121:case"end":return e.stop()}}),e,null,[[21,26],[39,107,110,113],[56,63],[83,92]])})))).apply(this,arguments)}var vt=n(5),xt=n(244),kt=n.n(xt),Tt=n(253),wt=n.n(Tt),Ct=n(245),Ot=n.n(Ct),Nt=n(150),St=n.n(Nt),It=n(246),Lt=n.n(It),Ft=n(247),Dt=n.n(Ft),jt=n(249),Pt=n.n(jt),At=n(250),Et=n.n(At),Rt=n(251),Mt=n.n(Rt),Ut=n(254),_t=n.n(Ut),Vt=n(248),Bt=n.n(Vt),zt=n(252),Wt=n.n(zt),Qt=n(255),Gt=n.n(Qt),Jt=n(166),Ht=n.n(Jt),qt=function(e){return e&&e.length<2&&(e="0"+e),e},$t=function(e){if("string"===typeof e){var t=parseInt(e,10);if(!isNaN(t))return t}return NaN},Zt=function(e,t){var n=$t(e),r=$t(t),a=e||"",o=t||"";return isNaN(n)||isNaN(r)?isNaN(n)&&isNaN(r)?a>o?1:a===o?0:-1:isNaN(n)?-1:1:n-r},Yt=function(e,t,n,r,a,o,c,i){var s={title:"Validation Notices"};return s.columns=[{title:"Repo",field:"extra"},{title:"Pri",field:"priority",render:function(e){return c(e.priority)}},{title:"Ch",field:"C",customSort:function(e,t){return function(e,t){var n=Zt(e.C,t.C);return 0===n&&(n=Zt(e.V,t.V)),n}(e,t)}},{title:"Vs",field:"V",customSort:function(e,t){return Zt(e.V,t.V)}},{title:"Line",field:"lineNumber",render:function(e){return a(e.link,e.lineNumber)}},{title:"Row ID",field:"rowID"},{title:"Field Name",field:"fieldName"},{title:"Details",field:"details"},{title:"Char Pos",field:"charPos"},{title:"Excerpt",field:"excerpt",cellStyle:{fontFamily:"Ezra, Roboto, Helvetica, Arial, sans-serif"},render:function(e){return o(e.excerpt)}},{title:"Message",field:"message",cellStyle:{fontFamily:"Ezra, Roboto, Helvetica, Arial, sans-serif",width:"400px"}},{title:"Location",field:"location"}],s.data=[],Object.keys(e).forEach((function(a){var o=e[a],c=o.location;c=c.replace(/en ... book package from unfoldingword/,"");var l=function(e,t,n,r,a,o,c){var i,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"master",l=He(n,e),u="usfm",d="src";try{i=ut.usfmNumberName(r).toUpperCase()}catch(b){}var f=e.toUpperCase();"TN"===f?(d="blame",u="tsv",i=c.tsvFileName?c.tsvFileName.split(".tsv")[0]:"".concat(l,"_").concat(i)):"TQ"===f&&(u="md",i="".concat(r,"/").concat(qt(o.C),"/").concat(qt(o.V)));var p=De(t,l),h=p.username,m=p.repoName;if(["TN","TQ","UHB","UGNT","ULT","UST","LT","ST"].includes(f)){var g="https://git.door43.org/".concat(h,"/").concat(m,"/").concat(d,"/branch/").concat(s,"/").concat(i,".").concat(u);return a&&(g+="#L".concat(a)),g}return console.log("getLink() - could not find link for repo type ".concat(e," for ").concat(n)),null}(o.extra,t,n,r,o.lineNumber,o,i);s.data.push({extra:o.extra,priority:o.priority,C:o.C,V:o.V,lineNumber:o.lineNumber,rowID:o.rowID,charPos:o.characterIndex,excerpt:o.extract,link:l,location:c,message:o.message,fieldName:o.fieldName,details:o.details})})),s.data=s.data.sort((function(e,t){return e.priority>t.priority?-1:1})),s.columns=function(e,t){var n,r=[],a=Object(oe.a)(t);try{for(a.s();!(n=a.n()).done;){var o,c=n.value,i=c.field,s=c.title,l=!1,u=Object(oe.a)(e);try{for(u.s();!(o=u.n()).done;){if(o.value[i]){l=!0;break}}}catch(d){u.e(d)}finally{u.f()}l?r.push(c):console.log('Removing column "'.concat(s,'" because no data found'))}}catch(d){a.e(d)}finally{a.f()}return r}(s.data,s.columns),s.options={sorting:!0,exportButton:!0,exportAllData:!0,columnsButton:!0,filtering:!0,pageSize:10},s},Kt={Add:Object(r.forwardRef)((function(e,t){return a.a.createElement(kt.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return a.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return a.a.createElement(St.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return a.a.createElement(Lt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return a.a.createElement(_.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return a.a.createElement(Dt.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return a.a.createElement(Bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return a.a.createElement(Pt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(Mt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(_.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return a.a.createElement(St.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return a.a.createElement(Wt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return a.a.createElement(wt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return a.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return a.a.createElement(Gt.a,Object.assign({},e,{ref:t}))}))},Xt=function(e){return e>=800?a.a.createElement("p",{style:{color:"red",fontWeight:"bold"}},e):e>=600?a.a.createElement("p",{style:{color:"blue",fontWeight:"bold"}},e):a.a.createElement("p",{style:{color:"green",fontWeight:"bold"}},e)},en=function(e,t){return e?a.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t):t?"".concat(t):""},tn=function(e){if(!e)return"";for(var t,n=new RegExp(/=D(\d+)\/H(\w+)\)/,"g"),r=0,o=[];t=n.exec(e);){t.index>0&&o.push(e.substring(r,t.index));var c=t[0].length,i=t[2];o.push(a.a.createElement("a",{href:"http://www.fileformat.info/info/unicode/char/".concat(i,"/index.htm"),target:"_blank",rel:"noopener noreferrer"},"U+",i)),r=t.index+c-1}return r<e.length&&o.push(e.substring(r,e.length)),a.a.createElement(a.a.Fragment,null," ",o," ")};var nn=Object(vt.a)((function(e){return{root:{}}}))((function(e){var t=e.results,n=e.username,r=e.languageCode,o=e.bookID,c=e.rawData,i=Yt(t,n,r,o,en,tn,Xt,c);return a.a.createElement(b.a,null,a.a.createElement(Ht.a,{icons:Kt,title:i.title,columns:i.columns,data:i.data,options:i.options}))}));var rn=function(e){var t=e.bookID,n=e.username,o=e.language_code,c=Object(r.useState)("Waiting-CheckBookPackage"),i=Object(u.a)(c,2),l=i[0],d=i[1],p={getFile:_e,fetchRepositoryZipFile:tt,getFileListFromZip:rt,taRepoUsername:n};return Object(r.useEffect)((function(){Object(f.a)(s.a.mark((function e(){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,null,"Successfully checked\xa0",e.checkedFileCount.toLocaleString(),"\xa0 files in\xa0",e.elapsedSeconds,"\xa0 seconds"),a.a.createElement(T.a,null,"There were ",e.noticeList.length," notices."))},d(a.a.createElement("p",{style:{color:"red"}},"Waiting for check results for ",n," ",o," ",a.a.createElement("b",null,t)," book package\u2026")),e.next=4,bt(n,o,t,d,p);case 4:(r=e.sent).checkType="BookPackage",r.username=n,r.language_code=o,r.bookID=t,r.checkedOptions=p,d(a.a.createElement(a.a.Fragment,null,c(r),r.noticeList.length?a.a.createElement(nn,{results:r.noticeList,username:n,languageCode:o,bookID:t,rawData:r}):a.a.createElement("br",null)));case 11:case"end":return e.stop()}}),e)})))()}),[]),a.a.createElement("div",null,l)},an=n(6),on=n.n(an),cn=n(440),sn={Add:Object(r.forwardRef)((function(e,t){return a.a.createElement(kt.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return a.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return a.a.createElement(St.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return a.a.createElement(Lt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return a.a.createElement(_.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return a.a.createElement(Dt.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return a.a.createElement(Bt.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return a.a.createElement(Pt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(Mt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(_.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return a.a.createElement(M.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return a.a.createElement(St.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return a.a.createElement(Wt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return a.a.createElement(wt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return a.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return a.a.createElement(Gt.a,Object.assign({},e,{ref:t}))}))};function ln(e){var t=e.results,n=a.a.useState([]),r=Object(u.a)(n,2),o=r[0],c=r[1],i=a.a.createElement(b.a,null,a.a.createElement(Ht.a,{icons:sn,title:"Repo Validation",columns:[{title:"Resource Type",field:"repoType",editable:"never"},{title:"Lang",field:"lang",hidden:!0},{title:"Org",field:"org"},{title:"Repo",field:"repo"},{title:"Message",field:"message",editable:"never",cellStyle:{fontFamily:"Ezra, Roboto, Helvetica, Arial, sans-serif",width:"400px"}}],data:o,options:{pageSize:7},cellEditable:{onCellEditApproved:function(e,n,r,a){return console.log("onCellEditApproved()",e,n,r,a),new Promise((function(n,i){for(var s=o,l=function(n){if(s[n].repoType===r.repoType&&s[n].org===r.org&&s[n].repo===r.repo){"repo"===a.field?s[n].repo=e:"org"===a.field&&(s[n].org=e),function(e,t,n,r){var a=Le(t,e).langRepos;a&&(a[t]="".concat(n,"/").concat(r))}(s[n].lang,s[n].repoType,s[n].org,s[n].repo);return ke(s[n].org,s[n].repo,[],s[n].repoType,s[n].lang).then((function(e){s[n].message=e[0].message,t[n].message=e[0].message,t[n].repository=e[0].repository,t[n].username=e[0].username,c(s)})),"break"}},u=0;u<s.length;u++){if("break"===l(u))break}setTimeout(n,1e3)}))}}}));return Object(cn.a)((function(){for(var e=[],n=0;n<t.length;n++)e.push({repoType:t[n].repoType,lang:t[n].language,org:t[n].username,repo:t[n].repository,message:t[n].message});c(e)}),[t]),i}ln.propTypes={results:on.a.array.isRequired};var un=Object(vt.a)((function(e){return{root:{}}}))(ln),dn={};function fn(){return(fn=Object(f.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("doInitialization()"),t="master",e.next=4,Ge();case 4:return Se("unfoldingword",["TA","TW","TN","TQ","ST","LT"],dn).then((function(){dn.success?console.log("Repo verification - all repos found"):console.error("Repo verification error - could not find these repos:",dn)})),e.next=7,$e("unfoldingword","",t,[],!0);case 7:e.sent||console.log("Failed to pre-load original language repos");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Object(f.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("doLanguageInitialization() username, lang:",t,n),"master",e.next=4,$e(t,n,"master",["TA","TW","TN","TQ"],!1,!0);case 4:e.sent||console.log("Failed to pre-load all repos");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mn=Object(h.a)((function(e){return Object(m.a)({root:{width:"100%",flexGrow:1,display:"flex"},menuButton:{marginRight:e.spacing(2)},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},formControl:{margin:e.spacing(3)},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(d.a)(Object(d.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},alignItemsAndJustifyContent:{display:"flex",alignItems:"center",justifyContent:"center"},offset:Object(d.a)({},e.mixins.toolbar)})}));var gn=!1;function bn(){var e=a.a.useState(Object(d.a)({},G())),t=Object(u.a)(e,2),n=t[0],r=t[1],o=a.a.useState(0),c=Object(u.a)(o,2),i=c[0],s=c[1],f=a.a.useState(new Set),h=Object(u.a)(f,2),m=h[0],j=h[1],R=a.a.useState("unfoldingword"),U=Object(u.a)(R,2),V=U[0],B=U[1],z=a.a.useState("en"),q=Object(u.a)(z,2),$=q[0],Z=q[1],Y=a.a.useState(a.a.createElement(K.a,null)),ae=Object(u.a)(Y,2),oe=ae[0],ce=ae[1];a.a.useEffect((function(){1===i&&ce(dn.finished?a.a.createElement(un,{results:dn[$].errors}):a.a.createElement(K.a,null))}),[$,i]);var ie=["Select Organization and Language","Repo Validation","Select Books","Content Validation Details"],se=function(e){return m.has(e)},le=function(){var e=m;se(i)&&(e=new Set(e.values())).delete(i),0===i&&pn(V,$),1===i&&pn(V,$),s((function(e){return e+1})),j(e)},ue=function(){var e=window.location.search;return new URLSearchParams(e)}();if(0===i&&!1===gn){!function(){fn.apply(this,arguments)}(),gn=!0;var de=ue.get("books");if(null!==de){for(var fe=de.split(","),pe=[],he=0;he<fe.length;he++){var me=H(fe[he]);if(""===me){alert("Invalid Book Id:"+fe[he]);break}pe.push(me)}for(var ge=0;ge<pe.length;ge++){var be=pe[ge];console.log("name:",be),n[be][0]=!0,n[be][1]=!1;var ye=[];ye[0]=!0,ye[1]=!1}le()}}var ve=mn(),xe=Object(g.a)(),ke=a.a.useState(!1),Te=Object(u.a)(ke,2),we=Te[0],Ce=Te[1],Oe=function(e){return function(t){var a=[];a[0]=t.target.checked,a[1]=!1,r(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},e,a)))}};return a.a.createElement("div",{className:ve.root},a.a.createElement(X.a,null),a.a.createElement(L.a,{position:"fixed",className:Object(p.a)(ve.appBar,Object(l.a)({},ve.appBarShift,we))},a.a.createElement(F.a,null,a.a.createElement(D.a,{color:"inherit","aria-label":"open drawer",onClick:function(){Ce(!0)},edge:"start",className:Object(p.a)(ve.menuButton,we&&ve.hide)},a.a.createElement(P.a,null)),a.a.createElement(T.a,{variant:"h6",className:ve.title},"Book Package Content Validation"))),a.a.createElement(A.a,{className:ve.drawer,variant:"persistent",anchor:"left",open:we,classes:{paper:ve.drawerPaper}},a.a.createElement("div",{className:ve.drawerHeader},a.a.createElement(D.a,{onClick:function(){Ce(!1)}},"ltr"===xe.direction?a.a.createElement(M.a,null):a.a.createElement(_.a,null))),a.a.createElement(E.a,null),a.a.createElement(T.a,null,"Nothing here to see!"),a.a.createElement(E.a,null)),a.a.createElement(b.a,null,a.a.createElement(T.a,null," ",a.a.createElement("br",null)," ",a.a.createElement("br",null)," "),a.a.createElement(y.a,{activeStep:i},ie.map((function(e,t){var n={},r={};return se(t)&&(n.completed=!1),a.a.createElement(v.a,Object.assign({key:e},n),a.a.createElement(x.a,r,e))}))),a.a.createElement(ee.a,null,a.a.createElement("div",{className:ve.alignItemsAndJustifyContent},a.a.createElement(T.a,{className:ve.instructions},function(e){switch(e){case 0:return"Select Organization and Language";case 1:return"Repo Validation";case 2:return"Select books, then click Next to generate book package details";case 3:return"Content Validation Results";default:return"Unknown step"}}(i))),a.a.createElement("div",{className:ve.alignItemsAndJustifyContent},a.a.createElement(k.a,{disabled:0===i,onClick:function(){s((function(e){return e-1}))},color:"primary",variant:"contained",className:ve.button},"Back"),!1,a.a.createElement(k.a,{disabled:3===i,variant:"contained",color:"primary",onClick:le,className:ve.button},"Next")),a.a.createElement("div",{className:ve.alignItemsAndJustifyContent},0===i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(b.a,null,a.a.createElement(C.a,{component:"fieldset"},a.a.createElement(w.a,{component:"legend"},"Languages"),a.a.createElement(te.a,{"aria-label":"orgLang",name:"orgLang",value:$,onChange:function(e){var t=e.target.value,n="unfoldingword",r="en";"ru"===t?(n="ru_gl",r="ru"):"hi"===t?(n="translationCore-Create-BCS",r="hi"):"kn"===t?(n="translationCore-Create-BCS",r="kn"):"es-419"===t&&(n="Es-419_gl",r="es-419"),B(n),Z(r)}},a.a.createElement(N.a,{value:"en",control:a.a.createElement(ne.a,null),label:"English (unfoldingWord)"}),a.a.createElement(N.a,{value:"ru",control:a.a.createElement(ne.a,null),label:"Russian (ru_gl)"}),a.a.createElement(N.a,{value:"hi",control:a.a.createElement(ne.a,null),label:"Hindi (translationCore-Create-BCS)"}),a.a.createElement(N.a,{value:"kn",control:a.a.createElement(ne.a,null),label:"Kannada (translationCore-Create-BCS)"}),a.a.createElement(N.a,{value:"es-419",control:a.a.createElement(ne.a,null),label:"Latin-American Spanish (Es-419_gl)"})))))),1===i&&a.a.createElement(b.a,null,oe),2===i&&a.a.createElement(re.a,{container:!0,spacing:3},a.a.createElement(re.a,{item:!0,xs:6},a.a.createElement(b.a,null,a.a.createElement(T.a,null," ",a.a.createElement("br",null)," "),a.a.createElement("div",null,a.a.createElement(k.a,{onClick:function(){for(var e=Q(),t=0;t<e.length;t++){n[e[t]][0]=!0,n[e[t]][1]=!1;var a=e[t],o=[];o[0]=!0,o[1]=!1,r(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},a,o)))}},color:"primary",variant:"contained",className:ve.button},"Select All"),a.a.createElement(k.a,{onClick:function(){for(var e=Q(),t=0;t<e.length;t++){n[e[t]][0]=!1,n[e[t]][1]=!1;var a=e[t],o=[];o[0]=!1,o[1]=!1,r(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},a,o)))}},color:"primary",variant:"contained",className:ve.button},"Select None")),a.a.createElement(C.a,{required:!0,component:"fieldset",className:ve.formControl},a.a.createElement(w.a,{component:"legend"},"Old Testament"),a.a.createElement(O.a,null,Q().map((function(e){return a.a.createElement(N.a,{control:a.a.createElement(I.a,{checked:n[e][0],onChange:Oe(e),value:e}),label:e,key:e})}))),a.a.createElement(S.a,null)))),a.a.createElement(re.a,{item:!0,xs:6},a.a.createElement(b.a,null,a.a.createElement(T.a,null," ",a.a.createElement("br",null)," "),a.a.createElement("div",null,a.a.createElement(k.a,{onClick:function(){for(var e=W(),t=0;t<e.length;t++){n[e[t]][0]=!0,n[e[t]][1]=!1;var a=e[t],o=[];o[0]=!0,o[1]=!1,r(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},a,o)))}},color:"primary",variant:"contained",className:ve.button},"Select All"),a.a.createElement(k.a,{onClick:function(){for(var e=W(),t=0;t<e.length;t++){n[e[t]][0]=!1,n[e[t]][1]=!1;var a=e[t],o=[];o[0]=!1,o[1]=!1,r(Object(d.a)(Object(d.a)({},n),{},Object(l.a)({},a,o)))}},color:"primary",variant:"contained",className:ve.button},"Select None")),a.a.createElement(C.a,{required:!0,component:"fieldset",className:ve.formControl},a.a.createElement(w.a,{component:"legend"},"New Testament"),a.a.createElement(O.a,null,W().map((function(e){return a.a.createElement(N.a,{control:a.a.createElement(I.a,{checked:n[e][0],onChange:Oe(e),value:e}),label:e,key:e})}))),a.a.createElement(S.a,null))))),3===i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(b.a,null,function(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)e[t[r]][0]&&n.push(J(t[r]));return n}(n).map((function(e){return a.a.createElement("div",{id:e},a.a.createElement(T.a,{variant:"h6"},"Book Package for ",H(e)," "),a.a.createElement(rn,{bookID:e,key:e,username:V,language_code:$}))})))))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(660);c.a.render(a.a.createElement(bn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnglishBookName=function(e){return r[e.toLowerCase()].title},t.isGoodEnglishBookName=function(e){var t=[],n=e.toLowerCase();for(var a in r){var o=r[a].title;if(o===e)return!0;var c=o.toLowerCase();if(c===n)return 1;c.startsWith(n)&&t.push(o)}return 1===t.length&&2},t.isOftenMissing=function(e,t,n){return void 0!==a.find((function(r){return r[0]===e&&r[1]===t&&r[2]===n}))},t.testament=t.versesInChapter=t.chaptersInBook=t.usfmNumberName=t.isExtraBookID=t.isOptionalValidBookID=t.isValidBookID=t.BibleBookData=void 0;var r={gen:{id:"gen",title:"Genesis",usfm:"01-GEN",testament:"old",verseCount:1533,chapters:[31,25,24,26,32,22,24,22,29,32,32,20,18,24,21,16,27,33,38,18,34,24,20,67,34,35,46,22,35,43,55,32,20,31,29,43,36,30,23,23,57,38,34,34,28,34,31,22,33,26]},exo:{id:"exo",title:"Exodus",usfm:"02-EXO",testament:"old",verseCount:1213,chapters:[22,25,22,31,23,30,25,32,35,29,10,51,22,31,27,36,16,27,25,26,36,31,33,18,40,37,21,43,46,38,18,35,23,35,35,38,29,31,43,38]},lev:{id:"lev",title:"Leviticus",usfm:"03-LEV",testament:"old",verseCount:859,chapters:[17,16,17,35,19,30,38,36,24,20,47,8,59,57,33,34,16,30,37,27,24,33,44,23,55,46,34]},num:{id:"num",title:"Numbers",usfm:"04-NUM",testament:"old",verseCount:1288,chapters:[54,34,51,49,31,27,89,26,23,36,35,16,33,45,41,50,13,32,22,29,35,41,30,25,18,65,23,31,40,16,54,42,56,29,34,13]},deu:{id:"deu",title:"Deuteronomy",usfm:"05-DEU",testament:"old",verseCount:959,chapters:[46,37,29,49,33,25,26,20,29,22,32,32,18,29,23,22,20,22,21,20,23,30,25,22,19,19,26,68,29,20,30,52,29,12]},jos:{id:"jos",title:"Joshua",usfm:"06-JOS",testament:"old",verseCount:658,chapters:[18,24,17,24,15,27,26,35,27,43,23,24,33,15,63,10,18,28,51,9,45,34,16,33]},jdg:{id:"jdg",title:"Judges",usfm:"07-JDG",testament:"old",verseCount:618,chapters:[36,23,31,24,31,40,25,35,57,18,40,15,25,20,20,31,13,31,30,48,25]},rut:{id:"rut",title:"Ruth",usfm:"08-RUT",testament:"old",verseCount:85,chapters:[22,23,18,22]},"1sa":{id:"1sa",title:"1 Samuel",usfm:"09-1SA",testament:"old",verseCount:810,chapters:[28,36,21,22,12,21,17,22,27,27,15,25,23,52,35,23,58,30,24,42,15,23,29,22,44,25,12,25,11,31,13]},"2sa":{id:"2sa",title:"2 Samuel",usfm:"10-2SA",testament:"old",verseCount:695,chapters:[27,32,39,12,25,23,29,18,13,19,27,31,39,33,37,23,29,33,43,26,22,51,39,25]},"1ki":{id:"1ki",title:"1 Kings",usfm:"11-1KI",testament:"old",verseCount:816,chapters:[53,46,28,34,18,38,51,66,28,29,43,33,34,31,34,34,24,46,21,43,29,53]},"2ki":{id:"2ki",title:"2 Kings",usfm:"12-2KI",testament:"old",verseCount:719,chapters:[18,25,27,44,27,33,20,29,37,36,21,21,25,29,38,20,41,37,37,21,26,20,37,20,30]},"1ch":{id:"1ch",title:"1 Chronicles",usfm:"13-1CH",testament:"old",verseCount:942,chapters:[54,55,24,43,26,81,40,40,44,14,47,40,14,17,29,43,27,17,19,8,30,19,32,31,31,32,34,21,30]},"2ch":{id:"2ch",title:"2 Chronicles",usfm:"14-2CH",testament:"old",verseCount:822,chapters:[17,18,17,22,14,42,22,18,31,19,23,16,22,15,19,14,19,34,11,37,20,12,21,27,28,23,9,27,36,27,21,33,25,33,27,23]},ezr:{id:"ezr",title:"Ezra",usfm:"15-EZR",testament:"old",verseCount:280,chapters:[11,70,13,24,17,22,28,36,15,44]},neh:{id:"neh",title:"Nehemiah",usfm:"16-NEH",testament:"old",verseCount:406,chapters:[11,20,32,23,19,19,73,18,38,39,36,47,31]},est:{id:"est",title:"Esther",usfm:"17-EST",testament:"old",verseCount:167,chapters:[22,23,15,17,14,14,10,17,32,3]},job:{id:"job",title:"Job",usfm:"18-JOB",testament:"old",verseCount:1070,chapters:[22,13,26,21,27,30,21,22,35,22,20,25,28,22,35,22,16,21,29,29,34,30,17,25,6,14,23,28,25,31,40,22,33,37,16,33,24,41,30,24,34,17]},psa:{id:"psa",title:"Psalms",usfm:"19-PSA",testament:"old",verseCount:2461,chapters:[6,12,8,8,12,10,17,9,20,18,7,8,6,7,5,11,15,50,14,9,13,31,6,10,22,12,14,9,11,12,24,11,22,22,28,12,40,22,13,17,13,11,5,26,17,11,9,14,20,23,19,9,6,7,23,13,11,11,17,12,8,12,11,10,13,20,7,35,36,5,24,20,28,23,10,12,20,72,13,19,16,8,18,12,13,17,7,18,52,17,16,15,5,23,11,13,12,9,9,5,8,28,22,35,45,48,43,13,31,7,10,10,9,8,18,19,2,29,176,7,8,9,4,8,5,6,5,6,8,8,3,18,3,3,21,26,9,8,24,13,10,7,12,15,21,10,20,14,9,6]},pro:{id:"pro",title:"Proverbs",usfm:"20-PRO",testament:"old",verseCount:915,chapters:[33,22,35,27,23,35,27,36,18,32,31,28,25,35,33,33,28,24,29,30,31,29,35,34,28,28,27,28,27,33,31]},ecc:{id:"ecc",title:"Ecclesiastes",usfm:"21-ECC",testament:"old",verseCount:222,chapters:[18,26,22,16,20,12,29,17,18,20,10,14]},sng:{id:"sng",title:"Song of Songs",usfm:"22-SNG",testament:"old",verseCount:117,chapters:[17,17,11,16,16,13,13,14]},isa:{id:"isa",title:"Isaiah",usfm:"23-ISA",testament:"old",verseCount:1292,chapters:[31,22,26,6,30,13,25,22,21,34,16,6,22,32,9,14,14,7,25,6,17,25,18,23,12,21,13,29,24,33,9,20,24,17,10,22,38,22,8,31,29,25,28,28,25,13,15,22,26,11,23,15,12,17,13,12,21,14,21,22,11,12,19,12,25,24]},jer:{id:"jer",title:"Jeremiah",usfm:"24-JER",testament:"old",verseCount:1364,chapters:[19,37,25,31,31,30,34,22,26,25,23,17,27,22,21,21,27,23,15,18,14,30,40,10,38,24,22,17,32,24,40,44,26,22,19,32,21,28,18,16,18,22,13,30,5,28,7,47,39,46,64,34]},lam:{id:"lam",title:"Lamentations",usfm:"25-LAM",testament:"old",verseCount:154,chapters:[22,22,66,22,22]},ezk:{id:"ezk",title:"Ezekiel",usfm:"26-EZK",testament:"old",verseCount:1273,chapters:[28,10,27,17,17,14,27,18,11,22,25,28,23,23,8,63,24,32,14,49,32,31,49,27,17,21,36,26,21,26,18,32,33,31,15,38,28,23,29,49,26,20,27,31,25,24,23,35]},dan:{id:"dan",title:"Daniel",usfm:"27-DAN",testament:"old",verseCount:357,chapters:[21,49,30,37,31,28,28,27,27,21,45,13]},hos:{id:"hos",title:"Hosea",usfm:"28-HOS",testament:"old",verseCount:197,chapters:[11,23,5,19,15,11,16,14,17,15,12,14,16,9]},jol:{id:"jol",title:"Joel",usfm:"29-JOL",testament:"old",verseCount:73,chapters:[20,32,21]},amo:{id:"amo",title:"Amos",usfm:"30-AMO",testament:"old",verseCount:146,chapters:[15,16,15,13,27,14,17,14,15]},oba:{id:"oba",title:"Obadiah",usfm:"31-OBA",testament:"old",verseCount:21,chapters:[21]},jon:{id:"jon",title:"Jonah",usfm:"32-JON",testament:"old",verseCount:48,chapters:[17,10,10,11]},mic:{id:"mic",title:"Micah",usfm:"33-MIC",testament:"old",verseCount:105,chapters:[16,13,12,13,15,16,20]},nam:{id:"nam",title:"Nahum",usfm:"34-NAM",testament:"old",verseCount:47,chapters:[15,13,19]},hab:{id:"hab",title:"Habakkuk",usfm:"35-HAB",testament:"old",verseCount:56,chapters:[17,20,19]},zep:{id:"zep",title:"Zephaniah",usfm:"36-ZEP",testament:"old",verseCount:53,chapters:[18,15,20]},hag:{id:"hag",title:"Haggai",usfm:"37-HAG",testament:"old",verseCount:38,chapters:[15,23]},zec:{id:"zec",title:"Zechariah",usfm:"38-ZEC",testament:"old",verseCount:211,chapters:[21,13,10,14,11,15,14,23,17,12,17,14,9,21]},mal:{id:"mal",title:"Malachi",usfm:"39-MAL",testament:"old",verseCount:55,chapters:[14,17,18,6]},mat:{id:"mat",title:"Matthew",usfm:"41-MAT",testament:"new",verseCount:1071,chapters:[25,23,17,25,48,34,29,34,38,42,30,50,58,36,39,28,27,35,30,34,46,46,39,51,46,75,66,20]},mrk:{id:"mrk",title:"Mark",usfm:"42-MRK",testament:"new",verseCount:678,chapters:[45,28,35,41,43,56,37,38,50,52,33,44,37,72,47,20]},luk:{id:"luk",title:"Luke",usfm:"43-LUK",testament:"new",verseCount:1151,chapters:[80,52,38,44,39,49,50,56,62,42,54,59,35,35,32,31,37,43,48,47,38,71,56,53]},jhn:{id:"jhn",title:"John",usfm:"44-JHN",testament:"new",verseCount:879,chapters:[51,25,36,54,47,71,53,59,41,42,57,50,38,31,27,33,26,40,42,31,25]},act:{id:"act",title:"Acts",usfm:"45-ACT",testament:"new",verseCount:1007,chapters:[26,47,26,37,42,15,60,40,43,48,30,25,52,28,41,40,34,28,41,38,40,30,35,27,27,32,44,31]},rom:{id:"rom",title:"Romans",usfm:"46-ROM",testament:"new",verseCount:433,chapters:[32,29,31,25,21,23,25,39,33,21,36,21,14,23,33,27]},"1co":{id:"1co",title:"1 Corinthians",usfm:"47-1CO",testament:"new",verseCount:437,chapters:[31,16,23,21,13,20,40,13,27,33,34,31,13,40,58,24]},"2co":{id:"2co",title:"2 Corinthians",usfm:"48-2CO",testament:"new",verseCount:257,chapters:[24,17,18,18,21,18,16,24,15,18,33,21,14]},gal:{id:"gal",title:"Galations",usfm:"49-GAL",testament:"new",verseCount:149,chapters:[24,21,29,31,26,18]},eph:{id:"eph",title:"Ephesians",usfm:"50-EPH",testament:"new",verseCount:155,chapters:[23,22,21,32,33,24]},php:{id:"php",title:"Phillipians",usfm:"51-PHP",testament:"new",verseCount:104,chapters:[30,30,21,23]},col:{id:"col",title:"Colossians",usfm:"52-COL",testament:"new",verseCount:95,chapters:[29,23,25,18]},"1th":{id:"1th",title:"1 Thessalonians",usfm:"53-1TH",testament:"new",verseCount:89,chapters:[10,20,13,18,28]},"2th":{id:"2th",title:"2 Thessalonians",usfm:"54-2TH",testament:"new",verseCount:47,chapters:[12,17,18]},"1ti":{id:"1ti",title:"1 Timothy",usfm:"55-1TI",testament:"new",verseCount:113,chapters:[20,15,16,16,25,21]},"2ti":{id:"2ti",title:"2 Timothy",usfm:"56-2TI",testament:"new",verseCount:83,chapters:[18,26,17,22]},tit:{id:"tit",title:"Titus",usfm:"57-TIT",testament:"new",verseCount:46,chapters:[16,15,15]},phm:{id:"phm",title:"Philemon",usfm:"58-PHM",testament:"new",verseCount:25,chapters:[25]},heb:{id:"heb",title:"Hebrews",usfm:"59-HEB",testament:"new",verseCount:303,chapters:[14,18,19,16,14,20,28,13,28,39,40,29,25]},jas:{id:"jas",title:"James",usfm:"60-JAS",testament:"new",verseCount:108,chapters:[27,26,18,17,20]},"1pe":{id:"1pe",title:"1 Peter",usfm:"61-1PE",testament:"new",verseCount:105,chapters:[25,25,22,19,14]},"2pe":{id:"2pe",title:"2 Peter",usfm:"62-2PE",testament:"new",verseCount:61,chapters:[21,22,18]},"1jn":{id:"1jn",title:"1 John",usfm:"63-1JN",testament:"new",verseCount:105,chapters:[10,29,24,21,21]},"2jn":{id:"2jn",title:"2 John",usfm:"64-2JN",testament:"new",verseCount:13,chapters:[13]},"3jn":{id:"3jn",title:"3 John",usfm:"65-3JN",testament:"new",verseCount:15,chapters:[15]},jud:{id:"jud",title:"Jude",usfm:"66-JUD",testament:"new",verseCount:25,chapters:[25]},rev:{id:"rev",title:"Revelation",usfm:"67-REV",testament:"new",verseCount:404,chapters:[20,29,22,11,14,17,17,13,21,11,19,17,18,20,8,21,18,24,21,15,27,21]}};t.BibleBookData=r;var a=[["NEH",7,68],["MAT",16,3],["MAT",17,21],["MAT",18,11],["MAT",23,14],["MRK",7,16],["MRK",9,44],["MRK",9,46],["MRK",11,26],["MRK",15,28],["MRK",16,9],["MRK",16,10],["MRK",16,11],["MRK",16,12],["MRK",16,13],["MRK",16,14],["MRK",16,15],["MRK",16,16],["MRK",16,17],["MRK",16,18],["MRK",16,19],["MRK",16,20],["LUK",17,36],["LUK",22,43],["LUK",22,44],["LUK",23,17],["JHN",5,3],["JHN",5,4],["JHN",7,53],["JHN",8,1],["ACT",8,37],["ACT",15,34],["ACT",24,6],["ACT",24,7],["ACT",24,8],["ACT",28,29],["ROM",16,24],["2CO",13,14],["1JN",5,7],["1JN",5,8]],o=["FRT","BAK"];t.isValidBookID=function(e){return e.toLowerCase()in r||o.includes(e)};t.isOptionalValidBookID=function(e){return!e||e.toLowerCase()in r||o.includes(e)};t.isExtraBookID=function(e){return o.includes(e)};t.usfmNumberName=function(e){try{return r[e.toLowerCase()].usfm}catch(t){throw new Error("usfmNumberName() given invalid bookId: '".concat(e,"'"))}};var c=function(e){var t;try{t=r[e.toLowerCase()].chapters}catch(n){throw new Error("chaptersInBook() given invalid bookId: '".concat(e,"'"))}if(void 0===t)throw new Error("chaptersInBook(): Invalid bookId: '".concat(e,"'"));return t};t.chaptersInBook=c;t.versesInChapter=function(e,t){var n=c(e)[t-1];if(void 0===n)throw new Error("versesInChapter(".concat(e,") given invalid chapter: ").concat(t));return n};t.testament=function(e){return r[e.toLowerCase()].testament}},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(371);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))}},[[449,1,2]]]);
//# sourceMappingURL=main.fed77f85.chunk.js.map